(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[77429,55378,58789,75014,15071,35957,56023,35333,264,73748],{226501:e=>{var t,o,n,i,s,r,a,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowersModalGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Literal",name:"first",value:50}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},n,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:50)"},{alias:null,args:r,filters:null,handle:"connection",key:"FollowerList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},a],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"7f54b95197a47388f59b7bd84197a9ff",id:null,metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:"query FollowersControllerQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        username\n        followerCount\n        ...FollowersModalGraphQL_user\n        id\n      }\n    }\n  }\n}\n\nfragment FollowersModalGraphQL_user on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: 50) {\n        edges {\n          node {\n            ...UserListItem_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment UserListItem_user on User {\n  entityId\n  explicitlyFollowedByMe\n  fullName\n  id\n  imageMediumUrl\n  username\n}\n"}};l.hash="95a5c8f44373cb886b3ffafcb85ae779",e.exports=l},675600:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},i,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"20e8523ead27d083bd2750554d0ae59d",id:null,metadata:{},name:"FollowersListDuploPaginationQuery",operationKind:"query",text:"query FollowersListDuploPaginationQuery(\n  $count: Int = 10\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ProfileFollowersGraphQL_user_1G22uz\n    id\n  }\n}\n\nfragment ProfileFollowersGraphQL_user_1G22uz on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};r.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=r},510289:(e,t,o)=>{var n,i={argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:["node"],operation:o(961555),identifierField:"id"}},name:"FollowersModalGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowerList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UserListItem_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};i.hash="07da788f519ed2da36ec3add6b94599e",e.exports=i},961555:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersModalPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"FollowersModalGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersModalPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"FollowerList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"0d9b6f231db4b9e7917c3b1117fa6574",id:null,metadata:{},name:"FollowersModalPaginationQuery",operationKind:"query",text:"query FollowersModalPaginationQuery(\n  $count: Int = 50\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...FollowersModalGraphQL_user_1G22uz\n    id\n  }\n}\n\nfragment FollowersModalGraphQL_user_1G22uz on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...UserListItem_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment UserListItem_user on User {\n  entityId\n  explicitlyFollowedByMe\n  fullName\n  id\n  imageMediumUrl\n  username\n}\n"}};r.hash="07da788f519ed2da36ec3add6b94599e",e.exports=r},958045:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:i=[{kind:"Literal",name:"first",value:10}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:10)"},{alias:null,args:i,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"9bfea921a9728aaf9194efb0947c110e",id:null,metadata:{},name:"ProfileFollowersControllerGraphQLDuploQuery",operationKind:"query",text:"query ProfileFollowersControllerGraphQLDuploQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        ...ProfileFollowersGraphQL_user\n        id\n      }\n    }\n  }\n}\n\nfragment ProfileFollowersGraphQL_user on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: 10) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};r.hash="790a1cc582da875dd51867ea26d81354",e.exports=r},44438:(e,t,o)=>{var n,i={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:["node"],operation:o(675600),identifierField:"id"}},name:"ProfileFollowersGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowersList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileUserRepGraphQL_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};i.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=i},382375:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"05a0eab4c4529047294d099977481a89",id:null,metadata:{},name:"ProfileUserRepGraphQLFollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLFollowMutation(\n  $followee: String!\n) {\n  v3FollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3FollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="80ca7b23e17dc132070cd2e1a348eef3",e.exports=r},200722:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"82c4b0892e8ed324c4125f0453209bbe",id:null,metadata:{},name:"ProfileUserRepGraphQLUnfollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLUnfollowMutation(\n  $followee: String!\n) {\n  v3UnfollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3UnfollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="2faed66ab14b45f67a0df0446b21703d",e.exports=r},896355:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQL_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"22d1ebb77d326b5a38c56d478e47ea07"};e.exports=t},811761:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"UserListItemFollowUserMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UserListItemFollowUserMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"0c4d960e4fd0d89e812eeae97b6a0aae",id:null,metadata:{},name:"UserListItemFollowUserMutation",operationKind:"mutation",text:"mutation UserListItemFollowUserMutation(\n  $followee: String!\n) {\n  v3FollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3FollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="b2477a22e1fff6487bd98e65c4fdf8a6",e.exports=r},17495:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"UserListItemUnfollowUserMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UserListItemUnfollowUserMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"cb59122a193001f727b7d7e362b4c8e2",id:null,metadata:{},name:"UserListItemUnfollowUserMutation",operationKind:"mutation",text:"mutation UserListItemUnfollowUserMutation(\n  $followee: String!\n) {\n  v3UnfollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3UnfollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="988b2995dab75b324c1a18737f26ba0c",e.exports=r},126885:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserListItem_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null,hash:"c0b9ba5cef50b985a853ed8c397f1d6e"};e.exports=t},453658:(e,t,o)=>{var n={"./":[106860,9],"./CZ":[590685,9,90685],"./CZ.js":[590685,9,90685],"./DA":[237534,9,37534],"./DA.js":[237534,9,37534],"./DE":[159788,9,59788],"./DE.js":[159788,9,59788],"./ENUK":[199555,9,99555],"./ENUK.js":[199555,9,99555],"./ENUS":[326380,9,26380],"./ENUS.js":[326380,9,26380],"./ESAR":[874795,9,74795],"./ESAR.js":[874795,9,74795],"./ESES":[315152,9,15152],"./ESES.js":[315152,9,15152],"./ESMX":[591787,9,91787],"./ESMX.js":[591787,9,91787],"./FI":[684204,9,84204],"./FI.js":[684204,9,84204],"./FR":[197400,9,97400],"./FR.js":[197400,9,97400],"./GR":[938439,9,38439],"./GR.js":[938439,9,38439],"./HI":[144014,9,44014],"./HI.js":[144014,9,44014],"./HU":[843479,9,43479],"./HU.js":[843479,9,43479],"./ID":[111450,9,19798],"./ID.js":[111450,9,19798],"./IT":[259916,9,59916],"./IT.js":[259916,9,59916],"./JP":[65083,9,65083],"./JP.js":[65083,9,65083],"./KR":[576525,9,76525],"./KR.js":[576525,9,76525],"./MS":[347840,9,47840],"./MS.js":[347840,9,47840],"./NL":[689761,9,89761],"./NL.js":[689761,9,89761],"./NO":[693952,9,93952],"./NO.js":[693952,9,93952],"./PL":[383843,9,83843],"./PL.js":[383843,9,83843],"./PTBR":[735826,9,35826],"./PTBR.js":[735826,9,35826],"./PTPT":[578882,9,78882],"./PTPT.js":[578882,9,78882],"./RO":[840316,9,40316],"./RO.js":[840316,9,40316],"./RU":[257367,9,57367],"./RU.js":[257367,9,57367],"./SK":[636295,9,36295],"./SK.js":[636295,9,36295],"./SV":[921501,9,21501],"./SV.js":[921501,9,21501],"./TH":[641767,9,41767],"./TH.js":[641767,9,41767],"./TL":[928578,9,28578],"./TL.js":[928578,9,28578],"./TR":[391953,9,91953],"./TR.js":[391953,9,91953],"./UA":[176010,9,76010],"./UA.js":[176010,9,76010],"./VT":[96894,9,96894],"./VT.js":[96894,9,96894],"./ZHCN":[982436,9,82436],"./ZHCN.js":[982436,9,82436],"./ZHTW":[229518,9,29518],"./ZHTW.js":[229518,9,29518],"./index":[106860,9],"./index.js":[106860,9],"./localeToFilename":[161087,9],"./localeToFilename.js":[161087,9],"./types":[927431,7,27431],"./types.js":[927431,7,27431]};function i(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(2).map(o.e)).then((()=>o.t(i,16|t[1])))}i.keys=()=>Object.keys(n),i.id=453658,e.exports=i},263116:(e,t,o)=>{o.d(t,{ZP:()=>j,TA:()=>E});var n=o(667294);function i(e,t){if(null==e)return{};var o,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=o(659864),l=o(108679),c=o.n(l);function d(e,t){if(!e){var o=new Error("loadable: "+t);throw o.framesToPop=1,o.name="Invariant Violation",o}}function u(e){console.warn("loadable: "+e)}var _=n.createContext();function h(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var p={initialChunks:{}},m="PENDING",g="REJECTED";var f=function(e){return e};function x(e){var t=e.defaultResolveComponent,o=void 0===t?f:t,l=e.render,u=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),f={};function x(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function b(e,n,i){var s=t.resolveComponent?t.resolveComponent(e,n):o(e);if(t.resolveComponent&&!(0,a.isValidElementType)(s))throw new Error("resolveComponent returned something that is not a React component!");return c()(i,s,{preload:!0}),s}var v,y=function(e){var o,n;function a(o){var n;return(n=e.call(this,o)||this).state={result:null,error:null,loading:!0,cacheKey:x(o)},d(!o.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),o.__chunkExtractor?(!1===t.ssr||(h.requireAsync(o).catch((function(){return null})),n.loadSync(),o.__chunkExtractor.addChunk(h.chunkName(o))),r(n)):(!1!==t.ssr&&(h.isReady&&h.isReady(o)||h.chunkName&&p.initialChunks[h.chunkName(o)])&&n.loadSync(),n)}n=e,(o=a).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,a.getDerivedStateFromProps=function(e,t){var o=x(e);return s({},t,{cacheKey:o,loading:t.loading||t.cacheKey!==o})};var c=a.prototype;return c.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},c.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},c.componentWillUnmount=function(){this.mounted=!1},c.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},c.getCacheKey=function(){return x(this.props)},c.getCache=function(){return f[this.getCacheKey()]},c.setCache=function(e){void 0===e&&(e=void 0),f[this.getCacheKey()]=e},c.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},c.loadSync=function(){if(this.state.loading)try{var e=b(h.requireSync(this.props),this.props,w);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},c.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var o=b(t,e.props,{Loadable:w});e.safeSetState({result:o,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},c.resolveAsync=function(){var e=this,t=this.props,o=(t.__chunkExtractor,t.forwardedRef,i(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=h.requireAsync(o)).status=m,this.setCache(n),n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),n.status=g}))),n},c.render=function(){var e=this.props,o=e.forwardedRef,n=e.fallback,r=(e.__chunkExtractor,i(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,c=a.error,d=a.loading,u=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===m)throw this.loadAsync();if(c)throw c;var _=n||t.fallback||null;return d?_:l({fallback:_,result:u,options:t,props:s({},r,{ref:o})})},a}(n.Component),P=(v=y,function(e){return n.createElement(_.Consumer,null,(function(t){return n.createElement(v,Object.assign({__chunkExtractor:t},e))}))}),w=n.forwardRef((function(e,t){return n.createElement(P,Object.assign({forwardedRef:t},e))}));return w.preload=function(e){h.requireAsync(e)},w.load=function(e){return h.requireAsync(e)},w}return{loadable:h,lazy:function(e,t){return h(e,s({},t,{suspense:!0}))}}}var b=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,o=e.props;return n.createElement(t,o)}}),v=b.loadable,y=b.lazy,P=x({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,o=e.props;return o.children?o.children(t):null}}),w=P.loadable,A=P.lazy,C="undefined"!=typeof window;function E(e,t){void 0===e&&(e=function(){});var o=(void 0===t?{}:t).namespace,n=void 0===o?"":o;if(!C)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(C){var s=h(n),r=document.getElementById(s);if(r){i=JSON.parse(r.textContent);var a=document.getElementById(s+"_ext");if(!a)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(a.textContent).namedChunks.forEach((function(e){p.initialChunks[e]=!0}))}}if(!i)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,o=t.push.bind(t);function n(){i.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){o.apply(void 0,arguments),n()},n()})).then(e)}var T=v;T.lib=w,y.lib=A;const j=T},701305:e=>{var t=[],o=[];function n(e,t,o,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var s=Object.prototype.toString,r=s.call(e);if(r!=s.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var a=o.length;a--;)if(o[a]==e)return i[a]==t;o.push(e),i.push(t);var l=0;if("[object Array]"===r){if((l=e.length)!==t.length)return!1;for(;l--;)if(!n(e[l],t[l],o,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!n(e[c[d]],t[c[d]],o,i))return!1}return o.pop(),i.pop(),!0}e.exports=function(e,i){var s=t.length?t.pop():[],r=o.length?o.pop():[],a=n(e,i,s,r);return s.length=0,r.length=0,t.push(s),o.push(r),a}},60139:e=>{function t(e){return function(){return e}}var o=function(){};o.thatReturns=t,o.thatReturnsFalse=t(!1),o.thatReturnsTrue=t(!0),o.thatReturnsNull=t(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},663620:(e,t,o)=>{var n=o(60139);e.exports=n},968337:(e,t,o)=>{function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(o){e[o]=t[o]}))})),e}function i(e){return Object.prototype.toString.call(e)}function s(e){return"[object Function]"===i(e)}function r(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,o){var n=e.slice(t);return o.re.http||(o.re.http=new RegExp("^\\/\\/"+o.re.src_auth+o.re.src_host_port_strict+o.re.src_path,"i")),o.re.http.test(n)?n.match(o.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,o){var n=e.slice(t);return o.re.no_http||(o.re.no_http=new RegExp("^"+o.re.src_auth+"(?:localhost|(?:(?:"+o.re.src_domain+")\\.)+"+o.re.src_domain_root+")"+o.re.src_port+o.re.src_host_terminator+o.re.src_path,"i")),o.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(o.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,o){var n=e.slice(t);return o.re.mailto||(o.re.mailto=new RegExp("^"+o.re.src_email_name+"@"+o.re.src_host_strict,"i")),o.re.mailto.test(n)?n.match(o.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=o(136066)(e.__opts__),n=e.__tlds__.slice();function a(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var l=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var o=e.__schemas__[t];if(null!==o){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===i(o))return!function(e){return"[object RegExp]"===i(e)}(o.validate)?s(o.validate)?n.validate=o.validate:c(t,o):n.validate=function(e){return function(t,o){var n=t.slice(o);return e.test(n)?n.match(e)[0].length:0}}(o.validate),void(s(o.normalize)?n.normalize=o.normalize:o.normalize?c(t,o):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(o)?c(t,o):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(r).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var o=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(o,n);this.schema=e.__schema__.toLowerCase(),this.index=o+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function _(e,t){var o=new u(e,t);return e.__compiled__[o.schema].normalize(o,e),o}function h(e,t){if(!(this instanceof h))return new h(e,t);var o;t||(o=e,Object.keys(o||{}).reduce((function(e,t){return e||a.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},a,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},l,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,o,n,i,s,r,a,l;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(s=o.index+o[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=o.index+o[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(s=n.index+n[1].length,r=n.index+n[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=r)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,o,this):0},h.prototype.match=function(e){var t=0,o=[];this.__index__>=0&&this.__text_cache__===e&&(o.push(_(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)o.push(_(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return o.length?o:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,o){return e!==o[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},136066:(e,t,o)=>{e.exports=function(e){var t={};t.src_Any=o(329369).source,t.src_Cc=o(499413).source,t.src_Z=o(335045).source,t.src_P=o(373189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},288668:(e,t,o)=>{var n=o(883369),i=o(90619),s=o(572385);function r(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}r.prototype.add=r.prototype.push=i,r.prototype.has=s,e.exports=r},477412:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n&&!1!==t(e[o],o,e););return e}},234963:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=0,s=[];++o<n;){var r=e[o];t(r,o,e)&&(s[i++]=r)}return s}},829932:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=Array(n);++o<n;)i[o]=t(e[o],o,e);return i}},862488:e=>{e.exports=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e}},282908:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},744037:(e,t,o)=>{var n=o(698363),i=o(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},163886:(e,t,o)=>{var n=o(698363),i=o(481704);e.exports=function(e,t){return e&&n(t,i(t),e)}},285990:(e,t,o)=>{var n=o(646384),i=o(477412),s=o(234865),r=o(744037),a=o(163886),l=o(364626),c=o(200278),d=o(318805),u=o(201911),_=o(458234),h=o(946904),p=o(664160),m=o(43824),g=o(529148),f=o(738517),x=o(701469),b=o(644144),v=o(356688),y=o(513218),P=o(472928),w=o(3674),A=o(481704),C="[object Arguments]",E="[object Function]",T="[object Object]",j={};j[C]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[T]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[E]=j["[object WeakMap]"]=!1,e.exports=function e(t,o,I,S,z,k){var D,R=1&o,O=2&o,L=4&o;if(I&&(D=z?I(t,S,z,k):I(t)),void 0!==D)return D;if(!y(t))return t;var F=x(t);if(F){if(D=m(t),!R)return c(t,D)}else{var M=p(t),N=M==E||"[object GeneratorFunction]"==M;if(b(t))return l(t,R);if(M==T||M==C||N&&!z){if(D=O||N?{}:f(t),!R)return O?u(t,a(D,t)):d(t,r(D,t))}else{if(!j[M])return z?t:{};D=g(t,M,R)}}k||(k=new n);var B=k.get(t);if(B)return B;k.set(t,D),P(t)?t.forEach((function(n){D.add(e(n,o,I,n,t,k))})):v(t)&&t.forEach((function(n,i){D.set(i,e(n,o,I,i,t,k))}));var U=F?void 0:(L?O?h:_:O?A:w)(t);return i(U||t,(function(n,i){U&&(n=t[i=n]),s(D,i,e(n,o,I,i,t,k))})),D}},121078:(e,t,o)=>{var n=o(862488),i=o(137285);e.exports=function e(t,o,s,r,a){var l=-1,c=t.length;for(s||(s=i),a||(a=[]);++l<c;){var d=t[l];o>0&&s(d)?o>1?e(d,o-1,s,r,a):n(a,d):r||(a[a.length]=d)}return a}},297786:(e,t,o)=>{var n=o(671811),i=o(240327);e.exports=function(e,t){for(var o=0,s=(t=n(t,e)).length;null!=e&&o<s;)e=e[i(t[o++])];return o&&o==s?e:void 0}},868866:(e,t,o)=>{var n=o(862488),i=o(701469);e.exports=function(e,t,o){var s=t(e);return i(e)?s:n(s,o(e))}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},690939:(e,t,o)=>{var n=o(902492),i=o(637005);e.exports=function e(t,o,s,r,a){return t===o||(null==t||null==o||!i(t)&&!i(o)?t!=t&&o!=o:n(t,o,s,r,e,a))}},902492:(e,t,o)=>{var n=o(646384),i=o(967114),s=o(518351),r=o(916096),a=o(664160),l=o(701469),c=o(644144),d=o(936719),u="[object Arguments]",_="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,m,g,f){var x=l(e),b=l(t),v=x?_:a(e),y=b?_:a(t),P=(v=v==u?h:v)==h,w=(y=y==u?h:y)==h,A=v==y;if(A&&c(e)){if(!c(t))return!1;x=!0,P=!1}if(A&&!P)return f||(f=new n),x||d(e)?i(e,t,o,m,g,f):s(e,t,v,o,m,g,f);if(!(1&o)){var C=P&&p.call(e,"__wrapped__"),E=w&&p.call(t,"__wrapped__");if(C||E){var T=C?e.value():e,j=E?t.value():t;return f||(f=new n),g(T,j,o,m,f)}}return!!A&&(f||(f=new n),r(e,t,o,m,g,f))}},225588:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},829221:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},325970:(e,t,o)=>{var n=o(863012),i=o(379095);e.exports=function(e,t){return n(e,t,(function(t,o){return i(e,o)}))}},863012:(e,t,o)=>{var n=o(297786),i=o(10611),s=o(671811);e.exports=function(e,t,o){for(var r=-1,a=t.length,l={};++r<a;){var c=t[r],d=n(e,c);o(d,c)&&i(l,s(c,e),d)}return l}},10611:(e,t,o)=>{var n=o(234865),i=o(671811),s=o(565776),r=o(513218),a=o(240327);e.exports=function(e,t,o,l){if(!r(e))return e;for(var c=-1,d=(t=i(t,e)).length,u=d-1,_=e;null!=_&&++c<d;){var h=a(t[c]),p=o;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=u){var m=_[h];void 0===(p=l?l(m,h,_):void 0)&&(p=r(m)?m:s(t[c+1])?[]:{})}n(_,h,p),_=_[h]}return e}},880531:(e,t,o)=>{var n=o(562705),i=o(829932),s=o(701469),r=o(733448),a=n?n.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(r(t))return l?l.call(t):"";var o=t+"";return"0"==o&&1/t==-Infinity?"-0":o}},274757:e=>{e.exports=function(e,t){return e.has(t)}},671811:(e,t,o)=>{var n=o(701469),i=o(115403),s=o(555514),r=o(479833);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:s(r(e))}},257157:(e,t,o)=>{var n=o(274318);e.exports=function(e,t){var o=t?n(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var o=new e.constructor(e.source,t.exec(e));return o.lastIndex=e.lastIndex,o}},540419:(e,t,o)=>{var n=o(562705),i=n?n.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},318805:(e,t,o)=>{var n=o(698363),i=o(799551);e.exports=function(e,t){return n(e,i(e),t)}},201911:(e,t,o)=>{var n=o(698363),i=o(151442);e.exports=function(e,t){return n(e,i(e),t)}},967114:(e,t,o)=>{var n=o(288668),i=o(282908),s=o(274757);e.exports=function(e,t,o,r,a,l){var c=1&o,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var _=l.get(e),h=l.get(t);if(_&&h)return _==t&&h==e;var p=-1,m=!0,g=2&o?new n:void 0;for(l.set(e,t),l.set(t,e);++p<d;){var f=e[p],x=t[p];if(r)var b=c?r(x,f,p,t,e,l):r(f,x,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!s(g,t)&&(f===e||a(f,e,o,r,l)))return g.push(t)}))){m=!1;break}}else if(f!==x&&!a(f,x,o,r,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},518351:(e,t,o)=>{var n=o(562705),i=o(611149),s=o(977813),r=o(967114),a=o(668776),l=o(321814),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,o,n,c,u,_){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var p=1&n;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=_.get(e);if(m)return m==t;n|=2,_.set(e,t);var g=r(h(e),h(t),n,c,u,_);return _.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,o)=>{var n=o(458234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,s,r,a){var l=1&o,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var _=c[u];if(!(l?_ in t:i.call(t,_)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++u<d;){var f=e[_=c[u]],x=t[_];if(s)var b=l?s(x,f,_,t,e,a):s(f,x,_,e,t,a);if(!(void 0===b?f===x||r(f,x,o,s,a):b)){m=!1;break}g||(g="constructor"==_)}if(m&&!g){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(m=!1)}return a.delete(e),a.delete(t),m}},499021:(e,t,o)=>{var n=o(385564),i=o(545357),s=o(430061);e.exports=function(e){return s(i(e,void 0,n),e+"")}},458234:(e,t,o)=>{var n=o(868866),i=o(799551),s=o(3674);e.exports=function(e){return n(e,s,i)}},946904:(e,t,o)=>{var n=o(868866),i=o(151442),s=o(481704);e.exports=function(e){return n(e,s,i)}},799551:(e,t,o)=>{var n=o(234963),i=o(770479),s=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,a=r?function(e){return null==e?[]:(e=Object(e),n(r(e),(function(t){return s.call(e,t)})))}:i;e.exports=a},151442:(e,t,o)=>{var n=o(862488),i=o(385924),s=o(799551),r=o(770479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,s(e)),e=i(e);return t}:r;e.exports=a},900222:(e,t,o)=>{var n=o(671811),i=o(135694),s=o(701469),r=o(565776),a=o(541780),l=o(240327);e.exports=function(e,t,o){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var _=l(t[c]);if(!(u=null!=e&&o(e,_)))break;e=e[_]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&a(d)&&r(_,d)&&(s(e)||i(e))}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var o=e.length,n=new e.constructor(o);return o&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,t,o)=>{var n=o(274318),i=o(257157),s=o(593147),r=o(540419),a=o(477133);e.exports=function(e,t,o){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,o);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Set]":return new l;case"[object Symbol]":return r(e)}}},137285:(e,t,o)=>{var n=o(562705),i=o(135694),s=o(701469),r=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(r&&e&&e[r])}},115403:(e,t,o)=>{var n=o(701469),i=o(733448),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!i(e))||(r.test(e)||!s.test(e)||null!=t&&e in Object(t))}},668776:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},624523:(e,t,o)=>{var n=o(288306);e.exports=function(e){var t=n(e,(function(e){return 500===o.size&&o.clear(),e})),o=t.cache;return t}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},555514:(e,t,o)=>{var n=o(624523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,r=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,o,n,i){t.push(n?i.replace(s,"$1"):o||e)})),t}));e.exports=r},240327:(e,t,o)=>{var n=o(733448);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},150361:(e,t,o)=>{var n=o(285990);e.exports=function(e){return n(e,5)}},227361:(e,t,o)=>{var n=o(297786);e.exports=function(e,t,o){var i=null==e?void 0:n(e,t);return void 0===i?o:i}},379095:(e,t,o)=>{var n=o(200013),i=o(900222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},618446:(e,t,o)=>{var n=o(690939);e.exports=function(e,t){return n(e,t)}},356688:(e,t,o)=>{var n=o(225588),i=o(307518),s=o(531167),r=s&&s.isMap,a=r?i(r):n;e.exports=a},472928:(e,t,o)=>{var n=o(829221),i=o(307518),s=o(531167),r=s&&s.isSet,a=r?i(r):n;e.exports=a},3674:(e,t,o)=>{var n=o(14636),i=o(400280),s=o(498612);e.exports=function(e){return s(e)?n(e):i(e)}},288306:(e,t,o)=>{var n=o(883369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=o.cache;if(s.has(i))return s.get(i);var r=e.apply(this,n);return o.cache=s.set(i,r)||s,r};return o.cache=new(i.Cache||n),o}i.Cache=n,e.exports=i},478718:(e,t,o)=>{var n=o(325970),i=o(499021)((function(e,t){return null==e?{}:n(e,t)}));e.exports=i},770479:e=>{e.exports=function(){return[]}},823493:(e,t,o)=>{var n=o(23279),i=o(513218);e.exports=function(e,t,o){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(o)&&(s="leading"in o?!!o.leading:s,r="trailing"in o?!!o.trailing:r),n(e,t,{leading:s,maxWait:t,trailing:r})}},418601:(e,t,o)=>{var n=o(14841),i=1/0;e.exports=function(e){return e?(e=n(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,o)=>{var n=o(418601);e.exports=function(e){var t=n(e),o=t%1;return t==t?o?t-o:t:0}},479833:(e,t,o)=>{var n=o(880531);e.exports=function(e){return null==e?"":n(e)}},782677:(e,t,o)=>{function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function l(e,t,o){return Object.keys(e).reduce((function(t,n){var i=""+n;return t.has(i)?t.set(i,o(t.get(i),e[i])):t}),t)}o.d(t,{Fv:()=>P,cY:()=>C,fK:()=>y});var c=function(){function e(e,t,o){if(void 0===t&&(t={}),void 0===o&&(o={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=o,i=n.idAttribute,r=void 0===i?"id":i,l=n.mergeStrategy,c=void 0===l?function(e,t){return s({},e,t)}:l,d=n.processStrategy,u=void 0===d?function(e){return s({},e)}:d,_=n.fallbackStrategy,h=void 0===_?function(e,t){}:_;this._key=e,this._getId="function"==typeof r?r:function(e){return function(t){return a(t)?t.get(e):t[e]}}(r),this._idAttribute=r,this._mergeStrategy=c,this._processStrategy=u,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,o){var n,i=e[o];return s({},t,((n={})[o]=i,n))}),this.schema||{})},t.getId=function(e,t,o){return this._getId(e,t,o)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,o,n,i,s){var r=this,a=this.getId(e,t,o),l=this.key;if(l in s||(s[l]={}),a in s[l]||(s[l][a]=[]),s[l][a].some((function(t){return t===e})))return a;s[l][a].push(e);var c=this._processStrategy(e,t,o);return Object.keys(this.schema).forEach((function(t){if(c.hasOwnProperty(t)&&"object"==typeof c[t]){var o=r.schema[t],a="function"==typeof o?o(e):o;c[t]=n(c[t],c,t,a,i,s)}})),i(this,c,e,t,o),a},t.denormalize=function(e,t){var o=this;return a(e)?l(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var i=o.schema[n];e[n]=t(e[n],i)}})),e)},i(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,o){return!this.isSingleSchema&&this._schemaAttribute(e,t,o)},t.inferSchema=function(e,t,o){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,o);return this.schema[n]},t.normalizeValue=function(e,t,o,n,i,s){var r=this.inferSchema(e,t,o);if(!r)return e;var a=n(e,t,o,r,i,s);return this.isSingleSchema||null==a?a:{id:a,schema:this.getSchemaAttribute(e,t,o)}},t.denormalizeValue=function(e,t){var o=a(e)?e.get("schema"):e.schema;return this.isSingleSchema||o?t((this.isSingleSchema?void 0:a(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[o]):e},i(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,o){if(!o)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,o)||this}r(t,e);var o=t.prototype;return o.normalize=function(e,t,o,n,i,s){return this.normalizeValue(e,t,o,n,i,s)},o.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),_=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var o=t.prototype;return o.normalize=function(e,t,o,n,i,r){var a=this;return Object.keys(e).reduce((function(t,o,l){var c,d=e[o];return null!=d?s({},t,((c={})[o]=a.normalizeValue(d,e,o,n,i,r),c)):t}),{})},o.denormalize=function(e,t){var o=this;return Object.keys(e).reduce((function(n,i){var r,a=e[i];return s({},n,((r={})[i]=o.denormalizeValue(a,t),r))}),{})},t}(d),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},p=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},m=function(e,t,o,n,i,s,r){return e=h(e),p(t).map((function(t,a){return i(t,o,n,e,s,r)}))},g=function(e,t,o){return e=h(e),t&&t.map?t.map((function(t){return o(t,e)})):t},f=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var o=t.prototype;return o.normalize=function(e,t,o,n,i,s){var r=this;return p(e).map((function(e,a){return r.normalizeValue(e,t,o,n,i,s)})).filter((function(e){return null!=e}))},o.denormalize=function(e,t){var o=this;return e&&e.map?e.map((function(e){return o.denormalizeValue(e,t)})):e},t}(d),x=function(e,t,o,n,i,r,a){var l=s({},t);return Object.keys(e).forEach((function(o){var n=e[o],s="function"==typeof n?n(t):n,c=i(t[o],t,o,s,r,a);null==c?delete l[o]:l[o]=c})),l},b=function(e,t,o){if(a(t))return l(e,t,o);var n=s({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=o(n[t],e[t]))})),n},v=function e(t,o,n,i,s,r){return"object"==typeof t&&t?"object"!=typeof i||i.normalize&&"function"==typeof i.normalize?i.normalize(t,o,n,e,s,r):(Array.isArray(i)?m:x)(i,t,o,n,e,s,r):t},y={Array:f,Entity:c,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,o){var n,i=e[o];return s({},t,((n={})[o]=i,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return x.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return b.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:_},P=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var o={},n=function(e){return function(t,o,n,i,s){var r=t.key,a=t.getId(n,i,s);r in e||(e[r]={});var l=e[r][a];e[r][a]=l?t.merge(l,o):o}}(o);return{entities:o,result:v(e,e,null,t,n,{})}},w=function(e){var t={},o=A(e);return function e(n,i){return"object"!=typeof i||i.denormalize&&"function"==typeof i.denormalize?null==n?n:i instanceof c?function(e,t,o,n,i){var r=n(e,t);if(void 0===r&&t instanceof c&&(r=t.fallback(e,t)),"object"!=typeof r||null===r)return r;if(i[t.key]||(i[t.key]={}),!i[t.key][e]){var l=a(r)?r:s({},r);i[t.key][e]=l,i[t.key][e]=t.denormalize(l,o)}return i[t.key][e]}(n,i,e,o,t):i.denormalize(n,e):(Array.isArray(i)?g:b)(i,n,e)}},A=function(e){var t=a(e);return function(o,n){var i=n.key;return"object"==typeof o?o:t?e.getIn([i,o.toString()]):e[i]&&e[i][o]}},C=function(e,t,o){if(void 0!==e)return w(o)(e,t)}},615071:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(654337),i=o(773949),s=o(486186);o(45697);function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var a=o(667294),l=o(973935);const c=!1;var d=o(500220),u="unmounted",_="exited",h="entering",p="entered",m="exiting",g=function(e){function t(t,o){var n;n=e.call(this,t,o)||this;var i,s=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(i=_,n.appearStatus=h):i=p:i=t.unmountOnExit||t.mountOnEnter?u:_,n.state={status:i},n.nextCallback=null,n}(0,s.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:_}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var o=this.state.status;this.props.in?o!==h&&o!==p&&(t=h):o!==h&&o!==p||(t=m)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,o,n=this.props.timeout;return e=t=o=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,o=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:o}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===_&&this.setState({status:u})},o.performEnter=function(e){var t=this,o=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[l.findDOMNode(this),n],s=i[0],r=i[1],a=this.getTimeouts(),d=n?a.appear:a.enter;!e&&!o||c?this.safeSetState({status:p},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,r),this.safeSetState({status:h},(function(){t.props.onEntering(s,r),t.onTransitionEnd(d,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(s,r)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),n=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!c?(this.props.onExit(n),this.safeSetState({status:m},(function(){e.props.onExiting(n),e.onTransitionEnd(o.exit,(function(){e.safeSetState({status:_},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:_},(function(){e.props.onExited(n)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,o=!0;return this.nextCallback=function(n){o&&(o=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(o&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],s=i[0],r=i[1];this.props.addEndListener(s,r)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,o=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(d.Z.Provider,{value:null},"function"==typeof o?o(e,n):a.cloneElement(a.Children.only(o),n))},t}(a.Component);function f(){}g.contextType=d.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},g.UNMOUNTED=u,g.EXITED=_,g.ENTERING=h,g.ENTERED=p,g.EXITING=m;const x=g;var b=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((o=e).classList?o.classList.remove(n):"string"==typeof o.className?o.className=r(o.className,n):o.setAttribute("class",r(o.className&&o.className.baseVal||"",n)));var o,n}))},v=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,o){var n=t.resolveArguments(e,o),i=n[0],s=n[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,o)},t.onEntering=function(e,o){var n=t.resolveArguments(e,o),i=n[0],s=n[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,o)},t.onEntered=function(e,o){var n=t.resolveArguments(e,o),i=n[0],s=n[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,o)},t.onExit=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"appear"),t.removeClasses(o,"enter"),t.addClass(o,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var o=t.resolveArguments(e)[0];t.addClass(o,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"exit"),t.addClass(o,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,o){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,o]},t.getClassNames=function(e){var o=t.props.classNames,n="string"==typeof o,i=n?""+(n&&o?o+"-":"")+e:o[e];return{baseClassName:i,activeClassName:n?i+"-active":o[e+"Active"],doneClassName:n?i+"-done":o[e+"Done"]}},t}(0,s.Z)(t,e);var o=t.prototype;return o.addClass=function(e,t,o){var n=this.getClassNames(t)[o+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===o&&i&&(n+=" "+i),"active"===o&&e&&e.scrollTop,n&&(this.appliedClasses[t][o]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((o=e).classList?o.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(o,n)||("string"==typeof o.className?o.className=o.className+" "+n:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+n)));var o,n}))}(e,n))},o.removeClasses=function(e,t){var o=this.appliedClasses[t],n=o.base,i=o.active,s=o.done;this.appliedClasses[t]={},n&&b(e,n),i&&b(e,i),s&&b(e,s)},o.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return a.createElement(x,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);v.defaultProps={classNames:""},v.propTypes={};const y=v},500220:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(667294).createContext(null)},654337:(e,t,o)=>{function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}o.d(t,{Z:()=>n})},486186:(e,t,o)=>{function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}o.d(t,{Z:()=>n})},773949:(e,t,o)=>{function n(e,t){if(null==e)return{};var o,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}o.d(t,{Z:()=>n})},442279:(e,t)=>{function o(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function n(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],o=null,i=null;return function(){for(var n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];return null!==o&&o.length===s.length&&s.every((function(e,n){return t(e,o[n])}))||(i=e.apply(void 0,s)),o=s,i}}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var o=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+o+"]")}return t}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=0,l=i.pop(),c=s(i),d=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=c.map((function(o){return o.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,o(r))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var o=Object.keys(e);return t(o.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[o[n]]=t,e}),{})}))};var a=t.P1=r(i)},499413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},373189:e=>{e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},335045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},329369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},17314:(e,t,o)=>{o.d(t,{Z:()=>c});var n,i,s=o(813653),r=o(861470),a=0,l=0;const c=function(e,t,o){var c=t&&o||0,d=t||new Array(16),u=(e=e||{}).node||n,_=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==_){var h=e.random||(e.rng||s.Z)();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,g=p-a+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,l=m,i=_;var f=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;d[c++]=f>>>24&255,d[c++]=f>>>16&255,d[c++]=f>>>8&255,d[c++]=255&f;var x=p/4294967296*1e4&268435455;d[c++]=x>>>8&255,d[c++]=255&x,d[c++]=x>>>24&15|16,d[c++]=x>>>16&255,d[c++]=_>>>8|128,d[c++]=255&_;for(var b=0;b<6;++b)d[c+b]=u[b];return t||(0,r.Z)(d)}},808683:e=>{e.exports={ResponseCodeType:{OK:1,OK_WITH_ERROR:2,ERROR_GENERAL:3,ERROR_NOT_FOUND:4,ERROR_MISSING_FIELD:5,ERROR_LOGIC:6,ERROR_INTERNAL_RESOURCE:7,ERROR_EXTERNAL_RESOURCE:8,ERROR_BAD_FIELD:9},FeedProfileValidationResultCode:{PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},ErrorCode:{DATABASE_SERVER_ERROR:1,INVALID_REQUEST_ERROR:2,ACCESS_DENIED_ERROR:3,MERCHANT_PROFILE_ERROR:100,MERCHANT_EXTERNAL_ID_EXISTED:101,FEED_PROFILE_ERROR:200,PAYMENT_RECEIVER_PROFILE_ERROR:300,OMS_PROFILE_ERROR:400,PRODUCT_GROUP_NAME_ALREADY_EXISTS_ERROR:500,PRODUCT_GROUP_FILTERS_ALREADY_EXISTS_ERROR:501,PRODUCT_GROUP_SOURCE_ID_ALREADY_EXISTS_ERROR:502},MerchantActionType:{CREATE_MERCHANT:1,UPDATE_MERCHANT_COMMON_PROFILE:2,UPDATE_MERCHANT_FEED_PROFILE:3,DELETE_MERCHANT_FEED_PROFILE:4,UPDATE_MERCHANT_OMS_PROFILE:5,DELETE_MERCHANT_OMS_PROFILE:6,UPDATE_MERCHANT_PAYMENT_RECEIVER_PROFILE:7,DELETE_MERCHANT_PAYMENT_RECEIVER_PROFILE:8,UPDATE_MERCHANT_APPROVAL_STATUS:9,ACTIVATE_MERCHANT:10,DEACTIVATE_MERCHANT:11,UPDATE_PRODUCT_PIN_MERCHANT_APPROVAL_STATUS:21,ACTIVATE_PRODUCT_PIN_MERCHANT:22,DEACTIVATE_PRODUCT_PIN_MERCHANT:23,ADD_NOTES:12,DELETE_MERCHANT:13,DISABLE_FEED_PROFILE:14,ENABLE_FEED_PROFILE:15,CREATE_PRODUCT_GROUP:16,EDIT_PRODUCT_GROOUP:17,DISABLE_PRODUCT_GROUP:18,ENABLE_PRODUCT_GROUP:19,DELETE_PRODUCT_GROUP:20,APPLY_SUGGESTED_PRODUCT_GROUP:26,UNAPPLY_SUGGESTED_PRODUCT_GROUP:27,CONNECT_SHOPIFY_MERCHANT:24,DISCONNECT_SHOPIFY_MERCHANT:25},WorkflowStatType:{PRE_INGESTION_VALIDATION_PASSED:1,PRE_INGESTION_FETCH_SAME_SIGNATURE:2,PRE_INGESTION_FETCH_INACTIVE_FEED:3,ORIGINAL_PRODUCT_COUNT:4,INGESTION_PASSED:5,INDEXING_PASSED:6,PRE_INGESTION_VALIDATION_FETCH_ERROR:100,PRE_INGESTION_VALIDATION_ENCODING_ERROR:101,PRE_INGESTION_VALIDATION_DELIMITER_ERROR:102,PRE_INGESTION_VALIDATION_REQUIRED_COLUMNS_MISSING:103,PRE_INGESTION_VALIDATION_IMAGE_LINK_INVALID:104,PRE_INGESTION_VALIDATION_ITEMID_MISSING:105,PRE_INGESTION_VALIDATION_TITLE_MISSING:106,PRE_INGESTION_VALIDATION_DESCRIPTION_MISSING:107,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_MISSING:108,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_INVALID:109,PRE_INGESTION_VALIDATION_PRODUCT_LINK_MISSING:110,PRE_INGESTION_VALIDATION_IMAGE_LINK_MISSING:111,PRE_INGESTION_VALIDATION_AVAILABILITY_INVALID:112,PRE_INGESTION_VALIDATION_PRODUCT_PRICE_INVALID:113,PRE_INGESTION_VALIDATION_TITLE_LENGTH_TOO_LONG:114,PRE_INGESTION_VALIDATION_DESCRIPTION_LENGTH_TOO_LONG:115,PRE_INGESTION_VALIDATION_CONDITION_INVALID:116,PRE_INGESTION_VALIDATION_GENDER_INVALID:117,PRE_INGESTION_VALIDATION_AGE_GROUP_INVALID:118,PRE_INGESTION_VALIDATION_SIZE_TYPE_INVALID:119,PRE_INGESTION_VALIDATION_PARSE_LINE_ERROR:120,PRE_INGESTION_VALIDATION_LINK_FORMAT_WARNING:121,PRE_INGESTION_VALIDATION_LINK_FORMAT_ERROR:122,PRE_INGESTION_VALIDATION_DUPLICATE_PRODUCTS:123,PRE_INGESTION_VALIDATION_DUPLICATE_LINKS:124,PRE_INGESTION_VALIDATION_SALES_PRICE_INVALID:125,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_DEPTH_WARNING:126,PRE_INGESTION_VALIDATION_ADWORDS_SAME_AS_LINK:127,PRE_INGESTION_VALIDATION_INTERNAL_SERVICE_ERROR:128,PRE_INGESTION_VALIDATION_DUPLICATE_HEADERS:129,PRE_INGESTION_VALIDATION_TAX_INVALID:130,PRE_INGESTION_VALIDATION_SHIPPING_INVALID:131,PRE_INGESTION_VALIDATION_SHIPPING_WEIGHT_INVALID:132,PRE_INGESTION_VALIDATION_MULTIPACK_INVALID:133,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_WARNING:134,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_ERROR:135,PRE_INGESTION_IMAGE_LINK_WARNING:136,PRE_INGESTION_ADDITIONAL_IMAGE_LINK_WARNING:137,PRE_INGESTION_FEED_LENGTH:138,PRE_INGESTION_VALIDATION_INVALID_DOMAIN:139,PRE_INGESTION_NO_VERIFIED_DOMAIN:140,PRE_INGESTION_VALIDATION_ADULT_INVALID:141,PRE_INGESTION_LINK_LENGTH_TOO_LONG:142,PRE_INGESTION_MALFORMED_XML:143,PRE_INGESTION_INVALID_EXPIRATION_DATE:144,PRE_INGESTION_INVALID_AVAILABILITY_DATE:145,PRE_INGESTION_INVALID_SALE_DATE:146,PRE_INGESTION_INVALID_WEIGHT_UNIT:147,PRE_INGESTION_INVALID_IS_BUNDLE:148,PRE_INGESTION_INVALID_UPDATED_TIME:149,PRE_INGESTION_INVALID_REDIRECT:150,PRE_INGESTION_PRICE_MISSING:151,PRE_INGESTION_FEED_TOO_SMALL:152,PRE_INGESTION_CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRE_INGESTION_PRODUCT_TYPE_LENGTH_TOO_LONG:154,PRE_INGESTION_TOO_MANY_ADDITIONAL_IMAGE_LINK:155,PRE_INGESTION_SHOPIFY_NO_PRODUCTS:156,PRE_INGESTION_VALIDATION_INVALID_IOS_DEEP_LINK:161,PRE_INGESTION_VALIDATION_INVALID_ANDROID_DEEP_LINK:162,POST_INGESTION_IMAGE_DOWNLOAD_SUCCESS:1e3,POST_INGESTION_IMAGE_DOWNLOAD_ERROR:1001,POST_INGESTION_PIN_CREATON_SUCCESS:1002,POST_INGESTION_PIN_CREATION_ERROR:1003,INVALID_ITEM_FORMAT:1004,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,IMAGE_DOWNLOAD_POLICY_VIOLATION:1009,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_NOT_FOUND:1010,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_FORBIDDEN_ACCESS:1011,PRE_INGESTION_VALIDATION_MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA:1013,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA_FAILURE:1014},OverallWorkflowStatus:{COMPLETED:0,FAILED:1,PROCESSING:2,COMPLETED_EARLY:3,UNDER_REVIEW:4,DISAPPROVED:5,QUEUED_FOR_PROCESSING:6,UNDER_APPEAL:7},UrsaTaskType:{SHOPIFY_START_BULK_OPS_TASK:1,SHOPIFY_POLL_BULK_OPS_TASK:2,SHOPIFY_START_BULK_OPS_STAGING_TASK:3,SHOPIFY_POLL_BULK_OPS_STAGING_TASK:4,SHOPIFY_START_BULK_OPS_DEV_TASK:5,SHOPIFY_POLL_BULK_OPS_DEV_TASK:6},CatalogProductGroupFeatureableStatusCode:{FEATUREABLE:1,UNFEATURABLE_NOT_ENOUGH_PINS:2,UNFEATURABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATURABLE_EXCEEDED_PINS_LIMIT:4},CatalogProductGroupFilterKey:{ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26},CatalogProductGroupHierarchyType:{GOOGLE_PRODUCT_CATEGORY:1,PRODUCT_TYPE:2},CatalogProductGroupType:{MERCHANT_CREATED:0,ALL_PRODUCTS:1,BEST_DEALS:2,PINNER_FAVORITES:3,TOP_SELLERS:4,BACK_IN_STOCK:5,NEW_ARRIVALS:6,SHOPIFY_COLLECTIONS:7,I2PC:8},CatalogProductGroupFilterLogicalOperator:{AND:0,OR:1},CatalogProductGroupStatus:{ACTIVE:0,INACTIVE:1,SUGGESTED:2},MerchantMetadataField:{ALL:0,FEED_INGESTED_AT_LEAST_ONCE:1,LAST_SUCCESSFUL_INGESTION:2,PREFERENCE_MAP:3,DOMAIN_WHITELIST:4,LAST_LOW_AVAILABILITY_EMAIL_SENT_TIME_DEPRECATED:5},MerchantMetadataPreferenceKey:{DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12},MerchantActionUpdatedDataType:{FEED_PROFILE_STATUS:1,MERCHANT_APPROVAL_STATUS:2,PRODUCT_GROUP_ENTITY:3,PRODUCT_GROUP_STATUS:4},CampaignImportingJobRecordType:{FILE_PARSING:1,CONTENT_VALIDATION:2,CAMPAIGN_CREATION:11,AD_GROUP_CREATION:21},CampaignImportingJobStatus:{STARTED:1,SUCCEEDED:2,FAILED:3,OTHER:10},ShopifyBulkOpStatusCode:{NOT_STARTED:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,PAUSED:4,SUPPRESSED:5,DELETED:7,INTERNAL_ERROR:9,OTHER:10,SLOW_RETRY:11},ShopifyBulkOpErrorCode:{NONE:0,FAILED_TO_GET_ACCESS_TOKEN:1001,FAILED_TO_UPDATE_BULK_OP_STATUS:1002,FAILED_TO_GET_BULK_URL:1003,FAILED_TO_INSPECT_INGESTION_STATUS:1101,FAILED_TO_SCHEDULE_INGESTION:1102,FAILED_TO_TRIGGER_INGESTION:1103,FAILED_TO_PROCESS_POLL_RESULT_OVERALL:1201,FAILED_TO_START_BULK_OP:1301,FAILED_TO_POLL_BULK_OP_STATUS:1302},GetBatchedShopifyBulkOpStatusOrderBy:{LAST_SUCCESSFUL_BULK_OP_TIME:1,LAST_BULK_CALL_TIME:2,LAST_POLL_CALL_TIME:3}}},559637:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]"]=function(){return o(337234).Z}},205418:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_created"]=function(){return o(337234).Z}},679875:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_followers"]=function(){return o(337234).Z}},992127:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_following"]=function(){return o(337234).Z}},52193:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_saved"]=function(){return o(337234).Z}},38101:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_shop"]=function(){return o(337234).Z}},907254:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/story_pins"]=function(){return o(337234).Z}},331137:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/topics"]=function(){return o(337234).Z}},832753:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/tried"]=function(){return o(337234).Z}},333905:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/video_pins"]=function(){return o(337234).Z}},268536:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(27255),i=o(124580),s=o(172071),r=o(115535),a=o(402039),l=o(638525),c=o(12610),d=o(305689);function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=(0,d.ZP)();let h=null;class p{static getInstance(){return h||(h=new p),h}constructor(){u(this,"_logTimeoutLong",null),u(this,"_logTimeoutShort",null),u(this,"_moduleViewElements",{}),u(this,"_scrollListeners",{}),u(this,"_clickthroughStartEvent",null),u(this,"_utcDate",new Date);const e=(e,t)=>{const{activeElement:o}=document;o&&o.id===n.Z.VIDEO_IFRAME_ID&&o?setTimeout((()=>o.blur()),0):(i.Z.pause(c.LU),this.flushEvents(e,void 0))},t=(e=>{let t=!1;return(...o)=>{t||(t=!0,e(...o))}})((t=>e(!0)));window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),window.addEventListener("focus",(()=>{i.Z.resume(c.LU)})),window.addEventListener("blur",(t=>e(!1)))}_handleDatelineCrossover(){const e=new Date;this._utcDate.getUTCDate()!==e.getUTCDate()&&(this._utcDate=e,(0,r.Z)())}setTimeoutToFlushEvents(e){const t=e.event_type;if(p.EVENTS_FAST_FLUSH.includes(e.view_type)&&!this._logTimeoutShort&&13===t)this._logTimeoutShort=a.Z.setTimeout(this.flushEvents.bind(this,!1,!0),p.FLUSH_INTERVAL_SHORT);else if(!this._logTimeoutLong){const e=p.FLUSH_INTERVAL_LONG;this._logTimeoutLong=a.Z.setTimeout(this.flushEvents.bind(this),e)}}addEvent(e){const t=e.event_type;if(null==t)return;if(!(0,d.cA)(e))return;this.setTimeoutToFlushEvents(e);const o=(0,d.li)(e),n=d.Ch[t];n?(0,d.nc)(o,n).forEach(_.logImpression):(s.Z.increment("webapp.contextLogger.impressionType",.01,{event_type:t}),_.logContextEvent(o),this._handleDatelineCrossover(),12===t&&(_.logContextEvent({...o,event_type:7946}),this._clickthroughStartEvent={...o,time:1e6*Date.now()},l.Z.storeClickthroughProperties({view_type:o.view_type,view_parameter:o.view_parameter,component:o.component,element:o.element,object_id_str:o.object_id_str,view_data:o.view_data,aux_data:o.aux_data,clientTrackingParams:o.clientTrackingParams})))}flushEvents(e,t){var o;const n=null===(o=_.getContextEvents)||void 0===o?void 0:o.call(_);n&&!n.length||(this._handleDatelineCrossover(),_.flushContextEvents(e),t?this._resetShortTimerEvents():this._reset())}_reset(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}_resetShortTimerEvents(){var e;null===(e=_.resetEventsBuffer)||void 0===e||e.call(_),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=null}_resetLongTimerEvents(){var e;null===(e=_.resetEventsBuffer)||void 0===e||e.call(_),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=null}logPlainObject(e){"event_type"in e&&this.addEvent({...e,..."aux_data"in e?{aux_data:{...e.aux_data}}:null})}}u(p,"FLUSH_INTERVAL_LONG",1e4),u(p,"FLUSH_INTERVAL_SHORT",300),u(p,"EVENTS_FAST_FLUSH",[9,3]),window.addEventListener&&window.addEventListener("focus",(()=>{const e=p.getInstance();if(e._clickthroughStartEvent){const t=e._clickthroughStartEvent;e._clickthroughStartEvent=null;const o={...t,event_type:4100,duration_ns:(0,d.h1)()-t.time};e.addEvent(o)}}));const m=p},619983:(e,t,o)=>{o.d(t,{e:()=>r,v:()=>a});var n=o(441143),i=o.n(n);class s{constructor(e,t){i()(e,"You must pass a requestContext to check an Experiment"),i()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_getGroup(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class r extends s{getGroup(e=!1){return this._getGroup(e)}}class a extends s{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},412168:(e,t,o)=>{function n(e){let t=!1;return{promise:new Promise(((o,n)=>{e.then((e=>t?n({isCanceled:!0}):o(e)),(e=>n(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}o.d(t,{Z:()=>n})},638525:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(268536),i=o(768559),s=o(704115),r=o(927955),a=o(433780);const l={},c=(0,s.Z)()&&(0,s.Z)().debug_timespent,d=(0,a.Z)({flushEvents:e=>{n.Z.getInstance().flushEvents(e,void 0)},shouldShowLogStatements:c,track:(e,t)=>{const o=n.Z.getInstance(),s=r.Z.instance.getState();let a;if(s.pins&&e){const{pair_id:o,event_type:n}=e;if(4703===n&&o&&l[o])e.clientTrackingParams=l[o];else{var c;const r=e.object_id_str,d=r?s.pins[r]:null,u=null==t||null===(c=t.current)||void 0===c?void 0:c.location,_=null==t?void 0:t.previous;d&&u&&(a=(0,i.Z)(d,u,_)||`${d.tracking_params||""}~0`,e.clientTrackingParams=a,4702===n&&o&&(l[o]=a))}}o.addEvent(e)}})},73803:(e,t,o)=>{o.d(t,{Z:()=>d,w:()=>u});var n=o(349700);const i=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),s=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),r=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),a=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)');function d(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(s(t),o);case 3:return(0,n.nk)(r(t),o);case 4:return(0,n.nk)(a(t),o);case 5:return(0,n.nk)(l(t),o);case 6:return(0,n.nk)(c(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'))(t),o)}}function u(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(s(t),o);case 3:return(0,n.nk)(r(t),o);case 4:return(0,n.nk)(a(t),o);case 5:return(0,n.nk)(l(t),o);case 6:return(0,n.nk)(c(t),o);case 7:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'))(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'))(t),o)}}},492990:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(412168);function s(){const e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(o,n){if(n){const e=t.current[n];e&&(e(),delete t.current[n])}const{cancel:s,promise:r}=(0,i.Z)(o);return n?t.current[n]=s:e.current.push(s),r}}},604052:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(784590),i=o(780280),s=o(826067);var r=o(925927);function a({checkExperiments:e,disableFetch:t,viewer:o}){const n=(0,r.TH)(),a=(0,r.$B)(),l=(0,i.B)(),c=function({location:{pathname:e,search:t},match:{params:o,path:n},viewer:i}){return{routeData:{matchPath:n,params:o,parsedSearch:(0,s.mB)(t),pathname:e,search:t},user:{country:i.country||void 0,id:i.id||void 0,isAuth:i.isAuth,isEmployee:!!i.isEmployee||!1,isPartner:!!i.isPartner||!1,username:i.username||void 0}}}({location:n,match:a,viewer:o}),d=!!t&&t(c),u=!(!d&&e)||e(l.experiments);return{args:c,fetchDisabled:d||!u}}var l=o(19121);function c({getOptions:e,checkExperiments:t,disableFetch:o,...i}){const s=function(){const e=(0,l.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}(),{args:r,fetchDisabled:c}=a({checkExperiments:t,disableFetch:o,viewer:s}),d=e?e(r):void 0;return(0,n.Z)({dangerouslyDisableFetch:c,options:d,...i})}},402039:(e,t,o)=>{let n;o.d(t,{Z:()=>s}),void 0===n&&(n=o.g);const i=function(e,t){const o=(i=t)===n.setTimeout?function(e,t){return n.setTimeout(e,t)}:i===n.setInterval?function(e,t){return n.setInterval(e,t)}:i===n.clearTimeout?function(e){return n.clearTimeout(e)}:i===n.clearInterval?function(e){return n.clearInterval(e)}:i;var i;return function(e,t,n,...i){return o(e,t,n,...i)}},s={setTimeout:i(0,n.setTimeout),setInterval:i(0,n.setInterval),clearTimeout:i(0,n.clearTimeout),clearInterval:i(0,n.clearInterval)}},105265:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(116303),i=o(883119),s=o(785893);function r({user:e,size:t="md",hasOutline:o}){const{first_name:r,image_medium_url:a,username:l}=e;return(0,s.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${l}/`,children:(0,s.jsx)(n.Z,{size:t,src:null!=a?a:"",name:r||l||"",outline:o})})}},608360:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(674839),s=o(333312),r=o(223815),a=o(941646),l=o(898781),c=o(61877),d=o(883119),u=o(785893);const _=({action:e,label:t,testId:o})=>(0,u.jsx)(a.Z,{id:`flyout-item-${o}`,children:(0,u.jsx)(d.iP,{onTap:e,children:(0,u.jsx)(i.Z,{text:t})})}),h=({handleBlockUser:e,handleClickReport:t,handleDelete:o,handleOnEdit:i,handleRemoveMention:h,handleHighlight:p,handleRemoveHighlight:m,showHighlightEducator:g,iconColor:f,small:x})=>{const b=(0,l.ZP)(),[v,y]=(0,n.useState)(!1),P=(0,n.useRef)(),w=e=>{const t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),y(!v)};return e||t||o||i||h||p?(0,u.jsx)(d.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.xu,{ref:P,children:(0,u.jsx)(a.Z,{id:"flyout-toggle",children:(0,u.jsx)(d.hU,{accessibilityExpanded:v,accessibilityHaspopup:!0,accessibilityLabel:b._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",iconColor:f||void 0,onClick:w,size:x?"sm":"md"})})}),g&&(0,u.jsx)(d.mh,{zIndex:c.lI,children:(0,u.jsx)(r.Z,{children:(0,u.jsx)(s.Z,{anchor:P.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),v&&(0,u.jsx)(d.mh,{children:(0,u.jsx)(r.Z,{children:(0,u.jsx)(a.Z,{id:"flyout",children:(0,u.jsx)(d.J2,{anchor:P.current,idealDirection:"down",onDismiss:w,positionRelativeToAnchor:!1,size:"sm",children:(0,u.jsxs)(d.xu,{width:"100%",children:[p&&(0,u.jsx)(_,{action:()=>{p(),w()},label:b._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),testId:"highlight"}),m&&(0,u.jsx)(_,{action:()=>{m(),w()},label:b._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),testId:"removeHighlight"}),i&&(0,u.jsx)(_,{action:i,label:b._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),testId:"edit"}),o&&(0,u.jsx)(_,{action:o,label:b._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),testId:"delete"}),t&&(0,u.jsx)(_,{action:t,label:b._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),testId:"report"}),h&&(0,u.jsx)(_,{action:()=>{h(),w()},label:b._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),testId:"removeMention"}),e&&(0,u.jsx)(_,{action:e,label:b._('Block user', 'closeup.activityItem.blockUser', 'Block comment author'),testId:"blockUser"})]})})})})})]})}):null};h.defaultProps={handleBlockUser:null,handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null};const p=h},123630:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(182750),s=o(883119),r=o(785893);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends n.PureComponent{constructor(...e){super(...e),a(this,"parseText",(()=>{const{tags:e,taggedUsers:t,text:o,size:n}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(o,"1");let i=0,a=[];return e.forEach(((e,t)=>{const n=o.substring(i,e.offset);i=e.offset+e.length;const s=o.substring(e.offset,i);a=a.concat(this.renderRegularText(n,`${t}a`)).concat(this.renderTaggedText(s,t,`${t}b`))})),a=a.concat(this.renderRegularText(o.substring(i),"2")),(0,r.jsx)(s.xv,{inline:!0,size:n,overflow:"normal",children:a})})),a(this,"renderRegularText",((e,t)=>(0,r.jsx)(s.xv,{inline:!0,size:this.props.size,overflow:"normal",children:this.props.allowLink?(0,r.jsx)(i.Z,{children:e}):e},t))),a(this,"renderTaggedText",((e,t,o)=>(0,r.jsx)(s.xv,{color:"shopping",inline:!0,size:this.props.size,weight:"bold",overflow:"normal",children:(0,r.jsx)(s.rU,{inline:!0,href:`/${this.props.taggedUsers[t].username}`,underline:"hover",children:e})},o)))}render(){return(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:this.parseText()})}}a(l,"defaultProps",{allowLink:!0,size:"md"})},199939:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(123630),s=o(322741),r=o(986644),a=o(883119),l=o(898781),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||r.lr)+this.revealText.length}),d(this,"showFullText",(()=>this.setState({truncate:!1})))}get revealText(){return this.props.inUnifiedComments?this.props.i18n._('... More', 'click to see more of a long post', 'click to see more of a long post'):this.props.i18n._('... See more', 'click to see more of a long post', 'click to see more of a long post')}render(){const{allowLink:e,allowReveal:t,maxCharLength:o,size:l,tags:d,taggedUsers:u,text:_}=this.props,{truncate:h}=this.state,p=h?_.substring(0,o||r.lr).trim():_;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.Z,{allowLink:e,size:l,taggedUsers:u,tags:d,text:p}),h&&!t&&(0,c.jsx)(a.xv,{inline:!0,weight:"bold",overflow:"normal",children:this.revealText}),h&&t&&(0,c.jsx)(s.Z,{color:"default",handleClick:this.showFullText,text:this.revealText,size:l})]})}}d(u,"defaultProps",{allowLink:!0,allowReveal:!1,size:"md",tags:[],taggedUsers:[],text:""});const _=function(e){const t=(0,l.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},322741:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({color:e="subtle",handleClick:t,size:o="sm",text:s}){return(0,i.jsx)(n.xu,{display:"inlineBlock",children:(0,i.jsx)(n.iP,{onTap:t,rounding:"pill",children:(0,i.jsx)(n.xv,{color:e,size:o,weight:"bold",children:s})})})}},182750:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(954931),s=o(968337),r=o.n(s),a=o(89254),l=o(610248),c=o(883119),d=o(785893);const u=new(r());u.tlds(l),u.add("#",{validate(e,t,o){const n=e.slice(t);return o.re.hashtag||(o.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+o.re.src_ZPCc+")")),o.re.hashtag.test(n)?!(t>=2&&"#"===n[t-2])&&n.match(o.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});const _=({decoratedHref:e,decoratedText:t,index:o,isTrusted:n})=>(0,d.jsx)(c.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:n?null:"blank",children:t},o);class h extends n.PureComponent{parseString(e){if(""===e)return e;const t=(o=e,u.match(o));var o;if(!t)return e;const n=[];let s=0;return t.forEach(((t,o)=>{t.index>s&&n.push(e.substring(s,t.index));let r=t.url;const l=(0,i.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(l){const e=(0,a.Z)(t.url);r=r.replace(e.origin,"")}const c=t.text,u=(0,d.jsx)(_,{decoratedHref:r,decoratedText:c,index:o,isTrusted:l});n.push(u),s=t.lastIndex})),e.length>s&&n.push(e.substring(s)),1===n.length?n[0]:n}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,n.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,n.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map(((e,t)=>this.parse(e,t))):e}render(){return(0,d.jsx)("span",{children:this.parse(this.props.children)})}}},986644:(e,t,o)=>{o.d(t,{A7:()=>i,YD:()=>s,lr:()=>n});const n=170,i=(e,t,o)=>{const n=new Date(e),i=(new Date).getTime()-n.getTime();return Math.floor(i/1e3)<60?t._('now', 'timestamp for a comment or post that was created within the last minute', 'timestamp for a comment or post that was created within the last minute'):o(e,!0)},s=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},100315:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(694379),i=o(898781),s=o(349700),r=o(883119),a=o(785893);function l({pinCount:e,placesCount:t,sectionCount:o}){const l=(0,i.ZP)(),c=!!t&&0!==e||!t;return(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t?(0,a.jsx)(r.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,a.jsx)(r.xv,{size:"200",inline:!0,lineClamp:1,children:(0,s.nk)(l.ngettext('{{ count }} place', '{{ count }} places', t, 'label for n amount of places', 'label for n amount of places'),{count:(0,a.jsx)(n.Z,{value:t},"places-count")})})}):null,o?(0,a.jsx)(r.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,a.jsx)(r.xv,{size:"200",inline:!0,lineClamp:1,children:(0,s.nk)(l.ngettext('{{ count }} section', '{{ count }} sections', o, 'label for n amount of sections', 'label for n amount of sections'),{count:(0,a.jsx)(n.Z,{value:o},"section_count")})})}):null,c&&(0,a.jsx)(r.xu,{overflow:"hidden",children:(0,a.jsx)(r.xv,{size:"200",lineClamp:1,children:(0,s.nk)(l.ngettext('{{ count }} Pin', '{{ count }} Pins', e, 'label for n amount of pins', 'label for n amount of pins'),{count:(0,a.jsx)(n.Z,{value:e},"pin_count")})})})]})}},426151:(e,t,o)=>{o.d(t,{Z:()=>j});var n=o(667294),i=o(966338),s=o(121151),r=o(898781),a=o(349700),l=o(780280),c=o(883119),d=o(785893);function u({boardName:e,collaboratorName:t,onCancelTransferRequest:o,onDismiss:n}){const i=(0,r.ZP)(),u=(0,l.B)();return(0,d.jsx)(s.ZP,{accessibilityModalLabel:i._('Board ownership transfer modal', 'boardCollabOwnershipTransferModal.accessibilityModalLabel', 'Accessibility label on board ownership transfer modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.X6,{align:"center",size:"500",children:i._('Collaborators', 'boardCollabOwnershipTransferModal.heading', 'Heading for board ownership transfer modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:u.isRTL,right:!u.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:i._('Close', 'boardCollabOwnershipTransferModal.iconAccessibilityLabel', 'Accessibility label on cancel icon button'),icon:"cancel",iconColor:"darkGray",onClick:n})})]}),footer:(0,d.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(c.iP,{fullWidth:!1,onTap:o,children:(0,d.jsx)(c.xv,{weight:"bold",children:i._('Cancel request', 'boardCollabOwnershipTransferModal.cancelRequest', 'Option to cancel board ownership transfer request')})}),(0,d.jsx)(c.zx,{color:"red",onClick:n,size:"lg",text:i._('Got it', 'boardCollabOwnershipTransferModal.confirmationButton', 'Button confirming board ownership transfer action')})]}),onDismiss:n,children:(0,d.jsx)(c.xu,{paddingX:8,children:(0,d.jsx)(c.xv,{align:"center",children:(0,a.nk)(i._('We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins\u2014but you won\u2019t be able to manage collaborators, change the name, cover photo, or description of this board.', 'boardCollabOwnershipTransferModal.descriptionText', 'Explanation of transfer request and potential permissions changes'),{collaboratorName:t,boardName:(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:e})})})})})}var _=o(88301),h=o(412456);function p({boardId:e,collaboratorId:t,collaboratorName:o,isAcceptedCollaborator:s,onDelete:a}){const l=(0,i.useDispatch)(),p=(0,r.ZP)(),m=(0,n.useRef)(null),[g,f]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),{boardName:v,pendingOwnershipTransfer:y}=(0,_.Z)(),P=()=>{l((0,h.xx)(e,t)),f(!1)},w=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:o,onDelete:n,onRequestTransfer:i,showCancelRequestOption:s,showRequestTransferOption:r}){const a=[{onSelect:n,option:{value:"Remove from board",label:e._('Remove from board', 'getCollaboratorDropdownItems.removeText', 'Text for option to remove collaborator from board')}}];return t&&(s&&a.push({onSelect:o,option:{value:"Cancel request",label:e._('Cancel request', 'getCollaboratorDropdownItems.cancelText', 'Text for option to cancel ownership transfer request')}}),r&&a.push({onSelect:i,option:{value:"Request as board owner",label:e._('Request as board owner', 'getCollaboratorDropdownItems.requestText', 'Text for option to request ownership transfer')}})),a}({i18n:p,isAcceptedCollaborator:s,onCancelTransferRequest:P,onDelete:a,onRequestTransfer:()=>{(async()=>{f(!1),await l((0,h.Cf)(e,t)),b(!0)})()},showCancelRequestOption:y===t,showRequestTransferOption:!y});return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsxs)(c.kC,{justifyContent:"center",children:[(0,d.jsx)(c.hU,{accessibilityLabel:p._('Collaborator options', 'boardCollabInviteOverflowButton.accessibilityLabel', 'Accessibility label for overflow icon button'),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>f(!g),ref:m,selected:g}),g&&(0,d.jsx)(c.Lt,{anchor:m.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>f(!1),zIndex:new c.Ry(1e3),children:(0,d.jsx)(c.Lt.Section,{label:p._('Options', 'boardCollabInviteOverflowButton.dropdownSection', 'Options section in dropdown menu'),children:w.map((e=>(0,d.jsx)(c.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)))})})]}),x&&(0,d.jsx)(u,{boardName:v,collaboratorName:o,onCancelTransferRequest:()=>{P(),b(!1)},onDismiss:()=>{b(!1)}})]})}var m=o(355600),g=o(985913),f=o(19121),x=o(217468);function b({actionsDisabled:e,invite:t,invitedUser:o,isDim:n,onApprove:i,onDelete:s}){const a=(0,r.ZP)(),l=(0,f.Z)(),{access:u,board:h,status:b,invited_by_user:v}=t,{pendingOwnershipTransfer:y,viewerIsOwner:P}=(0,_.Z)(),w=l.isAuth&&o.id===l.id,A=l.isAuth&&v.id===l.id,C=o.id===v.id,E="accepted"===b,T=u.includes("approve"),j=u.includes("delete"),I=a._('Approve', '[button] approve another pinner\'s request to join the board as a collaborator', '[button] approve another pinner\'s request to join the board as a collaborator'),S=((e,t,o)=>e?a._('Leave', '[button] for a collaborator to leave a group board', '[button] for a collaborator to leave a group board'):t&&!o?a._('Decline', '[button] decline another pinner\'s request to join board as a collaborator', '[button] decline another pinner\'s request to join board as a collaborator'):a._('Remove', '[button] remove a collaborator from the board]', '[button] remove a collaborator from the board]'))(w,C,E),z=j&&!T,k=j&&T,D=`/${o.username}/`,R=(0,x.t)("web_board_ownership_transfer"),O=P&&R().anyEnabled,L=O?(0,d.jsx)(p,{boardId:h.id,collaboratorId:o.id,collaboratorName:o.full_name,onDelete:s||(()=>{}),isAcceptedCollaborator:E}):(0,d.jsx)(c.zx,{disabled:e,onClick:s,text:S,size:"lg"}),F=y===o.id,M=O&&(void 0!==n?n:!E);return(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(m.Z,{imageUrl:o.image_medium_url||"",name:o.full_name,title:o.full_name,subtitle:((e,o,n,i,s)=>{const r=t.invited_by_user.full_name;let l;return l=o?a._('Invitation pending', 'boardCollabInviteCell.pendingInvitationText', 'Subtext for collaborator with pending invitation'):n?a._('That\'s you', 'subtext for current user who requested to join this board', 'subtext for current user who requested to join this board'):i?a._('Invited by you', 'subtext for a pending collaborator who was invited by the current viewer', 'subtext for a pending collaborator who was invited by the current viewer'):s?a._('Requested to join', 'The subtext that identifies a pending collaborator has personally requested to join the board', 'The subtext that identifies a pending collaborator has personally requested to join the board'):(0,g.Z)(a._('Invited by {{ user_full_name }}', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board'),{user_full_name:r}),e&&(l=l.concat(a._(' \xB7 Ownership pending', 'boardCollabInviteCell.pendingOwnershipText', 'Additional subtext for collaborator who has a pending board ownership transfer invitation'))),l})(F,M,w,A,C),linkURL:D,isDim:!O&&(void 0!==n?n:!E),accessory:z&&L}),k&&(0,d.jsxs)(c.xu,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[(0,d.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,d.jsx)(c.zx,{fullWidth:!0,disabled:e,onClick:s,text:S,size:"lg"})}),(0,d.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",disabled:e,onClick:i,text:I,size:"lg"})})]})]})}var v=o(499128),y=o(934523);function P(e){const t=(0,r.ZP)(),{onCancel:o,onRemove:n,useGestaltModal:i}=e,a=t._('Are you sure you want to leave this group board and remove it from your profile?', ' - ', ' -- '),l=i?c.u_:s.ZP;return(0,d.jsx)(l,{accessibilityModalLabel:t._('Leave board?', ' - ', ' -- '),heading:t._('Leave board?', ' - ', ' -- '),onDismiss:o,size:"sm",footer:(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{onClick:o,text:t._('Cancel', ' - ', ' -- ')})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{color:"red",onClick:n,text:t._('Leave', ' - ', ' -- ')})})]}),children:(0,d.jsx)(c.xu,{padding:5,children:(0,d.jsx)(c.xv,{children:a})})})}class w extends n.Component{constructor(...e){var t,o,n;super(...e),n={shouldBlock:!1},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}getBlockDescription(e,t){return"declineRequest"===e?t?(0,a.nk)(this.props.i18n._('This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.', 'decline another pinner\'s request to join board as a collaborator and block them', 'decline another pinner\'s request to join board as a collaborator and block them'),{invited_user_first_name:t}):this.props.i18n._('This will decline this person from joining this board and block them from subsequent collaboration requests.', 'message that explains consequences of declining a request to join board as a collaborator', 'message that explains consequences of declining a request to join board as a collaborator'):t?(0,a.nk)(this.props.i18n._('This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.', ' - ', ' -- '),{invited_user_first_name:t}):this.props.i18n._('This will remove this person, people they invited, and all their Pins.', 'message that explains consequences of removing a collaborator', 'message that explains consequences of removing a collaborator')}render(){const{removeType:e,firstName:t,fullName:o,onCancel:i,onRemove:r,onRemoveAndBlock:l,useGestaltModal:u}=this.props,_="declineRequest"===e?(0,a.nk)(this.props.i18n._('Decline {{ invited_user_name }}?', '[button] to decline a pinner\'s request to join a board as a collaborator', '[button] to decline a pinner\'s request to join a board as a collaborator'),{invited_user_name:o}).join(""):(0,a.nk)(this.props.i18n._('Remove {{ invited_user_name }}?', '[button] to remove a pinner as a collaborator from a group board', '[button] to remove a pinner as a collaborator from a group board'),{invited_user_name:o}).join(""),h=this.props.i18n._('This will keep them from saving Pins to this board. You can also:', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.'),p=this.getBlockDescription(e,t),m=this.state.shouldBlock?this.props.i18n._('Block', 'block another pinner after denying their request to collaborate on a board', 'block another pinner after denying their request to collaborate on a board'):this.props.i18n._('Remove', 'decline another pinner\'s request to collaborate on a board', 'decline another pinner\'s request to collaborate on a board'),g=(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{padding:5,children:(0,d.jsx)(c.xv,{children:h})}),(0,d.jsx)(c.iz,{}),(0,d.jsxs)(c.xu,{padding:5,display:"flex",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState((({shouldBlock:e})=>({shouldBlock:!e})))})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsxs)(c.__,{htmlFor:"banUser",children:[(0,d.jsx)(c.xv,{weight:"bold",children:(0,a.nk)(this.props.i18n._('Block {{ name }}', ' - ', ' -- '),{name:t||""})}),(0,d.jsx)(c.xv,{size:"200",children:p})]})})]})]}),f=u?c.u_:s.ZP;return(0,d.jsx)(f,{accessibilityModalLabel:_,heading:_,onDismiss:i,size:"sm",footer:(0,d.jsxs)(c.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{onClick:i,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{color:"red",onClick:this.state.shouldBlock?l:r,text:m})})]}),children:g})}}function A(e){const t=(0,r.ZP)();return(0,d.jsx)(w,{...e,i18n:t})}var C=o(343341);function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class T extends n.Component{constructor(...e){super(...e),E(this,"state",{currentModal:null,loading:!1}),E(this,"showRemoveSuccessToast",(()=>{const{toastManagerContext:e}=this.props,t=this.props.i18n._('Collaborator removed', 'BoardCollabInviteCellContainer.toast', 'Toast for removing a collaborator from a board');e.showOneToast((({hideToast:e})=>(0,d.jsx)(v.ZP,{duration:3e3,onHide:e,text:t})))})),E(this,"onDelete",(()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})})),E(this,"onApprove",(()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally((()=>{this.setState({loading:!1})}))})),E(this,"deleteBoardInvite",((e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:o,onInviteDidUpdate:n}=this.props,i=this.isViewerInvitedUser;this.setState({currentModal:null,loading:!0}),t(i,e).then((()=>{n(),this.showRemoveSuccessToast(),i&&o()})).catch((()=>{})).finally((()=>{this.setState({loading:!1})}))})),E(this,"handleDeleteBoardInvite",(()=>{this.deleteBoardInvite(!1)})),E(this,"handleDeleteBoardInviteAndBan",(()=>{this.deleteBoardInvite(!0)})),E(this,"handleHideModal",(()=>{this.setState({currentModal:null})}))}get isViewerInvitedUser(){const{viewer:e,invitedUser:t}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invitedUser:e,invite:{invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invitedUser:e,useGestaltModal:t=!1}=this.props,{currentModal:o}=this.state;return"delete"===o?this.isViewerInvitedUser?(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:y.fe+1}},children:(0,d.jsx)(P,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:y.fe+1}},children:(0,d.jsx)(A,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,invitedUser:t,isDim:o}=this.props,{loading:n}=this.state;return(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(b,{invite:e,invitedUser:t,isDim:o&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}function j(e){const{invite:t,invitedUser:{id:o},invite:{board:{id:n}}}=e,s=(0,r.ZP)(),a=(0,i.useDispatch)();return(0,d.jsx)(T,{...e,approveBoardCollabInvite:()=>a((0,h.q1)(n,o)),deleteBoardCollabInvite:(e,o)=>a((0,h.Jn)(t,e,o)),i18n:s,toastManagerContext:(0,C.F9)(),viewer:(0,f.Z)()})}},573799:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(426151),s=o(913683),r=o(898781),a=o(883119),l=o(785893);function c({fetchMore:e,invites:t,isAtEnd:o,isFetching:n,onBoardLeave:i,refreshData:c,renderInvite:d,scroll:u}){const _=(0,r.ZP)();return(0,l.jsxs)(a.xu,{children:[u&&(0,l.jsx)(s.Z,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:o,isFetching:n,fetchMore:e}),t.map(((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,l.jsx)(a.xu,{children:d(e,i,c)},t):null)),n&&!o&&(0,l.jsx)(a.$j,{accessibilityLabel:_._('loading board invites', 'accessibility label for board collaborator invites loading spinner', 'accessibility label for board collaborator invites loading spinner'),show:!0})]})}var d=o(355600),u=o(526524),_=o(88301),h=o(784590),p=o(349700);class m extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(o="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}shouldComponentUpdate(e){const{invites:{data:t},pendingOwnershipTransfer:o}=e,{invites:{data:n},pendingOwnershipTransfer:i}=this.props;return!(n&&!(i!==o))||!!t&&n.length!==t.length}render(){var e,t;const{board:o,invites:s,invitesPendingApproval:r,scrollInfo:_,onBoardLeave:h,onModalOpen:m,pendingOwnershipTransfer:g,renderInvite:f}=this.props,{full_name:x,image_medium_url:b,username:v}=o.owner,y=null===(e=(s.data||[]).find((e=>{var t;return(null===(t=e.invited_user)||void 0===t?void 0:t.id)===g})))||void 0===e||null===(t=e.invited_user)||void 0===t?void 0:t.full_name,P=g&&y?(0,p.nk)(this.props.i18n._('Requested {{ collaboratorName }} to change to board owner', 'boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle', 'Subtext for an owner of board who has sent an ownership transfer request'),{collaboratorName:y}).join(""):this.props.i18n._('Owner of this board', 'boardInviteSheet.CollaboratorList.boardOwner.subtitle', 'The subtext that identifies the owner of a board');return(0,l.jsx)(n.Fragment,{children:s.isLoaded||r.isLoaded?(0,l.jsx)(u.Z,{fetchMore:s.fetchMore,children:({onScroll:e,setRef:t})=>(0,l.jsxs)(a.xu,{width:"100%",onScroll:e,ref:t,children:[(0,l.jsx)(c,{fetchMore:r.fetchMore,invites:r.data||[],isAtEnd:r.isAtEnd,isFetching:r.isFetching,onBoardLeave:h,refreshData:this.handleInvitesDidUpdate,scroll:_,renderInvite:f}),(r.data||[]).length>0?(0,l.jsx)(a.xu,{paddingY:3,children:(0,l.jsx)(a.iz,{})}):null,(0,l.jsxs)(a.xu,{paddingY:1,children:[(0,l.jsx)(d.Z,{imageUrl:null!=b?b:"",linkURL:`/${v}/`,name:null!=x?x:"",subtitle:P,title:null!=x?x:""}),(s.data||[]).map((e=>e&&e.invited_user&&e.invited_user.id?(0,l.jsx)(i.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:h,onModalOpen:m,onInviteDidUpdate:s.refresh},e.invited_user.id):null))]})]})}):(0,l.jsx)(a.$j,{show:!0,accessibilityLabel:this.props.i18n._('Loading', 'Loading state for showing board collaborators', 'Loading state for showing board collaborators')})})}}function g(e){const t=(0,r.ZP)(),{pendingOwnershipTransfer:o}=(0,_.Z)(),n=(0,h.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),i=(0,h.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return(0,l.jsx)(m,{...e,invites:n,invitesPendingApproval:i,i18n:t,pendingOwnershipTransfer:o})}},355600:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(116303),s=o(149230),r=o(883119),a=o(785893);function l(e){const{imageUrl:t,name:o,title:l,subtitle:c,accessory:d,linkURL:u,isDim:_}=e,h={__style:{opacity:_?.5:1}},p=(0,s.Z)({url:null!=u?u:""})?"nofollow":"none";return(0,a.jsx)(n.Fragment,{children:o&&l&&(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[(0,a.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:h,children:(0,a.jsx)(r.iP,{role:"link",rel:p,href:u||"",rounding:"circle",children:(0,a.jsx)(i.Z,{outline:!0,size:"md",name:o,src:t})})}),(0,a.jsxs)(r.xu,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:h,children:[(0,a.jsx)(r.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:(0,a.jsx)(r.rU,{rel:p,href:u||"",children:l})}),(0,a.jsx)(r.xv,{lineClamp:1,size:"100",color:"subtle",children:c})]}),d&&(0,a.jsx)(r.xu,{marginStart:4,children:d})]})})}},209716:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{iconNode:t,title:o,subtitle:s,accessory:r}=e;return(0,i.jsxs)(n.xu,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[(0,i.jsx)(n.xu,{marginEnd:2,children:t}),(0,i.jsxs)(n.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[(0,i.jsx)(n.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:o}),(0,i.jsx)(n.xv,{lineClamp:1,size:"100",color:"subtle",children:s})]}),r&&(0,i.jsx)(n.xu,{children:r})]})}},88301:(e,t,o)=>{o.d(t,{Z:()=>c,k:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("BoardOwnershipTransferContext");function l({boardName:e="",children:t,pendingOwnershipTransfer:o=null,viewerIsOwner:i}){const a=(0,n.useMemo)((()=>({boardName:e,pendingOwnershipTransfer:o,viewerIsOwner:i})),[e,o,i]);return(0,s.jsx)(r,{value:a,children:t})}const c=a},340274:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(966338),s=o(27255),r=o(717615),a=o(19121),l=o(516570),c=o(223123),d=o(898781),u=o(231947),_=o(883119),h=o(412456),p=o(785893);function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{selectedCollaborators:[]}),m(this,"handleSubmit",(e=>{const{advertiserId:t,createBoard:o,onBoardCreate:n,viewer:i,orbacActingAs:s}=this.props,r=(0,u.lJ)(i,s),{name:a,description:l,privacy:c,collab_board_email:d,collaborator_invites_enabled:_}=e;return o({boardCreateOptions:{name:a,description:l,privacy:c,collab_board_email:d,collaborator_invites_enabled:_,...t?{advertiser_id:t}:{},...r?{orbac_subject_id:r}:Object.freeze({})}}).then((e=>{this.inviteSelectedColaborators(e.id),n(e)}))})),m(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}inviteSelectedColaborators(e){const t=this.state.selectedCollaborators.filter((({type:e})=>"email"===e));t.length>=1&&(0,h.OA)(e,t.map((({type:e})=>e)));const o=this.state.selectedCollaborators.filter((({type:e})=>e.startsWith("user")));o.length>=1&&(0,h.pS)(e,o.map((({id:e})=>e)))}render(){const{advertiserId:e,isAdAccountOwner:t,onClose:o,privacy:n,useModalWithNoLayer:i}=this.props;return(0,p.jsx)(l.Z,{board:{...this.emptyBoardData,privacy:t?n:s.Z.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:o,onSubmit:this.handleSubmit,submitText:this.props.i18n._('Create', ' - ', ' -- '),useModalWithNoLayer:i,title:(0,p.jsx)(_.xu,{paddingY:8,width:"100%",children:(0,p.jsx)(_.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})})})}}function f(e){const t=(0,c.Z)(),o=(0,d.ZP)(),n=(0,a.Z)(),s=(0,i.useSelector)((({advertiser:e})=>e?e.id:void 0)),l=(0,r.Z)(),u=(0,i.useSelector)((({advertiser:e})=>!e||n.isAuth&&e.owner_user_id===n.id));return(0,p.jsx)(g,{...e,advertiserId:s,createBoard:t,dispatch:(0,i.useDispatch)(),isAdAccountOwner:u,viewer:n,i18n:o,orbacActingAs:l})}m(g,"defaultProps",{privacy:s.Z.BoardPrivacy.PUBLIC})},552091:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(121151),i=o(898781),s=o(883119),r=o(785893);function a({cancelButtonLabel:e,confirmButtonLabel:t,heading:o,message:a,onCancel:l,onConfirm:c}){const d=(0,i.ZP)(),u=o||d._('Are you sure?', ' - ', ' -- '),_=e||d._('Cancel', ' - ', ' -- ');return(0,r.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,r.jsxs)(s.xu,{marginEnd:-1,marginStart:-1,children:[(0,r.jsx)(s.xu,{"data-test-id":"cancel-button",padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,onClick:l,size:"lg",text:_})}),(0,r.jsx)(s.xu,{"data-test-id":"confirm-button",padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:c,size:"lg",text:t})})]}),heading:u,onDismiss:l,role:"alertdialog",children:(0,r.jsx)(s.xu,{padding:4,children:(0,r.jsx)(s.xv,{children:a})})})}},402524:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(966338),s=o(552091),r=o(6637),a=o(499128),l=o(717615),c=o(19121),d=o(229448),u=o(482546),_=o(904411),h=o(516570),p=o(898781),m=o(683190),g=o(231947),f=o(343341),x=o(780280),b=o(883119),v=o(708206),y=o(785893);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends n.Component{constructor(...e){super(...e),P(this,"state",{editMode:"main"}),P(this,"handleBoardLeave",(()=>{const{board:e,onBoardLeave:t,onClose:o}=this.props;o(),t&&t(e.id)})),P(this,"returnToMainEditMode",(()=>this.setState({editMode:"main"}))),P(this,"handleDelete",(()=>{const{board:e,deleteBoard:t,onBoardDelete:o,onClose:n,toastManagerContext:i,viewer:s,orbacActingAs:r}=this.props;t(e.id,(0,g.lJ)(s,r)).then((()=>{i.showToast((({hideToast:e})=>(0,y.jsx)(a.ZP,{onHide:e,text:this.props.i18n._('Board deleted!', 'User deleted their board', 'User deleted their board')})))})),this.returnToMainEditMode(),n(),o&&o(e)})),P(this,"handleShowDeleteModal",(()=>{this.setState({editMode:"confirmDelete"})})),P(this,"handleSubmit",(e=>{var t;const{viewer:o,orbacActingAs:n,board:i,updateBoard:s,onBoardPrivacyChange:a,onBoardUpdate:l,onClose:c}=this.props,d=this.props.board.id;if((0,g.D3)(o,(null===(t=i.owner)||void 0===t?void 0:t.id)||"",n)){const t={id:d,...e};return s(t,(0,g.lJ)(o,n)).then((()=>{i.privacy!==e.privacy&&a?a():l&&l(d,t),c()}))}{const{allow_homefeed_recommendations:t,collab_board_email:o}=e;t!==i.allow_homefeed_recommendations&&s({id:d,allow_homefeed_recommendations:t});return r.ZP.create("BoardSettingsResource",{board_id:d,collab_board_email:o}).callUpdate({showError:!1}).then((()=>c())).catch((e=>{throw e.message}))}}))}render(){var e;const{board:t,categories:o,viewer:i,orbacActingAs:r,onCropChange:a,onClose:l,onToggleFlyout:c,requestContext:d}=this.props,{editMode:u}=this.state,_=this.props.i18n._('Edit your board', 'BoardEdit.Heading.Text', 'edit board heading'),p=(0,g.D3)(i,(null===(e=t.owner)||void 0===e?void 0:e.id)||"",r),m=(0,y.jsxs)(b.xu,{paddingY:8,position:"relative",children:[(0,y.jsx)(b.X6,{align:"center",size:"500",children:_}),(0,y.jsx)(b.xu,{position:"absolute",top:!0,left:d.isRTL,right:!d.isRTL,paddingY:8,paddingX:6,children:(0,y.jsx)(b.hU,{accessibilityLabel:this.props.i18n._('Close', 'BoardEdit.icon.cancel', 'Icon to close board edit modal'),icon:"cancel",iconColor:"darkGray",onClick:l})})]});return(0,y.jsxs)(n.Fragment,{children:["main"===u&&(0,y.jsx)(h.Z,{board:t,categories:o,currentUserIsOwner:p,handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:p,isEditable:p,onClose:l,onCropChange:a,onDeleteButtonClick:this.handleShowDeleteModal,onSubmit:this.handleSubmit,onToggleFlyout:c,submitText:this.props.i18n._('Done', 'BoardEdit.BoardEdit', 'Submit button text'),title:m}),"confirmDelete"===u&&(0,y.jsx)(s.Z,{confirmButtonLabel:this.props.i18n._('Delete forever', 'Confirms the user wants to permanently delete the board', 'Confirms the user wants to permanently delete the board'),cancelButtonLabel:this.props.i18n._('Cancel', ' - ', ' -- '),message:this.props.i18n._('Once you delete a board and all its Pins, you can\'t undo it!', ' - ', ' -- '),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode})]})}}const A=(0,v.compose)(d.ZP,(0,i.connect)(null,(e=>({updateBoard:(t,o)=>e((0,m.wN)(t,o))}))))((function(e){const t=(0,p.ZP)(),o=function(){const e=(0,_.bn)(),t=(0,i.useDispatch)();return(0,n.useCallback)((async(o,n)=>{var i;const s=e[o],{pin_count:a}=s,{id:l=""}=null!==(i=s.owner)&&void 0!==i?i:{};t((0,m.eo)(o)),t((0,u.JS)({userId:l,increment:"number"==typeof a?-a:0})),await r.ZP.create("BoardResource",{board_id:o,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete()}),[e,t])}();return(0,y.jsx)(w,{...e,deleteBoard:o,requestContext:(0,x.B)(),viewer:(0,c.Z)(),orbacActingAs:(0,l.Z)(),i18n:t,toastManagerContext:(0,f.F9)()})}));var C=o(121151),E=o(784590);function T({boardId:e,coverImageHeight:t,coverImageWidth:o,onBoardArchiveChange:i,onBoardPrivacyChange:s,onBoardLeave:r,onBoardDelete:a,onBoardUpdate:l,onClose:c,onCropChange:d}){const u=(0,p.ZP)(),[h,m]=(0,n.useState)(!1),{data:g}=(0,E.Z)({name:"CategoriesResource",noCache:!0});(0,E.Z)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},noCache:!0});const f=(0,_.gC)()(e);if(!!(!f||!g))return(0,y.jsx)(C.ZP,{accessibilityModalLabel:u._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on modal'),onDismiss:c,size:"sm",children:(0,y.jsx)(b.xu,{padding:12,children:(0,y.jsx)(b.$j,{accessibilityLabel:u._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on loading spinner'),show:!0})})});return(0,y.jsx)(A,{board:f,categories:g,coverImageHeight:t,coverImageWidth:o,onBoardArchiveChange:i,onBoardPrivacyChange:s,onBoardLeave:r,onBoardDelete:a,onBoardUpdate:l,onClose:()=>{h||c()},onCropChange:d,onToggleFlyout:()=>m(!h)})}},913683:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);class i extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{const{isAtEnd:e,isFetching:t,fetchMore:o,scrollBuffer:n,scrollHeight:i,scrollTop:s}=this.props;e||t||s+n>i&&o()},(o="check")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},516570:(e,t,o)=>{o.d(t,{Z:()=>re});var n=o(667294),i=o(563126),s=o(966338),r=o(301921),a=o(310227),l=o(883119),c=o(785893);function d({handleTogglePinSelection:e,index:t,isSelected:o,pin:n}){return(0,c.jsx)(l.iP,{onTap:()=>{e(t)},rounding:a.mv,children:(0,c.jsx)(r.default,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:o?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var u=o(898781);const _=({boardPins:e,coverPinIndex:t,fetchMore:o,isLoaded:i,handleTogglePinSelection:s})=>{const r=(0,u.ZP)(),a=(0,n.useRef)(null);return(0,c.jsx)(l.xu,{overflow:"auto",maxHeight:600,ref:a,children:i?(0,c.jsx)(l.xu,{paddingY:4,children:a&&(0,c.jsx)(l.Rk,{columnWidth:152,comp:({data:e,itemIdx:o})=>(0,c.jsx)(d,{handleTogglePinSelection:s,index:o,isSelected:t===o,pin:e}),gutterWidth:16,items:e||[],loadItems:o,scrollContainer:()=>a.current||window})}):(0,c.jsx)(l.xu,{padding:6,children:(0,c.jsx)(l.$j,{show:!0,accessibilityLabel:r._('Loading', 'BoardCoverEdit.Accessibility.Label', 'accessibility label for loading spinner')})})})};var h=o(121151),p=o(6637),m=o(717615),g=o(784590),f=o(19121),x=o(293880),b=o(231947),v=o(985913),y=o(780280);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const w={border:0,top:120};class A extends n.Component{constructor(...e){super(...e),P(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),P(this,"handleUpdateImage",(()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,o=e.offsetWidth;this.setState((({holderHeight:e,holderWidth:n})=>({isSpinnerShown:!1,startBgPos:{left:-(o-n)/2,top:-(t-e)/2}})))})),P(this,"handleOnMouseUp",(()=>{this.isDragging&&(this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData()))})),P(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:o,holderWidth:n}=this.state;return{left:n/2-t/2,width:t,height:e,top:o/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),o=this.getImgScale(),n=this._getImageDimensions(),i=n.imgHeight*o,s=n.imgWidth*o;let r=0;return i&&s&&(r=this.state.startBgPos.left+this.state.deltaX,r+s-e<t.left&&(r=t.left-s+e),r>t.left&&(r=t.left)),r}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),o=this.getImgScale(),n=this._getImageDimensions(),i=n.imgHeight*o,s=n.imgWidth*o;let r=0;return i&&s&&(r=this.state.startBgPos.top+this.state.deltaY,r+i-e<t.top&&(r=t.top-i+e),r>t.top&&(r=t.top)),r}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:o,imgWidth:n}=this._getImageDimensions(),i=this.getFrameBounds();if(o&&n){let s=o/n;return s=s>=i.height/i.width?t/n:e/o,s}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let o={};if(e&&t){const n=this.getImgScale();o={width:n*t,height:n*e}}return o}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,o=this.getFrameBounds(),n=this.getBgBounds(),i=this.getImgScale();return{cropX:Math.round(-(n.left-o.left)/i),cropY:Math.round(-(n.top-o.top)/i),height:Math.round(e/i),width:Math.round(t/i),scale:i}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){var e,t,o;const{pin:n}=this.props,i=null===(e=n.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==i?void 0:i.height)&&void 0!==t?t:1,imgWidth:null!==(o=null==i?void 0:i.width)&&void 0!==o?o:1}}render(){var e,t;const{boardName:o,frameHeight:i,frameWidth:s,hideCoverNavigation:r,isFirst:a,isLast:d,isRTL:u,pin:_,showNextPin:h,showPrevPin:p}=this.props,{isSpinnerShown:m}=this.state,{imgHeight:g,imgWidth:f}=this._getImageDimensions(),x=this.getFrameBounds(),b=this.getImageBounds(),y=this.getBgBounds();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(l.xu,{height:300,overflow:"hidden",position:"relative",dangerouslySetInlineStyle:{__style:{margin:"15px"}},ref:e=>{this.holder=e},children:[(0,c.jsx)(l.xu,{left:!0,overflow:"hidden",position:"absolute",top:!0,dangerouslySetInlineStyle:{__style:{...y}},children:(0,c.jsx)("img",{alt:(0,v.Z)(this.props.i18n._('Board cover for {{ boardName }}', ' - ', ' -- '),{boardName:o}),onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:null===(e=_.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:{maxWidth:"none",opacity:g&&f?1:.01,transitionDuration:"0.4s",transitionProperty:"opacity",imageBounds:b}})}),(0,c.jsxs)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,c.jsx)("span",{style:{background:"#fff",opacity:.9,position:"absolute",top:0,left:0,right:0,height:x.top}}),(0,c.jsx)("span",{style:{background:"#fff",opacity:.9,position:"absolute",top:x.top,left:x.left+s,right:0,height:i}}),(0,c.jsx)("span",{style:{top:i+x.top,left:0,right:0,bottom:0}}),(0,c.jsx)("span",{style:{top:x.top,left:0,width:x.left,height:i}})]}),(0,c.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{boxShadow:"0 2px 3px rgba(#221919, 0.3), inset 0 0 0 1px rgba(#000, 0.3)",...x}}}),(0,c.jsx)("div",{style:{background:"#fff",bottom:0,cursor:"move",left:0,opacity:0,position:"absolute",right:0,top:0,zIndex:0},onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)},onMouseUp:()=>{this.handleOnMouseUp()},role:"presentation"}),(0,c.jsx)(l.xu,{height:30,left:!0,position:"absolute",right:!0,dangerouslySetInlineStyle:{__style:{bottom:"5px",display:m?"":"none",background:"url('~app/common/images/spinner.gif') no-repeat center"}}})]}),a||r?null:(0,c.jsx)(l.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...w,left:u?void 0:100,right:u?100:void 0}},children:(0,c.jsx)(l.hU,{icon:"arrow-back",accessibilityLabel:this.props.i18n._('Previous', 'Label for indicating selecting the previous pin', 'Label for indicating selecting the previous pin'),onClick:p})}),d||r?null:(0,c.jsx)(l.xu,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...w,left:u?100:void 0,right:u?void 0:100}},children:(0,c.jsx)(l.hU,{icon:"arrow-forward",accessibilityLabel:this.props.i18n._('Next', 'Label for indicating selecting the previous pin', 'Label for indicating selecting the previous pin'),onClick:h})})]})}}function C(e){const t=(0,u.ZP)(),{isRTL:o}=(0,y.B)();return(0,c.jsx)(A,{...e,isRTL:!!o,i18n:t})}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function T(e){return e.reduce(((e,t)=>("pin"===t.type&&e.push(t),e)),[])}function j({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,T(e||[]).findIndex((e=>e.id===t)))}class I extends n.Component{constructor(...e){super(...e),E(this,"state",{coverPinIndex:j(this.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),E(this,"handleSave",(()=>{var e,t,o;const{boardId:n,dispatch:i,viewer:s,orbacActingAs:r}=this.props,{coverPinIndex:a,imgCropData:l}=this.state,c=(this.pins||[])[a],d=(0,b.lJ)(s,r);if(!c)return;const u=null===(e=c.images)||void 0===e?void 0:e["236x"],_=null==u?void 0:u.url,h=l?{crop_x:l.cropX,crop_y:l.cropY,height:l.height,width:l.width,scale:l.scale}:{crop_x:0,crop_y:0,height:null==u?void 0:u.height,width:null==u?void 0:u.width,scale:1},m={board_id:n,url:_,pin_id:c.id,pin_image_url:_,...h,...d?{orbac_subject_id:d}:Object.freeze({})},g={height:null!==(t=null==u?void 0:u.height)&&void 0!==t?t:0,width:null!==(o=null==u?void 0:u.width)&&void 0!==o?o:0,x:l?l.cropX:0,y:l?l.cropY:0};p.ZP.create("BoardResource",m).callUpdate().then((()=>{this.props.onSave(null!=_?_:""),i((0,x.Cr)(n,{custom_cover:!0,scale:l?l.scale:1,pin_id:c.id,crop:g,image_url:null!=_?_:""}))}))})),E(this,"updateImgCrop",(e=>this.setState({imgCropData:e}))),E(this,"handleShowNextPin",(()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:o}}=this.props,n=(this.pins||[]).length;n&&this.setState((({coverPinIndex:e})=>({coverPinIndex:(e+1)%n})),(()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&o()}))})),E(this,"handleShowPrevPin",(()=>{const e=(this.pins||[]).length;e&&this.setState((({coverPinIndex:t})=>({coverPinIndex:(t||e)-1})))})),E(this,"handleTogglePinSelection",(e=>{const t=this.pins||[];this.setState({coverPinIndex:e,selectedCoverPin:t[e]})})),E(this,"handleCoverEditBackButtonClick",(()=>{this.setState({selectedCoverPin:null})})),E(this,"renderBoardCoverMasonry",(()=>{const{coverPinIndex:e,selectedCoverPin:t}=this.state,{boardName:o,boardFeedResource:n,frameHeight:i,frameWidth:s}=this.props,r=this.pins||[],{data:a,fetchMore:l,isLoaded:d}=n;return t?(0,c.jsx)(C,{boardName:o,frameHeight:null!=i?i:236,frameWidth:null!=s?s:236,isFirst:!e,isLast:e===r.length-1,pin:t,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop,hideCoverNavigation:!0}):(0,c.jsx)(_,{boardPins:a,coverPinIndex:e,fetchMore:l,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:d})})),E(this,"renderCoverEditHeader",(()=>(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"center",height:80,children:(0,c.jsx)(l.xu,{width:"100%",padding:4,children:(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Navigate to cover picker', 'BoardEdit.back.button', 'Cover picker navigate back button'),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleCoverEditBackButtonClick}),(0,c.jsx)(l.X6,{size:"500",children:this.props.i18n._('Move and scale to crop', 'BoardEdit.Heading.Experiment.Text', 'edit board heading')}),(0,c.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardCoverEdit.icon.cancel', 'Cancel board cover edit'),icon:"cancel",iconColor:"darkGray",onClick:this.props.onCancel})]})})})))}static getDerivedStateFromProps(e,t){const o=e.boardFeedResource.data,{previousBoardFeedResourceData:n}=t;return!n&&o?{previousBoardFeedResourceData:o,coverPinIndex:j(e)}:{previousBoardFeedResourceData:o}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,o=e.boardFeedResource.data;(t&&o!==t&&t.length||t&&o&&t.length!==o.length)&&t.forEach((e=>{if("pin"===e.type){(new Image).src=e.url}}))}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?T(e):void 0}render(){const{heading:e,onCancel:t}=this.props,{coverPinIndex:o,selectedCoverPin:n}=this.state,i=(this.pins||[])[o];return(0,c.jsx)(h.ZP,{accessibilityModalLabel:this.props.i18n._('Change Board Cover', 'accessible label for modal to change board cover image', 'accessible label for modal to change board cover image'),size:"lg",heading:n?this.renderCoverEditHeader():e,onDismiss:t,footer:n&&(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,c.jsx)(l.xu,{padding:2,children:(0,c.jsx)(l.zx,{disabled:!i,onClick:this.handleSave,text:this.props.i18n._('Done', 'BoardCoverEdit.Button.Submit.Exp', 'Button for saving board cover edit')})})}),children:this.renderBoardCoverMasonry()})}}function S(e){const t=(0,u.ZP)(),o=(0,s.useDispatch)(),n=(0,g.Z)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return(0,c.jsx)(I,{...e,boardFeedResource:n,dispatch:o,i18n:t,viewer:(0,f.Z)(),orbacActingAs:(0,m.Z)()})}var z=o(552091);const k=({label:e,labelId:t})=>t?(0,c.jsx)(l.__,{htmlFor:t,children:(0,c.jsx)(l.xv,{size:"100",children:e})}):(0,c.jsx)(l.xv,{size:"100",children:e});function D(e){const{children:t,label:o,labelId:i}=e;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(l.xu,{marginBottom:2,children:(0,c.jsx)(k,{label:o,labelId:i})}),t]})}const R=138;function O({coverPin:e,handleShowBoardCoverEditModal:t}){const o=(0,u.ZP)(),[i,s]=(0,n.useState)(!1),{isRTL:r}=(0,y.B)();return(0,c.jsx)(D,{label:o._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,c.jsx)(l.xu,{width:R,position:"relative",children:(0,c.jsx)(l.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(l.zd,{height:R,rounding:4,width:R,children:(0,c.jsx)(l.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||R,naturalWidth:e.size&&e.size[0]||R,src:e.image_url})}),(0,c.jsx)(l.xu,{position:"absolute",left:r,right:!r,bottom:!0,padding:2,children:(0,c.jsx)(l.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:i?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,c.jsx)(l.JO,{accessibilityLabel:o._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),icon:"edit",color:"default",size:16})})})]}):(0,c.jsx)(l.xu,{alignItems:"center",color:i?"darkWash":"lightGray",display:"flex",height:R,justifyContent:"center",rounding:4,width:R,children:(0,c.jsx)(l.JO,{accessibilityLabel:o._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function L({children:e,label:t,labelId:o,subtext:i}){return(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,c.jsx)(l.xu,{marginStart:2,children:(0,c.jsxs)(l.__,{htmlFor:o,children:[(0,c.jsx)(l.xv,{size:"300",weight:"bold",children:t}),i]})})]})})}function F({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:o}){const n=(0,u.ZP)();return t&&(0,c.jsx)(L,{label:n._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,c.jsx)(l.xv,{color:"subtle",size:"300",children:n._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(l.xu,{marginEnd:1,children:(0,c.jsx)(l.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:o})})})})}var M=o(623122),N=o(349700);function B({board:e,onCollaboratorInviteClick:t}){var o;const n=(0,u.ZP)(),i=(0,M.Z)({boardId:e.id,ownerName:null!==(o=e.owner.full_name)&&void 0!==o?o:"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),s=i.slice(0,3).map((e=>e.name));let r="";switch(i.length){case 3:r=(0,N.Wc)(`${n._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${s[0]}`,second:`${s[1]}`,last:`${s[2]}`});break;case 2:r=(0,N.Wc)(`${n._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${s[0]}`,second:`${s[1]}`});break;default:r=s.join(", ")}const a=i.length>3?(0,N.Wc)(n.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', i.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:r,leftCount:""+(i.length-3)}):(0,N.Wc)(`${n._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:r});return(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(l.HE,{accessibilityLabel:a,collaborators:i.map((({name:e,src:t})=>({src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:e}))),size:"md"}),(0,c.jsx)(l.hU,{accessibilityLabel:n._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}var U=o(948618),Z=o(966113);function G({board:e,onCollaboratorInviteClick:t}){const o=(0,u.ZP)(),n=(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(l.xv,{size:"100",inline:!0,children:o._('Collaborators', ' - ', ' -- ')}),(0,c.jsx)(U.Z,{}),(0,c.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:(0,c.jsx)(l.rU,{inline:!0,target:"blank",href:Z.Z.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,underline:"hover",children:o._('Learn more', ' - ', ' -- ')})})]});return(0,c.jsx)(D,{label:n,labelId:"collaborators",children:(0,c.jsx)(B,{board:e,onCollaboratorInviteClick:t})})}function H({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:o}){const n=(0,u.ZP)();return t&&(0,c.jsx)(L,{label:n._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,c.jsx)(l.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:o})})}function V({description:e,descriptionValidatorErrors:t,onChange:o}){const n=(0,u.ZP)(),i="boardEditDescription";return(0,c.jsx)(D,{label:n._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,c.jsx)(l.Kx,{errorMessage:t.join(", "),id:i,name:"description",onChange:o,placeholder:n._('What\'s your board about?', ' - ', ' -- '),value:e})})}const W=({children:e})=>(0,c.jsx)(l.xu,{paddingX:8,role:"list",children:n.Children.map(e,((t,o)=>t&&(0,c.jsx)(l.xu,{role:"listitem",marginBottom:o===n.Children.count(e)-1?1:8,children:t},o)))});var K=o(27255);function $({isProtectedToggler:e,isToggleDisable:t,onChange:o,onCheckboxChange:i,privacy:s}){const r=(0,u.ZP)();if(!0===e)return(0,c.jsx)(L,{label:r._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,c.jsx)(l.xu,{paddingY:2,children:(0,c.jsx)(l.rs,{onChange:o,switched:s===K.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(s!==K.Z.BoardPrivacy.PROTECTED){const e=r._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),o=(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(l.xv,{color:"subtle",size:"300",children:[r._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,c.jsx)(l.rU,{inline:!0,target:"blank",href:Z.Z.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,underline:"hover",children:r._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,c.jsx)(L,{label:e,labelId:"secret",subtext:o,children:(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(l.XZ,{checked:s===K.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:i,disabled:t})})})}return null}function Y({allowHomefeedRecommendations:e,onCheckboxChange:t}){const o=(0,u.ZP)();return(0,c.jsx)(L,{label:o._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,c.jsx)(l.xv,{color:"subtle",size:"300",children:o._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,c.jsx)(l.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function q({name:e,nameValidatorErrors:t,onChange:o}){const n=(0,u.ZP)();return(0,c.jsx)(D,{label:n._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,c.jsx)(l.nv,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:o,placeholder:n._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}var X=o(66699),Q=o(343341),J=o(134906);function ee(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const te=(e,t)=>(0,J.Gy)({max:e,maxErrorString:(0,X.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),oe=e=>[te(K.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],ne=e=>[(0,J.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),te(K.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],ie=({condition:e,children:t})=>e?(0,c.jsx)(l.xu,{position:"absolute",zIndex:h.b7,children:t}):t;class se extends n.Component{constructor(e){super(e),ee(this,"handleChangeName",(({value:e})=>{const t=(0,J.FU)(ne(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})})),ee(this,"handleChangeDescription",(({value:e})=>{const t=(0,J.FU)(oe(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})})),ee(this,"handleChangePrivacyToggle",(({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})})),ee(this,"handleEnableSecret",(()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})})),ee(this,"handleHideSecretConfirmation",(()=>{this.setState({showSecretConfirmation:!1})})),ee(this,"handleChangeRecommendationToggle",(({value:e})=>{this.setState({allowHomefeedRecommendations:e})})),ee(this,"handleChangeCollabBoardEmail",(({value:e})=>{this.setState({collab_board_email:e})})),ee(this,"handleChangeCollaboratorInvitesEnabled",(({value:e})=>{this.setState({collaboratorInvitesEnabled:e})})),ee(this,"handleCheckboxChange",(e=>({event:t,checked:o})=>e({event:t,value:o}))),ee(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props,{collab_board_email:o,collaboratorInvitesEnabled:n,description:i,name:s,privacy:r,allowHomefeedRecommendations:a}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const l=s.trim(),c=i.trim();this.setState({submitting:!0,submitError:""}),t({name:l,collab_board_email:o,collaborator_invites_enabled:n,description:c,privacy:r,allow_homefeed_recommendations:a}).then((()=>{this.setState({submitting:!1})})).catch((e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){const{message:o,message_detail:n}=e;t=n?`${o} ${n}`:o}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})}))})),ee(this,"handleShowBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!0})})),ee(this,"handleHideBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!1})})),ee(this,"handleShowCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!0})})),ee(this,"handleHideCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!1})})),ee(this,"handleSaveBoardCoverEditModal",(e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)}));const{board:{collab_board_email:t,collaborator_invites_enabled:o,description:n,name:i,pin_count:s,privacy:r,allow_homefeed_recommendations:a}}=e;this.state={collab_board_email:t,description:n,name:i,pin_count:s,privacy:r,allowHomefeedRecommendations:a,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:i,previousDescription:n,previousPrivacy:r}}static getDerivedStateFromProps(e,t){const o={};return e.board.name!==t.previousName&&(o.previousName=e.board.name,o.nameValidatorErrors=(0,J.FU)(ne(e.i18n),e.board.name)),e.board.description!==t.previousDescription&&(o.previousDescription=e.board.description,o.descriptionValidatorErrors=(0,J.FU)(oe(e.i18n),e.board.description)),e.board.privacy!==t.previousPrivacy&&(o.previousPrivacy=e.board.privacy),o}getFormFooter(){const{submitText:e}=this.props,{submitError:t}=this.state;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(l.xu,{height:48,children:(0,c.jsx)(l.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,c.jsx)(l.xu,{paddingX:1,children:(0,c.jsx)(l.xv,{color:"error",children:t})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:o,submitting:n}=this.state;return!t||o.length>0||e.length>0||n}render(){const{board:e,board:{archived_by_me_at:t,cover_pin:o,id:s,is_collaborative:r},coverImageHeight:a,coverImageWidth:d,currentUserIsOwner:u,handleBoardLeave:_,isAdAccount:p,isAdAccountOwner:m,isDeletable:g,isEditable:f,isNameAndSecretView:x,onClose:b,onDeleteButtonClick:v,requestContext:y,title:P,useModalWithNoLayer:w}=this.props,{allowHomefeedRecommendations:A,collab_board_email:C,collaboratorInvitesEnabled:E,description:T,descriptionValidatorErrors:j,name:I,nameValidatorErrors:k,pin_count:D,privacy:R,showBoardCoverEdit:L,showCollaboratorsModal:M,showSecretConfirmation:B}=this.state,U=f&&D>0;let Z=(0,c.jsxs)(W,{children:[U&&(0,c.jsx)(O,{coverPin:o,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,c.jsx)(q,{name:I,nameValidatorErrors:k,onChange:this.handleChangeName}),(0,c.jsx)(V,{description:T,descriptionValidatorErrors:j,onChange:this.handleChangeDescription}),u&&!!_&&(0,c.jsx)(G,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,c.jsx)(l.xu,{marginBottom:-7,children:(0,c.jsx)(l.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,c.jsx)($,{isProtectedToggler:!!p,isToggleDisable:!!p&&!m,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:R}),!t&&(0,c.jsx)(Y,{allowHomefeedRecommendations:A,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,c.jsx)(F,{hasCollabBoardEmail:C,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,c.jsx)(H,{collaboratorInvitesEnabled:E,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),g&&(0,c.jsxs)(l.xu,{marginTop:-6,paddingY:4,children:[(0,c.jsx)(l.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,c.jsxs)(l.iP,{onTap:v,children:[(0,c.jsx)(l.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,c.jsx)(l.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,c.jsx)(l.xv,{size:"300",color:"subtle",children:this.props.i18n._('Delete this board and all its Pins forever.', 'BoardForm.BoardForm.Delete.Label', 'Delete board warning text')}),(0,c.jsx)(l.xv,{size:"300",color:"subtle",children:this.props.i18n._('You can\'t undo this!', 'BoardForm.BoardForm.Delete.LabelTwo', 'Delete board warning text')})]})]})]});u?x&&(Z=(0,c.jsxs)(W,{children:[(0,c.jsx)(q,{name:I,nameValidatorErrors:k,onChange:this.handleChangeName}),(0,c.jsx)($,{isProtectedToggler:!!p,isToggleDisable:!!p&&!m,onChange:this.handleChangePrivacyToggle,privacy:R,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):Z=(0,c.jsxs)(W,{children:[!!_&&(0,c.jsx)(G,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,c.jsx)(F,{hasCollabBoardEmail:C,isCollaborative:r,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&(0,c.jsx)(Y,{allowHomefeedRecommendations:A,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,c.jsx)(l.xv,{color:"subtle",size:"300",children:(0,N.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,c.jsx)(l.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});const K=w?l.u_:h.ZP,X=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),Q=(0,c.jsxs)(l.xu,{paddingY:8,position:"relative",children:[(0,c.jsx)(l.X6,{align:"center",size:"500",children:X}),(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:y.isRTL,right:!y.isRTL,paddingY:8,paddingX:6,children:(0,c.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})})]});return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(ie,{condition:!!w,children:!L&&!M&&(0,c.jsx)(K,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),size:"sm",onDismiss:b,footer:this.getFormFooter(),heading:P,children:(0,c.jsx)(l.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,c.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:Z})})})}),L&&(0,c.jsx)(S,{boardId:s,boardName:I,coverPinId:null==o?void 0:o.pin_id,frameHeight:a,frameWidth:d,heading:Q,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),B&&(0,c.jsx)(z.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),M&&(0,c.jsx)(i.Z,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})]})}}function re(e){const t=(0,u.ZP)();return(0,c.jsx)(se,{...e,i18n:t,requestContext:(0,y.B)(),toastManagerContext:(0,Q.F9)()})}ee(se,"defaultProps",{isNameAndSecretView:!1})},749385:(e,t,o)=>{o.d(t,{$I:()=>P,$o:()=>h,CC:()=>f,Hr:()=>r,Jo:()=>u,OE:()=>y,Ux:()=>m,XQ:()=>v,XZ:()=>g,Zo:()=>x,aD:()=>b,b2:()=>A,dJ:()=>i,g2:()=>C,g6:()=>c,il:()=>a,lM:()=>l,qN:()=>_,qX:()=>s,s4:()=>p,ym:()=>w});var n=o(966113);const i=546,s={height:136,width:272},r={advertise:n.Z.settings.BUSINESS_SITE_URL+"/advertise",targeting:n.Z.settings.BUSINESS_SITE_URL+"/advertise/#targeting",how_to_make_pins:n.Z.settings.BUSINESS_SITE_URL+"/basics/how-to-make-pins/#best-practices",success_stories:n.Z.settings.BUSINESS_SITE_URL+"/success-stories/"},a={status_page_header_background:"https://i.pinimg.com/originals/76/52/b8/7652b80aac786dac958ce996d9692771.png",additional_resources_business_advertise:"https://i.pinimg.com/originals/58/4d/6f/584d6f9e21d7e95b723c04015a7f3333.png",additional_resources_business_audience:"https://i.pinimg.com/originals/44/3d/67/443d671687e418a4ec23bb56419c509c.png",additional_resources_business_how_to_make_pins:"https://i.pinimg.com/originals/79/f4/99/79f499fedffcfd50ee86ebaac4f34e9a.png",additional_resources_business_success_stories:"https://i.pinimg.com/originals/e0/55/12/e05512dbb012d7bd1861d901dc851b2e.png"},l=["US","GB","CA","AU","DE","FR"],c=["ES","IT","AT","CH","NL","BR","MX"],d=["FR"],u=l.concat(c).filter((e=>!d.includes(e))),_={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},h={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},p=Object.freeze({APPLIED:"APPLIED",IN_REVIEW:"IN_REVIEW",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED",OUTBOUND_LEAD:"OUTBOUND_LEAD"}),m=(e,t)=>{switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"IN_REVIEW":return t._('In review', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently in review to become a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},g=[p.NON_COMPLIANT,p.SUSPENDED],f=Object.freeze({UNSUPPORTED_MARKET:"unsupported_market",TAG_ID_NOT_CREATED:"tag_id_not_created",NO_TAG_TRAFFIC:"no_tag_traffic",HEALTH_SCORE_NOT_AVAILABLE:"health_score_not_available",UNHEALTHY:"unhealthy",ACCEPTABLE:"acceptable",HEALTHY:"healthy"}),x=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"alert",REJECTED:"clear",RECOMMENDED:"info-circle"}),b=Object.freeze({UNSTARTED:"subtle",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),v="https://view.highspot.com/viewer/5e712f05628ba21710e1b606",y="https://help.pinterest.com/contact?current_page=about_you_page&business_issues=visual_search_shopping&visual_search_shopping_issue=shop_issue_vmp",P={status:"APPLIED",userId:"user_undefined",is_approved:!1,last_compliant_at:""},w="Verified merchant program not yet available in this country",A=2e3,C={can_appeal:!0,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2}},969986:(e,t,o)=>{o.d(t,{EL:()=>d,Hn:()=>h,I0:()=>u,QZ:()=>l,UF:()=>_,em:()=>p,kw:()=>a,ye:()=>c});var n=o(86551),i=o(784590),s=o(19121),r=o(780280);const a=()=>{var e,t;const o=(0,r.B)(),n=(0,i.Z)({name:"AdvertisersResource",options:{ownerUserId:null===(e=o.advertiser)||void 0===e?void 0:e.owner_user_id}});return(0,i.Z)({name:"VerifiedMerchantTagStatusResource",options:{advertisers:null===(t=n.data)||void 0===t?void 0:t.map((({country:e,id:t,name:o})=>({country:e,id:t,name:o})))}})},l=()=>{var e,t;const o=(0,r.B)(),n=(0,s.Z)(),a=n.isAuth?n.id:"";return(0,i.Z)({name:"VerifiedMerchantResource",options:{userId:null!==(e=null===(t=o.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:a}})},c=()=>{var e;const t=null===(e=(0,n.Z)().data)||void 0===e?void 0:e.id;return(0,i.Z)({name:"VerifiedMerchantResource",options:{userId:t}})},d=()=>{var e,t;const o=(0,r.B)(),n=(0,s.Z)(),a=n.isAuth?n.id:"";return(0,i.Z)({name:"UserResource",options:{user_id:null!==(e=null===(t=o.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:a}})},u=()=>{var e;const t=(0,r.B)();return(0,i.Z)({name:"CatalogsMerchantMetadataResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},_=()=>{var e;const t=(0,r.B)();return(0,i.Z)({name:"CatalogsFeedResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},h=()=>{var e;const t=(0,r.B)();return(0,i.Z)({name:"CatalogsMerchantResource",options:{merchantId:null===(e=t.advertiser)||void 0===e?void 0:e.merchant_id}})},p=()=>{var e,t;const o=(0,s.Z)(),n=(0,i.Z)({name:"UserResource",options:{user_id:o.id||"",field_set_key:"merchant_summary"}}),r=(null===(e=n.data)||void 0===e?void 0:e.ppa_merchant_id)||(null===(t=n.data)||void 0===t?void 0:t.merchant_id),a=(0,i.Z)({name:"ApiResource",options:{url:`/v3/merchant_reviews/${r||""}/latest`}});return r?a:null}},283855:(e,t,o)=>{o.d(t,{K:()=>r,Q:()=>s});var n=o(667294);const i=(0,n.createContext)(null),s=i.Provider;function r(){const e=(0,n.useContext)(i);return null==e?void 0:e.featuredCommentId}},394107:(e,t,o)=>{o.d(t,{LH:()=>i,Rv:()=>s,TJ:()=>r,iB:()=>n,pW:()=>a});const n=48,i=n+8,s=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),r="comment_featured_ids",a="did_it_featured_ids"},703425:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(784590),i=o(116303),s=o(694379),r=o(898781),a=o(545062),l=o(19121),c=o(349700),d=o(883119),u=o(785893);const _=({creatorData:e,onTap:t,onUserFollow:o})=>{const n=(0,r.ZP)(),_=(0,l.Z)(),{explicitly_followed_by_me:h,follower_count:p=0,full_name:m,id:g,image_medium_url:f,username:x,verified_identity:b}=e||{},v=`/${x}/`;return(0,u.jsx)(d.sg,{span:4,children:(0,u.jsxs)(d.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:1,dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},children:[(0,u.jsx)(d.iP,{href:v,onTap:()=>t(g),role:"link",children:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,u.jsx)(d.xu,{width:60,height:60,children:(0,u.jsx)(i.Z,{name:null!=m?m:"",size:"fit",src:null!=f?f:"",verified:!(null==b||!b.verified)})}),(0,u.jsxs)(d.xu,{paddingY:2,marginBottom:1,children:[(0,u.jsx)(d.xu,{marginBottom:1,children:(0,u.jsx)(d.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:m})}),(0,u.jsx)(d.xv,{align:"center",size:"100",children:(0,c.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', p, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,u.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:p},p)})})]})]})}),(0,u.jsx)(a.Z,{fullName:m,id:g,imageUrl:f,isOwnProfile:_.isAuth&&_.id===g,profileUrl:`/${x}/`,userFollowed:h,onUserFollow:e=>o({userIsNowFollowing:e,creatorId:g}),isSecondaryButton:!0,size:"sm",shouldStopEventPropagation:!0,viewType:3,viewParameter:156})]})})};var h=o(829407),p=o(407043);const m=({creatorRecs:e,fullName:t,pinId:o,viewParameter:n,viewType:i})=>{const{logContextEvent:s}=(0,p.v)(),a=(0,r.ZP)();(0,h.Z)((()=>{s({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}})}));const l=e=>{s({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...o?{pin_id:o}:{}}})},m=({userIsNowFollowing:e,creatorId:t})=>{s(e?{event_type:45,component:13891,object_id_str:t,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}}:{event_type:46,component:13891,object_id_str:t,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}})};return(0,u.jsx)(d.xu,{minWidth:440,paddingY:4,children:(0,u.jsxs)(d.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[t&&(0,u.jsx)(d.X6,{align:"center",size:"300",children:(0,c.nk)(a._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:t})}),(0,u.jsx)(d.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map((e=>(0,u.jsx)(_,{creatorData:e.user,onTap:l,onUserFollow:m},e.user_id)))})]})})},g=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity"],f=({fullName:e,id:t,numCreatorsToShow:o=3,pinId:i,viewParameter:s,viewType:r})=>{const a=(0,n.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:g.join(","),page_size:o,referrer:4,target_user:t}}});if(!a.isLoaded||!a.data||a.data.length!==o)return null;const l=a.data||[];return(0,u.jsx)(m,{creatorRecs:l,fullName:e,pinId:i,viewParameter:s,viewType:r})}},783571:(e,t,o)=>{o.d(t,{b:()=>a,n:()=>r});var n=o(966338),i=o(605028),s=o(558068);function r(){const{forward:e}=(0,s.H)(),t=e&&e.length>0?e[0].match.path:null;return!!(!!t&&(e=>e.includes("/:username/"))(t))}function a(e){const t=(0,n.useSelector)((({pins:t})=>t[e]));if(r()){const{isLeadPin:e,isProduct:o}=(0,i.Z)(t);return{creatorRecsPrevState:!(!t||e||o)&&!!t.show_suggested_creator_recs}}return{creatorRecsPrevState:!1}}},878621:(e,t,o)=>{o.d(t,{Z:()=>q});var n=o(667294),i=o(985913),s=o(91564),r=o(784590),a=o(883119),l=o(966338),c=o(745091),d=o(395141),u=o(6637),_=o(407043),h=o(60598),p=o(391254),m=o(887831),g=o(898781),f=o(785893);function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class b extends n.Component{constructor(...e){super(...e),x(this,"_videoContainerRef",null),x(this,"removeVideoTag",(()=>{this._videoContainerRef&&this._videoContainerRef.childNodes[0]&&this._videoContainerRef.removeChild(this._videoContainerRef.childNodes[0])})),x(this,"clear",(({event:e})=>{e.stopPropagation(),this.removeVideoTag(),this.props.handleRemoveClick()}))}get isPin(){const{display:e,imagePreviewSrc:t,videoUrls:o}=this.props;return!("pin"!==e||!t&&!o)}renderProgressBar(){const{progress:e}=this.props,t=100===e||0===e?"uploadProgressBar transition":"uploadProgressBar";return(0,f.jsx)("div",{className:t,style:{width:`${e}%`}})}renderDropZone(){return(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(a.JO,{color:"default",icon:"camera",accessibilityLabel:this.props.i18n._('Add a Photo', 'Add a photo as part of a form', 'Add a photo as part of a form'),size:32})})}),(0,f.jsx)(a.xu,{marginTop:2,paddingX:12,children:(0,f.jsx)(a.xv,{align:"center",color:"default",weight:"bold",children:this.props.i18n._('Drag and drop or click to upload', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin')})})]})}renderImage(){const{height:e,imagePreviewSrc:t,width:o}=this.props,n=this.props.i18n._('Your Upload', 'Image a pinner just uploaded to a form', 'Image a pinner just uploaded to a form');return this.isPin?(0,f.jsx)("img",{alt:n,src:t}):(0,f.jsx)(a.xu,{height:e,width:o,children:(0,f.jsx)(a.Ee,{alt:n,src:t,color:"white",naturalHeight:e,naturalWidth:o})})}renderResetButton(){return(0,f.jsx)(a.xu,{top:!0,left:!0,position:"absolute",margin:2,children:(0,f.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Remove Photo', 'Remove photo from a form', 'Remove photo from a form'),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}renderContent(){const{height:e,imagePreviewSrc:t,isHovering:o,isVideo:i,isVideoComplete:s,isOver:r,thumbnail:l,videoUrls:c,allowReset:d=!0,width:u}=this.props,_=c?(0,f.jsx)("video",{height:this.isPin?"auto":e,width:u,autoPlay:!0,controls:!0,loop:!0,poster:l||"",children:Object.keys(c).map((e=>(0,f.jsx)("source",{src:c[e],type:"hls"===e?"m3u8":"video/mp4"},e)))}):null,h=r?"lightGray":"white";return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(a.zd,{rounding:2,height:"100%",children:(0,f.jsxs)(a.xu,{color:h,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:[!t&&!i&&this.renderDropZone(),i&&!c&&(0,f.jsxs)(a.xu,{children:[s&&(0,f.jsx)(a.xv,{align:"center",weight:"bold",children:this.props.i18n._('Processing Video', 'Loading message shown while user video is uploading', 'Loading message shown while user video is uploading')}),(0,f.jsx)(a.xu,{paddingY:4,children:(0,f.jsx)(a.$j,{show:!0,accessibilityLabel:this.props.i18n._('Video uploading', 'Loading spinner while video uploads', 'Loading spinner while video uploads')})})]}),_,t&&this.renderImage()]})}),(t||c)&&d&&o&&this.renderResetButton()]})}render(){const{connectDropTarget:e,height:t,imagePreviewSrc:o,onClick:n,videoUrls:i,width:s,hoverHandlers:{onMouseOver:r,onMouseLeave:l}}=this.props,c=this.isPin?"auto":t,d={width:s,border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:o?"default":"pointer",height:c,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},u=(0,f.jsxs)(a.xu,{position:"relative",children:[(0,f.jsx)(p.Z,{unsafeCSS:"\n.uploadProgressBar {\n  background-color: #e60023;\n  border-radius: 8px;\n  height: 16px;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 85ms ease-in, width 85ms ease-in;\n  z-index: 10;\n\n  &.transition {\n    opacity: 0;\n    transition: opacity 85ms ease-in, width 85ms ease-in;\n  }\n}\n"}),this.renderProgressBar(),o||i?(0,f.jsx)("div",{onMouseEnter:r,onMouseLeave:l,style:{...d},children:this.renderContent()}):(0,f.jsx)("button",{style:d,onClick:n,onMouseEnter:r,onMouseLeave:l,children:this.renderContent()})]});return e((0,f.jsx)("div",{children:u}))}}const v=(0,h.GR)((e=>e.accepts),{drop:(e,t)=>{e.onDrop&&e.onDrop(e,t)}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((function(e){const t=(0,g.ZP)(),{isHovering:o,hoverHandlers:n}=(0,m.Z)();return(0,f.jsx)(b,{...e,i18n:t,isHovering:o,hoverHandlers:n})}));function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const P=["video/quicktime","video/mp4"];class w extends n.Component{constructor(...e){var t;super(...e),t=this,y(this,"state",{imagePreviewSrc:this.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),y(this,"mounted",!1),y(this,"containerRef",null),y(this,"fileInputRef",null),y(this,"xhr",null),y(this,"CHECK_VIDEO_TIMEOUT",null),y(this,"ERROR_MESSAGE",this.props.i18n._('Unable to upload video. Please try again later.', 'Error shown when we can\'t accept video uploads', 'Error shown when we can\'t accept video uploads')),y(this,"handleFileDrop",((e,t)=>{if(t&&(!this.xhr||4===this.xhr.readyState)){const e=t.getItem().files[0];this.handleFile(e)}})),y(this,"handleFile",(e=>{const{onImageUploadStart:t}=this.props;e.size>2e9?this.showError(this.props.i18n._('The video is too large. The maximum size is 2 GB.', 'Error if a user tries to upload a video that is too large', 'Error if a user tries to upload a video that is too large')):(this.props.allowVideo&&P.includes(e.type)&&this.setState({isVideo:!0}),this.loadMedia(e),t&&t())})),y(this,"showError",(e=>{const t=(0,f.jsx)(a.J2,{color:"red",anchor:this.containerRef,idealDirection:this.props.idealErrorDirection,onDismiss:()=>this.setState({errorFlyout:null}),size:"sm",shouldFocus:!1,children:(0,f.jsx)(a.xu,{padding:3,children:(0,f.jsx)(a.xv,{color:"inverse",weight:"bold",children:(0,f.jsx)("span",{children:e})})})});this.removePreview(t)})),y(this,"openFileDialog",(()=>{this.state.imagePreviewSrc||this.state.isVideo||(this.props.logContextEvent({event_type:101,component:192,element:1156}),this.fileInputRef&&this.fileInputRef.click())})),y(this,"openFile",(e=>{const t=e.target.files[0];this.handleFile(t)})),y(this,"removePreview",(e=>{this.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),this.fileInputRef&&(this.fileInputRef.value=""),this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.xhr=null),this.CHECK_VIDEO_TIMEOUT&&clearTimeout(this.CHECK_VIDEO_TIMEOUT),this.props.onReset&&this.props.onReset()})),y(this,"checkForMedia",(async function(e){const o=await u.ZP.create("VIPResource",{upload_ids:[e]}).callGet();if(o.resource_response&&o.resource_response.data&&o.resource_response.data[e]){const n=o.resource_response.data[e],{status:i,signature:s}=n;"processing"===i||"registered"===i?t.CHECK_VIDEO_TIMEOUT=setTimeout((()=>t.checkForMedia(e)),1e3):"succeeded"===i?t.handleMediaUploadSuccess(s,e):t.showError(t.ERROR_MESSAGE)}else t.showError(t.ERROR_MESSAGE)})),y(this,"loadMedia",(e=>{const{isVideo:t}=this.state,o=t?"video":"triedit-image";u.ZP.create("VIPResource",{type:o}).callCreate().then((t=>{var o,n;const{upload_id:i,upload_url:s,upload_parameters:r}=null!==(o=null===(n=t.resource_response)||void 0===n?void 0:n.data)&&void 0!==o?o:{};this.uploadMedia(e,i,s,r)}),(()=>{this.showError(this.ERROR_MESSAGE)}))})),y(this,"uploadMedia",((e,t,o,n)=>{const{isVideo:i}=this.state,s=new XMLHttpRequest;s.open("POST",o,!0),s.onload=()=>{(e=>e>=200&&e<400)(s.status)?this.setState({errorFlyout:null,isVideoComplete:i}):this.showError(this.props.i18n._('Something went wrong. Please try again later.', 'Error if video fails to upload', 'Error if video fails to upload')),this.checkForMedia(t)},s.upload.onprogress=e=>{const t=Math.round(99*e.loaded/e.total);this.setState({progress:t})};const r=new FormData;for(const a in n)r.append(a,n[a]);r.append("file",e),s.send(r),this.xhr=s}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}async handleMediaUploadSuccess(e,t){const{isVideo:o}=this.state,{width:n,height:i}=this.props;if(o){const o=await u.ZP.create("VideoUrlsResource",{signatures:[e]}).callGet();this.handleVideoUploadSuccess(o,e,t)}else{const t=((e,t="1200x")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(e);this.setState({imagePreviewSrc:t,progress:100}),this.props.onImageUploadFinished({image:{url:t,width:n,height:i}})}}handleVideoUploadSuccess(e,t,o){if(!this.mounted)return;const n=e.resource_response.data,i=`https://i.pinimg.com/${n[t].metadata.thumbnail}`,s=n[t].urls;this.setState({videoUrls:s,thumbnail:i,progress:100});const r=new XMLHttpRequest;r.onload=()=>{const e=new FileReader;e.readAsDataURL(r.response),e.onloadend=()=>{var t;this.props.onImageUploadFinished({video:{uploadId:o,imageBase64:null!==(t=e.result)&&void 0!==t?t:""}})}},r.open("GET",i),r.responseType="blob",r.send()}render(){const{FILE:e}=d.hm,{errorFlyout:t,imagePreviewSrc:o,isVideo:n,isVideoComplete:i,progress:s,thumbnail:r,videoUrls:l}=this.state,{allowReset:c,allowVideo:u,display:_,height:h,width:p}=this.props,m=u?"image/*,video/mp4,video/quicktime":"image/*";return(0,f.jsxs)(a.xu,{ref:e=>{this.containerRef=e},children:[(0,f.jsx)(a.xu,{display:"visuallyHidden",children:(0,f.jsx)("input",{accept:m,onChange:this.openFile,ref:e=>{this.fileInputRef=e},type:"file"})}),(0,f.jsx)(v,{allowReset:c,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:o,accepts:[e],onDrop:this.handleFileDrop,height:h,width:p,progress:s,isVideo:n,isVideoComplete:i,videoUrls:l,thumbnail:r,display:_}),t]})}}y(w,"defaultProps",{onImageUploadStart:()=>{}});const A=function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,g.ZP)();return(0,f.jsx)(w,{...e,i18n:o,logContextEvent:t})};var C=o(431256),E=o(499128),T=o(266898),j=o(690468),I=o(343341),S=o(708206);function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const k=1e3,D=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class R extends n.PureComponent{constructor(e){super(e),z(this,"setTextAreaRef",(e=>{this._textAreaRef=e})),z(this,"handleTextInputChange",(({value:e})=>{this.setState({notes:e.substring(0,k)}),e.length>k?this.forceUpdate():this.handleHashtagTypeahead(e)})),z(this,"handleHashtagTypeahead",(e=>{const t=D.exec(e),o=t?t[0]:"";!this.state.inTypeahead&&o?this.setState({inTypeahead:!0,typeaheadValue:o}):this.state.inTypeahead&&(o?this.setState({typeaheadValue:o}):this.setState({inTypeahead:!1,typeaheadValue:""}))})),z(this,"addHashtag",(e=>{this.setState((t=>({inTypeahead:!1,notes:t.notes.replace(D,e),typeaheadValue:""})))})),z(this,"uploadImageAndCreateDidIt",(()=>{const e={image_url:this.state.imageUrlToSend};u.ZP.create("DidItImageUploadResource",e).callCreate().then((e=>{const{data:{image_signature:t}}=e.resource_response;return this.createUpdateDidIt(t)})).catch((()=>this.createUpdateDidIt()))})),z(this,"handleImageReset",(()=>this.setState({imageUrlToSend:null}))),z(this,"handleFinishImageUpload",(e=>{e.image&&this.setState({imageUrlToSend:e.image.url})})),z(this,"handleDoneClick",(()=>{const{pinId:e,logContextEvent:t}=this.props;t({event_type:101,view_type:101,component:192,element:1112,object_id_str:e}),this.setState({submitted:!0}),this.handleDoneSubmission()})),z(this,"handleDoneSubmission",(()=>{const{imageUrlToSend:e}=this.state,{pinActivity:t}=this.props;if(e){if(!t||e!==t.oldImageUrl)return this.uploadImageAndCreateDidIt();if(t.imageSignatures&&t.imageSignatures.length>0)return this.createUpdateDidIt(t.imageSignatures[0])}return this.createUpdateDidIt()})),z(this,"handleCancel",(()=>{const{onDoneStateChanged:e}=this.props;e&&e(!1)})),z(this,"handleDeleteConfirmation",(e=>{const{aggregatedPinDataId:t,deleteUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:s,pinId:r,logContextEvent:a}=this.props;this.setState({showDeleteModal:!1}),e&&(a({event_type:101,view_type:101,component:192,element:1264,object_id_str:r}),o({aggregatedPinDataId:t,pinId:r,username:i,id:e,isOwnedByMe:!0}),s&&s(n))})),z(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0})));const t=e.pinActivity||{};this.state={id:t.id||null,imageUrlToSend:t.oldImageUrl||null,inTypeahead:!1,notes:t.notes||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""}}createUpdateDidIt(e){const{aggregatedPinDataId:t,createUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:s,pinId:r,toastManagerContext:a,updateUserDidItData:l}=this.props,{id:c,notes:d}=this.state;if(!d)return;n?c&&l({id:c,pinId:r,details:d,image_signatures:e?[e]:[]}):o({aggregatedPinDataId:t,username:i,details:d,image_signatures:e?[e]:[],pin_id:r}),s&&s(!n);-1===window.location.href.indexOf(i+"/tried")&&a.showToast((({hideToast:e})=>(0,f.jsx)(E.ZP,{duration:3e3,href:`/${i}/tried/`,onHide:e,text:this.props.i18n._('Nice work! Pins you\'ve tried live on your profile', 'Congratulations after trying a pin', 'Congratulations after trying a pin')})))}render(){const{imageUrlToSend:e,notes:t,showDeleteModal:o,submitted:n}=this.state,{isDoneByMe:i,pinActivity:s}=this.props,r=!!e&&(s||{}).oldImageUrl!==e,l=!!e,d=s&&s.notes!==t,u=!!t&&""!==t.trim(),_=!l||!u||!d&&!r;return(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.xu,{marginTop:4,paddingX:12,children:(0,f.jsx)(a.xu,{column:12,children:(0,f.jsx)(a.xu,{paddingY:e?0:10,dangerouslySetInlineStyle:{__style:{transition:"padding-top 0.2s ease"}},children:(0,f.jsx)(a.xu,{display:"flex",column:12,marginBottom:2,color:"transparent",rounding:2,alignItems:"center",justifyContent:"center",children:(0,f.jsx)(A,{display:"image",existingImageSrc:e,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366,uploadSource:"pinner"})})})})}),(0,f.jsx)(a.xu,{height:e?"auto":0,opacity:e?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease",transitionDelay:"0.2s",visibility:e?"visible":"hidden"}},children:(0,f.jsxs)(a.xu,{width:366,margin:3,marginStart:"auto",marginEnd:"auto",children:[(0,f.jsx)(a.xu,{ref:this.setTextAreaRef,children:(0,f.jsx)(a.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._('Add a note or tip', 'Tip input for tried it', 'Tip input for tried it'),value:t})}),this.state.inTypeahead&&this._textAreaRef?(0,f.jsx)(C.Z,{editing:!0,addHashtag:this.addHashtag,anchor:this._textAreaRef,query:this.state.typeaheadValue,idealDirection:"up"}):null,t.length>900&&(0,f.jsx)(a.xu,{paddingY:1,children:(0,f.jsxs)(a.xv,{size:"200",align:"end",children:[" ",t.length,"/",k," "]})})]})}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[o&&(0,f.jsx)(c.Z,{didItData:s,onDeleteConfirmation:this.handleDeleteConfirmation}),n?(0,f.jsx)(a.xu,{marginEnd:2,children:(0,f.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('submit', 'accessible label for loading spinner on submit button', 'accessible label for loading spinner on submit button'),show:!0})}):null,(0,f.jsxs)(a.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[i?(0,f.jsx)(a.xu,{marginEnd:1,children:(0,f.jsx)(a.zx,{onClick:this.handleShowDeleteModal,text:this.props.i18n._('Delete', 'delete button in modal for tried-it info', 'delete button in modal for tried-it info'),size:"md"})}):(0,f.jsx)(a.xu,{marginEnd:1,children:(0,f.jsx)(a.zx,{onClick:this.handleCancel,text:this.props.i18n._('Cancel', 'cancel button in modal for tried-it info', 'cancel button in modal for tried-it info'),size:"md"})}),(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.zx,{color:"red",disabled:_,onClick:this.handleDoneClick,text:this.props.i18n._('Done', 'done button in modal for tried-it info', 'done button in modal for tried-it info'),size:"md"})})]})]})]})}}const O=(0,S.compose)((0,l.connect)(null,((e,t)=>({createUserDidItData:(0,S.bindActionCreators)(j.DD,e),deleteUserDidItData:(0,S.bindActionCreators)(j.lg,e),updateUserDidItData:(0,S.bindActionCreators)(j.IU,e)}))),T.Z)((function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,g.ZP)();return(0,f.jsx)(R,{...e,i18n:o,logContextEvent:t,toastManagerContext:(0,I.F9)()})}));function L(e){if(!e)return null;const{details:t,images:o,image_signatures:n,id:i}=e;return{id:i,imageSignatures:n,notes:t,oldImageUrl:o[0]["200x"].url}}class F extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{const{onDoneStateChanged:t,pinActivityResource:o}=this.props;t&&t(e),e&&o&&o.refresh&&o.refresh()},(o="onDoneStateChanged")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{onDoneStateChanged:e,pinActivityResource:t,pinTitle:o,userDidItDataId:n,...i}=this.props;return!t||t&&t.isLoaded?(0,f.jsx)(a.xu,{rounding:2,children:(0,f.jsx)(O,{onDoneStateChanged:this.onDoneStateChanged,pinActivity:L(t&&t.data),...i})}):(0,f.jsx)(s.Z,{})}}function M(e){const t=(0,r.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,f.jsx)(F,{...e,pinActivityResource:t})}function N(e){const t=(0,r.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,f.jsx)(F,{...e,pinActivityResource:t})}function B(e){return e.isDoneByMe&&e.userDidItDataId?(0,f.jsx)(N,{...e}):e.isDoneByMe?(0,f.jsx)(M,{...e}):(0,f.jsx)(F,{...e})}var U=o(802933),Z=o(40613);const G=(0,o(307061).Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null}));var H=o(121151);class V extends n.PureComponent{render(){const{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,onHide:r,pinId:l,pinResource:c,pinTitle:d,userDidItDataId:u}=this.props;if(!c.isLoaded)return(0,f.jsx)(s.Z,{});const{title:_}=G((0,Z.Z)((0,U.Z)({pin:c.data})))||{},h=d||_?(0,i.Z)(this.props.i18n._('Add a photo of {{pinTitle}}', 'Adding photo of a pin', 'Adding photo of a pin'),{pinTitle:d||_}):this.props.i18n._('Add a photo', 'Adding a photo', 'Adding a photo');return(0,f.jsx)(H.ZP,{accessibilityModalLabel:h,heading:h,onDismiss:r,size:500,children:(0,f.jsx)(a.xu,{color:"white",rounding:2,display:"flex",justifyContent:"center",children:(0,f.jsx)(B,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,pinId:l,pinTitle:d||_,userDidItDataId:u})})})}}function W(e){const t=(0,g.ZP)(),o=(0,r.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,f.jsx)(V,{...e,pinResource:o,i18n:t})}var K=o(946984);function $(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Y extends n.PureComponent{constructor(...e){super(...e),$(this,"state",{showModal:!1}),$(this,"onTriedItButtonClick",this.props.requireAuth((({event:e})=>{e&&e.stopPropagation(),this.handleModalStateChange(!0),this.props.logContextEvent({event_type:101,view_type:101,component:this.props.thriftComponentType,element:1141,object_id_str:this.props.pinId,aux_data:{is_create:!this.props.isDoneByMe}})}))),$(this,"handleHideModal",(()=>{this.handleModalStateChange(!1),this.props.logContextEvent({event_type:101,view_type:101,component:192,element:75,object_id_str:this.props.pinId})})),$(this,"onModalDoneStateChanged",(e=>{this.handleModalStateChange(!1,e)})),$(this,"handleModalStateChange",((e,t)=>{const{onDoneStateChanged:o,onToggleModal:n}=this.props;this.setState({showModal:e},(()=>{e||o&&o("boolean"==typeof t&&t),n&&n(e)}))}))}render(){const{aggregatedPinDataId:e="",isDoneByMe:t=!1,loggedInUser:o={id:"",username:""},pinId:i="",pinTitle:s,userDidItDataId:r}=this.props;return(0,f.jsxs)(n.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,f.jsx)(W,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:i,pinTitle:null!=s?s:"",userDidItDataId:r}):null]})}}function q(e){const{logContextEvent:t}=(0,_.v)(),o=(0,K.Z)();return(0,f.jsx)(Y,{...e,requireAuth:o,logContextEvent:t})}},678691:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(448272),i=o(263116),s=o(785893);const r=(0,i.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(89333),o.e(35978)]).then(o.bind(o,497e3)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 497e3}});function a(e){return(0,s.jsx)(r,{...e,fallback:(0,s.jsx)(n.Z,{})})}},448272:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}},826242:(e,t,o)=>{o.d(t,{SF:()=>n,XU:()=>s,b7:()=>i});const n=5,i=5,s=1},301921:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(667294),i=o(564194),s=o(768559),r=o(868565),a=o(905723),l=o(304515),c=o(883119),d=o(785893);const u={overlay:{__style:{backgroundColor:"#000"}}};function _(e){var t,o,i,s;const{pin:{id:r,images:_,title:h,videos:p,video_status_message:m}}=e,g=m||{},f=_&&_["236x"],x=p&&(null===(t=p.video_list)||void 0===t?void 0:t[a.Z.V_HLSV4]),{duration:b}=x||{};return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(c.Zb,{children:(0,d.jsxs)(c.iP,{role:"link",href:`/pin/${r}`,rounding:2,children:[(0,d.jsxs)(c.xu,{overflow:"hidden",position:"relative",rounding:2,children:[f&&(0,d.jsx)(c.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(o=f.height)&&void 0!==o?o:1,naturalWidth:null!==(i=f.width)&&void 0!==i?i:1,src:null!==(s=f.url)&&void 0!==s?s:""}),!!b&&(0,d.jsx)(c.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(l.Z,{duration:b})}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:u.overlay}),(0,d.jsxs)(c.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(c.X6,{color:"light",overflow:"normal",size:"400",children:g.title}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"light",size:"200",overflow:"normal",children:g.subtitle})})]})]}),(0,d.jsx)(c.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(c.xu,{flex:"grow",children:h&&(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:h})})})})]})})})}var h=o(623568),p=o(802201),m=o(925927),g=o(813401),f=o(844040),x=o(35495);function b({trackingParameters:e,pin:t,pinId:o,...a}){var l,c,u,b;const v=(0,m.TH)(),y=(0,p.S6)(),P=(o?y(o):null)||t,w=!(null===(l=P.story_pin_data)||void 0===l||!l.is_deleted),A=(0,s.Z)(P,v),C=(0,r.Z)(P),E=!!(C&&C.url&&C.height&&C.width)||void 0,T=C&&P.videos?P.videos.id:void 0,[j,I]=(0,n.useState)(!1),S=(0,n.useCallback)((()=>I(!w)),[w]),z=(0,n.useCallback)((()=>I(!1)),[]),k=(0,g.yz)(),{componentType:D,contextLogData:R,impressionAuxFields:O,slotIndex:L,viewData:F,viewParameter:M,viewType:N}=e;return(0,d.jsx)(i.Z,{componentType:D,contextLogData:{pwa_type:k,...R,...(0,x.Kl)(P,R)},impressionAuxFields:{...O||{},isNativeVideoAndWatchable:E,videoIdStr:T,clientTrackingParams:A||`${P.tracking_params||""}-0`,imageURL:null!==(c=null===(u=P.images)||void 0===u||null===(b=u["236x"])||void 0===b?void 0:b.url)&&void 0!==c?c:"",richTypes:(0,x.GT)(P)},impressionType:"Pin",isPaused:!j,loggingId:P.id,slotIndex:L,viewData:F,viewParameter:M,viewType:N,children:(0,h._J)(P)?(0,d.jsx)(_,{pin:P}):(0,d.jsx)(f.Z,{...a,debugImpressionState:j?"started":"paused",onError:z,onLoad:S,pin:P,pinId:o,trackingParameters:{componentType:D,contextLogData:R,slotIndex:L,viewParameter:M,viewType:N}})})}},26602:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(66699);const i=(e,t)=>`${e>0?(0,n.Z)(t.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', e, 'Label for the number of scheduled pins a user owns', 'Label for the number of scheduled pins a user owns'),{pinCount:e}):t._('0 Pins', 'zero scheduled pins', 'zero scheduled pins')} ‧ ${t._('Only visible to you', 'The explanatory text that the scheduled pin section is only visible to the profile owner', 'The explanatory text that the scheduled pin section is only visible to the profile owner')}`},184451:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(667294),i=o(966338),s=o(26602),r=o(620006),a=o(717615),l=o(784590),c=o(19121),d=o(231947),u=o(349700),_=o(407043),h=o(898781),p=o(883119),m=o(785893);function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class f extends n.Component{constructor(...e){super(...e),g(this,"renderScheduledPin",((e,t)=>{const o=Math.floor((e.scheduled_ts-(new Date).getTime()/1e3)/86400),i=(0,u.nk)(this.props.i18n._('{{ timeFromNow }}d', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days'),{timeFromNow:o}),s=`+ ${t}`,r=t>0?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.5,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsx)(p.xu,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",weight:"bold",children:s})})]}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.1,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsxs)(p.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"start",left:!0,paddingX:3,paddingY:2,position:"absolute",width:"100%",children:[(0,m.jsx)(p.JO,{accessibilityLabel:this.props.i18n._('scheduled time', 'Time scheduled for publishing the pin', 'Time scheduled for publishing the pin'),color:"light",icon:"clock",size:12}),(0,m.jsx)(p.xu,{display:"inlineBlock",marginStart:1,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",children:i})})]})]}),{image:a,title:l=""}=e,c=a&&a["236x"];return(0,m.jsxs)(n.Fragment,{children:[c&&(0,m.jsx)(p.Ee,{alt:l,color:"lightGray",fit:"cover",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),r]})})),g(this,"renderEmtpyPlaceholder",(()=>(0,m.jsx)(p.xu,{color:"lightGray",height:"100%",width:"100%"})))}render(){const{username:e,pinResource:{isLoaded:t},pins:o}=this.props;if(!t||!o||0===o.length)return null;const n=o.length;return(0,m.jsx)(p.xu,{marginBottom:10,children:(0,m.jsxs)(p.W2,{children:[(0,m.jsx)(r.Z,{label:this.props.i18n._('Scheduled Pins', 'Title for the scheduled Pin section under the pin tab of profile page', 'Title for the scheduled Pin section under the pin tab of profile page'),sublabel:(0,s.Z)(n,this.props.i18n)}),(0,m.jsx)(p.iP,{role:"link",href:`/${e}/scheduled-pins/`,rounding:4,children:(0,m.jsx)(p.xu,{"data-test-id":"scheduled-pins-nav-link",height:126,marginStart:3,marginEnd:3,overflow:"hidden",rounding:4,children:Array(6).fill().map(((e,t)=>(0,m.jsx)(p.xu,{display:"inlineBlock",height:126,marginEnd:5===t?0:1,overflow:"hidden",position:"relative",width:126,children:t<n?this.renderScheduledPin(o[t],5===t?n-6:0):this.renderEmtpyPlaceholder()},t)))})})]})})}}function x(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,c.Z)(),s=(0,a.Z)(),r={orbac_subject_id:(0,d.lJ)(n,s)||void 0},u=(0,l.Z)({name:"ScheduledPinsResource",options:r}),p=(0,i.useSelector)((e=>e.scheduledPins));return(0,m.jsx)(f,{...e,i18n:o,pinResource:u,pins:p,logContextEvent:t})}},526524:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(823493),s=o.n(i);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.PureComponent{constructor(...e){super(...e),r(this,"setContainerRef",(e=>{this.containerRef=e})),r(this,"fetchMoreIfNecessary",s()((()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:o},n)=>e+t+(n?n(t):2*t)>o)(this.containerRef,t)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},722621:(e,t,o)=>{o.d(t,{N:()=>d,Z:()=>_});var n=o(66699),i=o(941646),s=o(898781),r=o(349700),a=o(883119),l=o(785893);const c={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function d(e){const t=(0,s.ZP)(),{helpfulCount:o,isMarkedHelpfulByMe:n,onHelpfulClick:i}=e,d=t._('Helpful', 'Comments marked helpful text.', 'Comments marked helpful text.'),u=(0,r.nk)(t._('Helpful {{helpfulCount}}', 'Comments marked helpful count text.', 'Comments marked helpful count text.'),{helpfulCount:o||0});return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.iP,{onTap:i,rounding:2,children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.JO,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:c,color:n?"brandPrimary":"subtle",size:16}),(0,l.jsx)(a.xu,{paddingX:1,children:(0,l.jsx)(a.xv,{size:"100",color:"subtle",weight:"bold",children:void 0!==o&&o>0?u:d})})]})})})}function u(e){const{likeCount:t,isLikedByMe:o,onLikeClick:n}=e;return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.iP,{onTap:n,rounding:2,children:(0,l.jsxs)(a.xu,{display:"flex","data-test-id":"reactions-likeWithCountButton",children:[(0,l.jsx)(a.JO,{accessibilityLabel:"like icon",icon:"heart",color:o?"brandPrimary":"subtle",size:16}),t>0&&(0,l.jsx)(a.xu,{paddingX:1,"data-test-id":"reactions-likeCount",children:(0,l.jsx)(a.xv,{size:"100",color:"subtle",weight:"bold",children:t})})]})})})}function _(e){const t=(0,s.ZP)(),{commentCount:o=0,reactionCounts:r={},hideReplyCount:c,isLikedByMe:_=!1,onLikeClick:h,onReplyClick:p,onReplyCountClick:m,isMarkedHelpfulByMe:g,onHelpfulClick:f,helpfulCount:x,flyout:b,small:v}=e,y=r[1]||0,P=!!o&&(0,n.Z)(t.ngettext('{{commentCount}} reply', '{{commentCount}} replies', o, ' - ', ' -- '),{commentCount:o}),w=v?1:2;return(0,l.jsxs)(a.kC,{alignItems:"center",children:[(0,l.jsxs)(a.xu,{display:"flex",marginStart:-w,marginEnd:-w,children:[(0,l.jsx)(u,{likeCount:y,isLikedByMe:_,onLikeClick:h}),(0,l.jsx)(a.xu,{paddingX:w,children:(0,l.jsx)(i.Z,{id:"reactions-reply",children:(0,l.jsx)(a.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:p,size:v?"sm":"md"})})}),!!b&&(0,l.jsx)(a.xu,{paddingX:w,children:b})]}),(0,l.jsxs)(a.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3,children:[!!P&&!c&&(0,l.jsx)(i.Z,{id:"reactions-reply-count",children:(0,l.jsx)(a.xu,{paddingX:3,children:m?(0,l.jsx)(a.iP,{onTap:m,rounding:2,children:(0,l.jsx)(a.xv,{size:"200",color:"subtle",weight:"bold",children:P})}):(0,l.jsx)(a.xv,{size:"200",color:"subtle",weight:"bold",children:P})})}),(0,l.jsx)(d,{helpfulCount:x,isMarkedHelpfulByMe:g,onHelpfulClick:f})]})]})}},40613:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}))},467119:(e,t,o)=>{o.d(t,{GY:()=>r,LM:()=>l,h9:()=>c,r$:()=>a});var n=o(305689),i=o(909499);const s=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function r({query:e,scope:t}){return`${e}-${t}`}function a({query:e,rs:t,scope:o},s){const r=(0,n.Hb)(),a=!r.view_type&&!r.view_parameter,l=(0,i.wF)(o);if(!a&&l){const{view_type:o,view_parameter:n}=r;s({event_type:l,view_type:o,view_parameter:n,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?s({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&s({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,o)=>{var n;return t&&o.story_type&&s.includes(o.story_type)&&0===(null===(n=o.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(o):(t=!1,e.filteredResults.push(o)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},285970:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var n=o(667294),i=o(966338),s=o(898781),r=o(883119),a=o(878621),l=o(785893);function c(e){const t=(0,s.ZP)();return(0,l.jsx)(a.Z,{thriftComponentType:172,...e,children:({onTriedItButtonClick:o})=>(0,l.jsx)(r.zx,{onClick:({event:e})=>o(e),text:t._('Add', 'Add a try to a pin', 'Add a try to a pin'),disabled:e.isDoneByMe})})}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isDoneByMe:!1}),d(this,"handleModalStateChanged",(e=>this.setState({isDoneByMe:e})))}render(){var e,t,o,n,i,s,a,d,u;const{loggedInUser:_,pin:h}=this.props,p=`/pin/${h.id}/`,m=null===(e=h.images)||void 0===e||null===(t=e["136x136"])||void 0===t?void 0:t.url,g=null===(o=h.images)||void 0===o||null===(n=o["136x136"])||void 0===n?void 0:n.height,f=null===(i=h.images)||void 0===i||null===(s=i["136x136"])||void 0===s?void 0:s.width,x=h.rich_summary&&h.rich_summary.display_name||h.description,b={aggregatedPinDataId:null===(a=h.aggregated_pin_data)||void 0===a?void 0:a.id,isDoneByMe:this.state.isDoneByMe,loggedInUser:_,onDoneStateChanged:this.handleModalStateChanged,pinId:h.id,pinTitle:x};return(0,l.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,l.jsxs)(r.xu,{column:10,display:"flex",alignItems:"center",children:[(0,l.jsx)(r.xu,{column:2,children:(0,l.jsx)(r.iP,{role:"link",href:p,rounding:2,children:(0,l.jsx)(r.zd,{rounding:2,wash:!0,children:(0,l.jsx)(r.Ee,{alt:null!==(d=h.title)&&void 0!==d?d:"",color:null!==(u=h.dominant_color)&&void 0!==u?u:"#fff",naturalHeight:null!=g?g:1,naturalWidth:null!=f?f:1,src:null!=m?m:""},m)})},p)}),(0,l.jsx)(r.xu,{column:10,paddingX:2,children:(0,l.jsx)(r.xv,{weight:"bold",children:(0,l.jsx)(r.rU,{href:p,children:x})},p)})]}),(0,l.jsx)(r.xu,{column:2,children:(0,l.jsx)(c,{...b})})]})}}var _=o(784590);function h({loggedInUser:e}){const t=(0,s.ZP)(),o=(0,_.Z)({name:"UserPinsResource",options:{prepend:!1,username:e.username,field_set_key:"did_it_grid_item",page_size:10}});t._('Tried any of these? Add a photo:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved');const n=(e=>e.isLoaded?e.data.filter((e=>e.is_whitelisted_for_tried_it)):[])(o).slice(0,5);return(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(r.$j,{show:!o.isLoaded,accessibilityLabel:t._('Pins to try are loading', ' - ', ' -- ')}),o.isLoaded&&(0,l.jsxs)(r.W2,{children:[(0,l.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:6,children:[(0,l.jsxs)(r.xv,{align:"center",weight:"bold",children:[" ",t._('Pins you try live here', ' - ', ' -- ')," "]}),(0,l.jsx)(r.xu,{column:12,mdColumn:6,children:(0,l.jsx)(r.xv,{align:"center",color:"subtle",weight:"bold",children:t._('Add notes and photos to recipes you made, places you traveled and other ideas you tried', ' - ', ' -- ')})})]}),!!n.length&&(0,l.jsxs)(r.xu,{column:12,display:"flex",paddingY:6,children:[(0,l.jsx)(r.xu,{display:"none",mdColumn:1,mdDisplay:"flex"}),(0,l.jsxs)(r.xu,{column:12,mdColumn:10,children:[(0,l.jsx)(r.xu,{margin:1,paddingY:2,children:(0,l.jsx)(r.xv,{weight:"bold",children:t._('Tried any of these? Add a photo or note:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved')})}),n.map((t=>(0,l.jsx)(u,{pin:t,loggedInUser:e},t.id)))]})]})]})]})}var p=o(556023),m=o(966113),g=o(700380),f=o(430323),x=o(499128),b=o(407043),v=o(343341),y=o(304903);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends n.Component{constructor(...e){super(...e),P(this,"removeReportedActivity",(e=>{const{toastManagerContext:t}=this.props;t.showToast((({hideToast:e})=>(0,l.jsx)(x.ZP,{duration:3e3,href:m.Z.settings.POLICY_COMMUNITY_GUIDELINES,onHide:e,text:this.props.i18n._('Thanks! We\u2019ll take this down if it goes against our guidelines.', 'Statement that a tried item has successfully been reported', 'Statement that a tried item has successfully been reported')})))})),P(this,"handleScroll",(0,g.Z)((()=>{const{didItUserFeedResource:{isFetching:e,isAtEnd:t}}=this.props;if(e||t)return;const o=(0,y.Uy)(window);(0,y.aZ)(window)-(0,y.S$)()-200<o&&this.fetchMoreData()}),100))}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.logContextEvent({event_type:13,view_type:4,view_parameter:3071})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}fetchMoreData(){const{didItUserFeedResource:{isFetching:e,isAtEnd:t,fetchMore:o}}=this.props;e||(t?window.removeEventListener("scroll",this.handleScroll):o())}render(){const{feedItems:e,i18n:t,isOwnProfile:o,didItUserFeedResource:{isLoaded:n},triedItUser:i}=this.props;if(!n)return(0,l.jsx)(r.W2,{children:(0,l.jsx)(r.xu,{margin:6,children:(0,l.jsx)("div",{className:"loadingSpinner",children:(0,l.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Tried it feed', ' - ', ' -- '),show:!0})})})});const s=o?3106:3107;return!e.length&&o?(0,l.jsx)(h,{loggedInUser:i}):(0,l.jsx)(r.W2,{children:(0,l.jsx)(f.Z,{view:4,viewParameter:s,component:212,children:(0,l.jsx)(r.xu,{display:"flex",column:12,justifyContent:"center",children:(0,l.jsxs)(r.xu,{column:12,mdColumn:10,children:[o&&(0,l.jsx)(r.xu,{paddingY:2,children:(0,l.jsx)(r.xv,{align:"center",size:"300",children:t._('Your Tried Pins are only visible to you', 'didItProfileFeed.render.triedItEducation', 'Message letting user know that tried pins are visible only to self')})}),e.map((e=>(0,l.jsx)(r.xu,{children:(0,l.jsx)(p.Z,{didItDataId:e.id,removeReportedActivity:this.removeReportedActivity,viewType:4})},e.id)))]})})})})}}function A(e){const{logContextEvent:t}=(0,b.v)(),o=(0,s.ZP)(),n=(0,v.F9)(),r=(0,i.useSelector)((({feeds:{userDidItData:t={}}})=>(t[e.triedItUser.username]||[]).reduce(((e,t)=>"userdiditdata"===t.type?e.concat({type:t.type,id:t.id}):e),[]))),a=(0,_.Z)({name:"DidItUserFeedResource",options:{username:e.triedItUser.username,redux_normalize_feed:!0},noCache:!0});return(0,l.jsx)(w,{...e,didItUserFeedResource:a,feedItems:r,toastManagerContext:n,i18n:o,logContextEvent:t})}var C=o(86551),E=o(19121),T=o(925927),j=o(357805);function I(){const e=(0,C.Z)(),t=(0,E.Z)(),{username:o}=(0,T.UO)();return(0,j.S)(o,e.data?e.data.id:null,13671),e.data?(0,l.jsx)(A,{isOwnProfile:!(!t.isAuth||!t.username)&&t.username===o,triedItUser:e.data}):null}},745091:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(121151),i=o(898781),s=o(883119),r=o(785893);function a({onDeleteConfirmation:e,didItData:t}){const o=(0,i.ZP)(),a=t&&t.id,l=o._('Are you sure?', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data');return(0,r.jsx)(n.ZP,{accessibilityModalLabel:o._('Are you sure you want to delete the did it photo?', 'Label for a modal showing to confirm deleting a did it photo', 'Label for a modal showing to confirm deleting a did it photo'),heading:l,onDismiss:()=>e(null),size:"sm",role:"alertdialog",footer:(0,r.jsxs)(s.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,r.jsx)(s.xu,{padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,onClick:()=>e(null),size:"lg",text:o._('Cancel', 'Cancel the deleting data in a modal form', 'Cancel the deleting data in a modal form')})}),(0,r.jsx)(s.xu,{padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:()=>e(a),size:"lg",text:o._('Delete', 'Confirmation of deleting data', 'Confirmation of deleting data')})})]}),children:(0,r.jsx)(s.xu,{paddingX:4,paddingY:2,children:(0,r.jsx)(s.xv,{children:o._('This will remove this photo', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data')})})})}},91564:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",color:"white",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Tried it', ' - ', ' -- '),show:!0})})}},556023:(e,t,o)=>{o.d(t,{Z:()=>De});var n=o(667294),i=o(966338),s=o(745091),r=o(898781),a=o(878621),l=o(883119),c=o(785893);function d(e){const t=(0,r.ZP)();return(0,c.jsx)(a.Z,{thriftComponentType:193,...e,children:({onTriedItButtonClick:e})=>(0,c.jsx)("button",{style:{background:"none",border:"none",padding:"0"},onClick:e,children:(0,c.jsx)(l.xu,{paddingY:1,paddingX:2,children:(0,c.jsx)(l.xv,{weight:"bold",children:t._('Save', 'comment save button', 'comment save button')})})})})}var u=o(428837),_=o(121151),h=o(6637),p=o(66699);const m="__SafeLinkFlag__",g=({html:e,onClick:t})=>{const o=t||null,n=[],i=(e=(e=e||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,(e=>(n.push({url:`/search/pins/?q=${encodeURIComponent(e)}&rs=hashtag_closeup`,text:e}),m)))).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,((e,t,o)=>(n.push({url:t,text:o}),m)));return(0,c.jsx)(l.xu,{"data-test-id":"safe-link",children:i.split(new RegExp("(__SafeLinkFlag__)")).filter((e=>e.length>0)).map(((e,t)=>{let i=e;if(e===m&&n.length){const{url:e,text:t}=n.shift();i=(0,c.jsx)(l.rU,{onClick:o||void 0,href:e,inline:!0,underline:"hover",children:t})}return(0,c.jsx)(l.xv,{color:"shopping",weight:"bold",inline:!0,children:i},t)}))})};var f=o(807068);function x(e){var t;const{item:{images:o,pin:n}}=e,i=o.length>0,s=i?o[0]["750x"]:null;if(!i||!s)return null;const r=o[0]["750x"].url;return(0,c.jsx)(l.zd,{rounding:2,wash:!0,children:(0,c.jsx)(l.Ee,{alt:null!==(t=n.title)&&void 0!==t?t:"",src:r,color:"#efefef",naturalWidth:s.width,naturalHeight:s.height},r)})}var b=o(102243),v=o(19121),y=o(708206),P=o(434190),w=o(105265),A=o(941646);const C=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:o,detail:n,heading:i,onConfirm:s,onDismiss:r})=>(0,c.jsx)(_.ZP,{accessibilityModalLabel:e,heading:i,onDismiss:r,size:"md",children:(0,c.jsxs)(l.xu,{children:[(0,c.jsx)(l.xu,{padding:4,children:(0,c.jsx)(l.xv,{children:n})}),(0,c.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,c.jsx)(l.xu,{margin:2,children:(0,c.jsx)(A.Z,{id:"confirm-modal-cancel",children:(0,c.jsx)(l.zx,{fullWidth:!0,onClick:r,text:t})})}),(0,c.jsx)(l.xu,{margin:2,children:(0,c.jsx)(A.Z,{id:"confirm-modal-confirm",children:(0,c.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:()=>{s(),r()},text:o})})})]})]})});var E=o(367216),T=o(678691),j=o(266898),I=o(826242),S=o(407043),z=o(957885);function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const D={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class R extends n.Component{constructor(...e){super(...e),k(this,"state",{...D,tags:this.props.tags||[],textValue:this.props.text||"",isEmojiTrayOpen:!1}),k(this,"handleFocus",(()=>{this.props.onEnter()})),k(this,"handleChange",(({text:e,mentions:t})=>{t.length<this.state.tags.length&&this.props.logContextEvent({event_type:8906,aux_data:{tag_type:1}});const o=(this.props.text||"")!==e;this.setState({isTextChanged:o,textValue:e,tags:t,userMentionOverLimitError:t.length>I.b7})})),k(this,"handleOnClickEdit",(()=>{const{onEditItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState({submissionInProgress:!1})})),k(this,"handleOnClickPost",(()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0,isEmojiTrayOpen:!1}),this.handleOnClickPostFinal())})),k(this,"handleOnClickPostFinal",(()=>{const{onAddItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState(D)})),k(this,"handleOnFinalDiscardItem",(()=>{const{onCancelItem:e}=this.props;this.setState(D),e()})),k(this,"isSubmitEditDisabled",(()=>{const{isTextChanged:e}=this.state;return!e})),k(this,"toggleShowConfirmDiscardModal",(()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e,isEmojiTrayOpen:!1})})),k(this,"renderConfirmDiscardModal",(()=>{const{statusType:e}=this.props;let t,o;return"textInFlightEdit"===e?(t=this.props.i18n._('Your changes will be discarded', 'Confirmation dialog before discarding changes', 'Confirmation dialog before discarding changes'),o=this.props.i18n._('Discard changes', 'Clear edits', 'Clear edits')):(t=this.props.i18n._('Once you delete a draft, you can\u2019t undo it', 'Confirmation before discarding changes', 'Confirmation before discarding changes'),o=this.props.i18n._('Delete', 'delete draft of a post or comment', 'delete draft of a post or comment')),(0,c.jsx)(C,{accessibilityModalLabel:this.props.i18n._('Confirm discard composer', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),heading:this.props.i18n._('Are you sure?', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),cancelButtonText:this.props.i18n._('Cancel', 'Cancel discarding a post or comment', 'Cancel discarding a post or comment'),confirmButtonText:o,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})})),k(this,"getReplyToEntity",(e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]))}get isAggregatedComment(){const{objectType:e}=this.props;return e===P.o.pin||e===P.o.didIt||e===P.o.aggregatedComment}render(){const{avatarSize:e,replyToObject:t,privatePin:o,statusType:n,viewingUser:i}=this.props,{isTextChanged:s,isEmojiTrayOpen:r,showConfirmDiscardModal:a,submissionInProgress:d,tags:u,textValue:_,userMentionOverLimitError:h}=this.state,p={background:"transparent",border:"0",display:s?"inline-block":"block",minHeight:"textStaticDisplay"===n?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[m,g]=this.getReplyToEntity(t),f=(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.xv,{color:"error",size:"100",align:"end",children:(0,z.bl)(!1,this.props.i18n)})});let x,b;x=this.isAggregatedComment&&o?this.props.i18n._('Add a public comment', 'Add a comment', 'Add a comment'):this.isAggregatedComment?this.props.i18n._('Add a comment', 'Prompt to add a comment', 'Prompt to add a comment'):this.props.i18n._('Reply', 'Adding text to a community comment', 'Adding text to a community comment'),b=this.isAggregatedComment?this.props.i18n._('Done', 'Post a top level comment on a pin or tried it', 'Post a top level comment on a pin or tried it'):this.props.i18n._('Reply', 'Posting a reply to a post or comment', 'Posting a reply to a post or comment');const v=s;return"textInflightCreation"===n?(0,c.jsxs)(l.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(l.xu,{width:"100%",children:[(0,c.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(l.xu,{marginEnd:2,children:(0,c.jsx)(w.Z,{user:i,size:e})}),(0,c.jsx)(l.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(T.Z,{focusOnMount:!0,initialMentions:g,initialText:m,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:r,placeholder:x,privatePin:o})})]}),h&&f,(0,c.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(A.Z,{id:"activity-item-create-cancel",children:(0,c.jsx)(l.zx,{color:"gray",onClick:v?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')})}),(0,c.jsx)(l.xu,{marginStart:2,children:(0,c.jsx)(A.Z,{id:"activity-item-create-submit",children:(0,c.jsx)(l.zx,{color:"red",disabled:!s||d||!_.length,onClick:this.handleOnClickPost,text:b})})})]})]}),a&&this.renderConfirmDiscardModal()]}):"textInFlightEdit"===n?(0,c.jsxs)(l.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(l.xu,{width:"100%",children:[(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(l.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(T.Z,{focusOnMount:!0,initialMentions:u,initialText:_,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:x})})}),h&&f,(0,c.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(l.zx,{color:"gray",onClick:v?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')}),(0,c.jsx)(l.xu,{marginStart:2,children:(0,c.jsx)(l.zx,{color:"red",disabled:this.isSubmitEditDisabled()||d,onClick:this.handleOnClickEdit,text:this.props.i18n._('Save', 'comment save button', 'comment save button')})})]})]}),a&&this.renderConfirmDiscardModal()]}):(0,c.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,c.jsx)("div",{"aria-label":this.props.i18n._('Add comment field', 'ActivityItemCreate.textbox.accessibilityLabel', 'Textbox for comment field.'),onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,c.jsxs)(l.xu,{column:12,display:"flex",children:[(0,c.jsx)(l.xu,{width:48,children:(0,c.jsx)(w.Z,{user:i,size:e})}),(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm",children:[(0,c.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:x,rows:1,style:p}),(0,c.jsx)(E.Z,{isEmojiTrayOpen:r,onClick:()=>{this.setState({isEmojiTrayOpen:!r})}})]})]})})})}}k(R,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});const O=(0,j.Z)((function(e){const{logContextEvent:t}=(0,S.v)(),o=(0,r.ZP)(),n=(0,v.Z)(),i=n.isAuth?{image_medium_url:n.imageMediumUrl,type:"user",username:n.username,full_name:n.fullName,first_name:"",id:""}:{};return(0,c.jsx)(R,{...e,i18n:o,viewingUser:i,logContextEvent:t})}));var L=o(608360),F=o(814449),M=o(298361),N=o(986644);function B({createdAt:e,user:t,isHighlighted:o}){const n=(0,r.ZP)(),i=(0,M.Z)(),s=(0,c.jsx)(l.xv,{color:"subtle",size:"200",children:(0,N.A7)(e,n,i)}),a=(0,c.jsxs)(l.xv,{color:"subtle",size:"200",children:["· ",n._('Highlighted', 'pin.comments.highlight', 'Identifier for highlighted comments')]});return(0,c.jsxs)(l.xu,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1,children:[(0,c.jsx)(l.xu,{paddingX:1,children:(0,c.jsx)(l.xv,{size:"200",weight:"bold",children:(0,c.jsx)(l.rU,{href:`/${t.username}/`,children:(0,N.YD)(t)})})}),(0,c.jsx)(l.xu,{paddingX:1,children:s}),o&&(0,c.jsx)(l.xu,{paddingX:1,children:a})]})}var U=o(857079),Z=o(722621),G=o(947599),H=o(123630),V=o(402039),W=o(199939),K=o(784590),$=o(283855);const Y=(0,n.lazy)((()=>o.e(1921).then(o.bind(o,301921))));function q({allowLink:e=!1,avatarSize:t="sm",commentCount:o,contentImage:i,contentImageSignature:s,contentText:a,flyout:d,handleOnEditCancel:u,handleOnEdited:_,handleHelpfulClick:h,handleLikeClick:p,handleLikeCountClick:m,handleReplyClick:g,handleReplyCountClick:f,helpfulCount:x,hideAddObjects:b,hideReplyCount:v,inEditMode:y,isHighlighted:P,isLikedByMe:C,isMarkedHelpfulByMe:E,isPlainComment:T,parentObject:j,pins:I,reactionCounts:S,responsePin:z,slotIndex:k,taggedUsers:D,tags:R,truncateText:L,commentId:F,createdAt:M,commentAuthor:N,type:q,isORBACProfileManager:X}){const Q=(0,$.K)(),J=(0,r.ZP)(),[ee,te]=(0,n.useState)(F===Q),{isLoaded:oe}=(0,K.Z)({name:"PinResource",dangerouslyDisableFetch:!z,options:{id:null==z?void 0:z.id,field_set_key:"detailed"}});(0,n.useEffect)((()=>{F===Q&&V.Z.setTimeout((()=>{te(!1)}),1500)}),[]);const ne=oe&&!!z;return(0,c.jsx)(A.Z,{id:"canonical-comment",children:(0,c.jsxs)(l.xu,{display:"flex",marginBottom:T?4:0,children:[(0,c.jsx)(l.xu,{marginEnd:2,children:(0,c.jsx)(w.Z,{user:N,size:t})}),(0,c.jsxs)(l.xu,{flex:"grow",marginStart:2,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderColor:y?"transparent":void 0,transition:"1000ms",backgroundColor:ee?"lightGray":null}},borderStyle:"sm",padding:y?0:3,rounding:4,children:y?(0,c.jsx)(O,{addedObjects:I,addedImage:i,hideAddObjects:b,imageSignature:s,objectType:q,onAddItem:()=>{},onCancelItem:u,onEditItem:_,onEnter:()=>{},parentObjectId:j.id,statusType:"textInFlightEdit",tags:R,text:a,widthAuto:!0}):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(B,{createdAt:M,user:N,isHighlighted:P}),L?(0,c.jsx)(W.Z,{allowLink:e,allowReveal:!0,size:"sm",taggedUsers:D,tags:R,text:a}):(0,c.jsx)(H.Z,{allowLink:e,size:"sm",tags:R,taggedUsers:D,text:a}),z&&ne&&(0,c.jsx)(G.Z,{fallback:(0,c.jsx)(U.Z,{accessibilityLabel:J._('Loading comment reply Pin preview', 'Loading pin previews for comment reply comments component', 'Loading pin previews for comment reply comments component')}),children:(0,c.jsx)(l.xu,{marginTop:1,maxWidth:"21%",children:(0,c.jsx)(Y,{pinId:z.id,surface:"CommentReply",trackingParameters:{slotIndex:k}})})})]})}),!X&&!ne&&!y&&!T&&(0,c.jsx)(l.xu,{padding:1,children:(0,c.jsx)(Z.Z,{commentCount:o,flyout:y?null:d,hideReplyCount:v,isLikedByMe:C,onLikeClick:p,onLikeCountClick:m,onReplyClick:g,onReplyCountClick:f,reactionCounts:S,isMarkedHelpfulByMe:E,onHelpfulClick:h,helpfulCount:x,small:!0})})]})]})})}var X=o(458237),Q=o(499128),J=o(395129),ee=o(910325),te=o(482546),oe=o(394107),ne=o(166047),ie=o(260923),se=o(379725),re=o(366428),ae=o(349700),le=o(623568),ce=o(844949),de=o(343341),ue=o(495855);const _e=({aggregatedCommentId:e,apdId:t,creatorId:o,depth:s,didItOwnerId:a,isManagedView:d,objectType:u,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,slotIndex:x,viewerId:b,showHighlightEducator:v,numHighlights:y,canSetHighlight:w,isORBACProfileManager:A})=>{const{logContextEvent:E}=(0,S.v)(),T=(0,r.ZP)(),{isLoaded:j}=(0,K.Z)({name:"PinResource",options:{id:f,field_set_key:"detailed"}}),{showToast:I}=(0,de.F9)(),{reportComment:z}=(0,ce.f)(),[k,D]=(0,n.useState)(!1),[R,M]=(0,n.useState)(!1),[N,B]=(0,n.useState)(!1),[U,Z]=(0,n.useState)(!1),[G,H]=(0,n.useState)(!1),[V,W]=(0,n.useState)(!1),$=(0,i.useDispatch)();(0,n.useEffect)((()=>{$((0,se.U2)("AggregatedCommentResource",{options:{commentId:e}}))}),[$,e]),(0,n.useEffect)((()=>{h&&h()}),[h]);const Y=(0,i.useSelector)((({pins:e})=>{if(!f)return"";const t=e[f];let o="pin";if(t){const e=(0,le.iR)(t.videos);t.story_pin_data_id?o="story":e&&(o="video")}return o})),_e=(0,i.useSelector)((({aggregatedComments:t})=>t[e]));if(!_e||!_e.user)return null;const{comment_response_pin:he,comment_count:pe,created_at:me,helpful_count:ge,marked_helpful_by_me:fe,reaction_by_me:be,reaction_counts:ve,tagged_users:Pe,tags:we,text:Ae,user:{id:Ce,username:Ee},highlighted_by_pin_owner:Te}=_e,je=s===xe,Ie=ve[1],Se=()=>{$((0,ue.f9)({aggregatedCommentId:e,isLikedByMe:!!be}))},ze=()=>{$((0,ue.Pd)({aggregatedCommentId:e,isMarkedHelpfulByMe:!!fe}))},ke=t=>(0,c.jsx)(l.zx,{text:T._('Undo', 'closeup.pinActionDropDown.commentHighlightToast.UndoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>{$((0,ue.rK)({aggregatedCommentId:e,pinId:f,isHighlighted:t}))}},"button-key"),De=()=>{y&&y>=3?I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:T._('Only 3 comments can be highlighted', 'closeup.pinActionDropDown.commentHighlightMaxNumberToast', 'Toast that tells user that at most 3 comments can be highlighted.')}))):($((0,ue.rK)({aggregatedCommentId:e,pinId:f,isHighlighted:!1})),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:T._('Comment highlighted', 'closeup.pinActionDropDown.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.'),button:ke(!0)}))))},Re=()=>{$((0,ue.rK)({aggregatedCommentId:e,pinId:f,isHighlighted:!0})),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:T._('Highlight removed', 'closeup.pinActionDropDown.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'),button:ke(!1)})))},Oe=()=>{B(!N)},Le=()=>{D(!0)},Fe=()=>{D(!1)},Me=t=>{$((0,ue.SL)({commentId:e,tags:t.tags,text:t.contentMarkdown})),D(!1)},Ne=()=>{$((0,ie.Q)(e)),E({event_type:8909,component:13464,view_type:3,view_parameter:140,aux_data:{tag_id:b,tag_type:1}}),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:T._('@mention removed!', 'closeup.pinActionDropDown.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in another user\'s Pin description')})))},Be=()=>{Z(!0)},Ue=()=>{H(!0)},Ze=()=>{W(!0)},Ge=()=>{Z(!1),H(!1),W(!1)},He=()=>{z(e,null,null)},Ve=()=>{const e=[Ce,o,a,g].includes(b),t=b===Ce,n=b!==Ce,i=b!==Ce,s=Pe.filter((({id:e})=>e===b)).length>0;return(0,c.jsx)(L.Z,{handleBlockUser:i?Ze:null,handleClickReport:n?He:null,handleDelete:e?Be:null,handleOnEdit:t?Le:null,handleRemoveMention:s?Ne:null,handleHighlight:w&&!Te?De:null,handleRemoveHighlight:w&&Te?Re:null,showHighlightEducator:v,small:!0})};return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(re.F,{contextLogData:{objectId:_e.id},impressionAuxFields:{commentId:_e.id,pinId:f,pinType:Y,parentId:m,parentType:u,commentType:P.o.aggregatedComment},componentType:u===P.o.pin?13696:13697,impressionType:"Comment",isPaused:!j,loggingId:_e.id,slotIndex:x,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(l.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,c.jsx)(q,{avatarSize:je?"sm":"md",commentAuthor:_e.user,commentCount:pe,commentId:e,contentText:Ae,createdAt:me,flyout:Ve(),handleHelpfulClick:ze,handleLikeClick:Se,handleLikeCountClick:Ue,handleOnEditCancel:Fe,handleOnEdited:Me,handleReplyClick:Oe,helpfulCount:ge,hideAddObjects:!0,hideReplyCount:!0,inEditMode:k,isHighlighted:Te,isLikedByMe:!!be,isMarkedHelpfulByMe:fe,parentObject:{id:m},reactionCounts:ve,responsePin:he,slotIndex:x,taggedUsers:Pe,tags:we,truncateText:!0,type:P.o.aggregatedComment,isORBACProfileManager:A})})}),N&&(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:je?0:48}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,c.jsx)(l.xu,{display:"flex",marginTop:2,children:(0,c.jsx)(l.xu,{flex:"grow",children:(0,c.jsx)(O,{avatarSize:"sm",hideAddObjects:!0,onAddItem:async({contentMarkdown:t,tags:o})=>{let n,i=e;Oe(),M(!0),je&&(i=m,n=e),await $((0,ne.n)({objectType:P.o.aggregatedComment,objectId:i,tags:o,text:t,replyToCommentId:n})),M(!1)},onCancelItem:Oe,onEnter:()=>{},objectType:P.o.aggregatedComment,parentObjectId:m,replyToObject:je?_e:null,statusType:"textInflightCreation"})})})}),pe>0&&(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,c.jsx)(ye,{baseIndex:x+1,commentCount:pe,creatorId:o,didItOwnerId:a,depth:s,isManagedView:d,objectId:e,objectType:P.o.aggregatedComment,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,variant:"legacy",isORBACProfileManager:A}),(0,c.jsx)(l.$j,{accessibilityLabel:T._('Comments loading', ' - ', ' -- '),show:R})]}),U&&(0,c.jsx)(C,{accessibilityModalLabel:T._('Deleting a comment', 'closeup.deleteCommentModal.label', 'Label for deleting a comment'),heading:T._('Are you sure?', 'closeup.deleteCommentModal.heading', 'Are you sure to remove post or comment'),cancelButtonText:T._('Cancel', 'closeup.deleteCommentModal.cancelButton', 'Cancel deleting comment'),confirmButtonText:T._('Delete', 'closeup.deleteCommentModal.confirmButton', 'Delete comment'),detail:T._('This comment will be deleted', 'closeup.deleteCommentModal.detailText', 'confirmation before deleting comment'),onConfirm:()=>{$((0,X.Z)({aggregatedCommentId:e,aggregatedPinId:t,feedType:"aggregatedComments",type:je?oe.Rv.REPLY_TO_AGGREGATED:oe.Rv.TOP,parentId:m,updateParentCommentCount:!0}))},onDismiss:Ge}),G&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:T._('Users who have liked this.', 'closeup.comment.showLikeListModal.label', 'Label for a modal showing a list of users who have liked a Tried Item Comment'),heading:(0,p.Z)(T.ngettext('{{count}} Like', '{{count}} Likes', Ie, 'closeup.comment.showLikeListModal.heading', 'Number of likes a comment has'),{count:Ie.toString()}),onDismiss:Ge,size:"md",children:(0,c.jsx)(J.Xd,{id:e})}),V&&(0,c.jsx)(F.Z,{firstName:Ee,onBlockUser:()=>{$((0,te.Ge)(Ce)),$((0,ee.V)(Ce)),Ge(),I((({hideToast:e})=>(0,c.jsx)(Q.ZP,{onHide:e,text:(0,ae.nk)(T._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:Ee}).join("")})))},onClearModal:Ge})]})};var he=o(322741),pe=o(829407),me=o(826067),ge=o(925927),fe=o(281615);const xe=2,be=({baseIndex:e=0,commentCount:t,creatorId:o,depth:s=0,didItOwnerId:a,feedItems:d,feedResourceName:u,initialLoadCount:_,isManagedView:h,objectId:p,objectType:m,onUpdate:g,parentObjectId:f,pinDomainOwnerId:x,pinId:b,privatePin:y,shouldFeatureComment:w=!1,variant:A,isORBACProfileManager:C})=>{var E,T;const{logContextEvent:j}=(0,S.v)(),I=(0,r.ZP)(),[z,k]=(0,n.useState)(!1),[D,R]=(0,n.useState)(!1),L=(0,v.Z)(),F=(0,$.K)(),M=(0,ge.TH)(),{comment_is_hidden:N="0"}=(0,me.mB)(M.search),B=1===parseInt(N,10),{showOneToast:U}=(0,de.F9)();(0,pe.Z)((()=>{if(F&&B&&w){const e=I._('Sorry, the comment has been hidden', 'AggregatedCommentList.featuredComment.isHidden', 'Error message for featured comment is unavailable');U((({hideToast:t})=>(0,c.jsx)(Q.ZP,{onHide:t,text:e})))}}));const Z=(0,i.useDispatch)(),{fetchMore:G,isAtEnd:H,isLoaded:V}=(0,K.Z)({name:u,options:{objectId:p,page_size:_||2,redux_normalize_feed:!0,featured_ids:w&&F&&!B?[F]:null}}),W=(0,i.useSelector)((({pins:e})=>b?e[b]:null)),Y=W&&W.pinner?W.pinner.id:"",q=!!W&&W.story_pin_data_id,X=null!==(E=null==W||null===(T=W.aggregated_pin_data)||void 0===T?void 0:T.id)&&void 0!==E?E:"";(0,n.useEffect)((()=>{V&&g&&g()}),[V,g]);const J=()=>{k(!z)},ee=!!d&&V&&t>d.length&&!H,te=d?t-d.length:0,oe=(0,ae.nk)(I.ngettext('{{commentCount}} comment', '{{commentCount}} comments', te, 'Show comments link with count', 'Show comments link with count'),{commentCount:String(te)}).join(""),ie=m===P.o.aggregatedComment,se=m===P.o.pin&&(d&&0===d.length||0===t)&&V&&!D,re="default"===A,le=0===s,ce=le&&W&&W.highlighted_aggregated_comments?W.highlighted_aggregated_comments:[],ue=le&&L.isAuth&&L.id===Y;let fe=ue;return(0,c.jsxs)(l.xu,{"data-test-id":"aggregated-comment-list",marginTop:ie&&!re?2:0,paddingY:ie||re?0:2,children:[!!b&&ce.map(((t,n)=>(0,c.jsx)(l.xu,{marginBottom:2,children:(0,c.jsx)(_e,{aggregatedCommentId:t,apdId:X,creatorId:o,depth:s+1,didItOwnerId:a,isManagedView:h,objectType:m,onUpdate:g,parentObjectId:m===P.o.pin?b:p,pinDomainOwnerId:x,pinId:b,slotIndex:e+n,variant:A,viewerId:L.isAuth?L.id:"",canSetHighlight:ue,isORBACProfileManager:C})},t))),!!b&&(null==d?void 0:d.filter((e=>!ce.includes(e.id))).map((({id:t},n)=>{const i=fe;return fe=!1,(0,c.jsx)(l.xu,{marginBottom:2,children:(0,c.jsx)(_e,{aggregatedCommentId:t,apdId:X,creatorId:o,depth:s+1,didItOwnerId:a,isManagedView:h,objectType:m,onUpdate:g,parentObjectId:m===P.o.pin?b:p,pinDomainOwnerId:x,pinId:b,slotIndex:e+ce.length+n,variant:A,viewerId:L.isAuth?L.id:"",showHighlightEducator:i,numHighlights:ce.length,canSetHighlight:ue,isORBACProfileManager:C})},t)}))),(0,c.jsx)(l.$j,{accessibilityLabel:I._('Comments loading', ' - ', ' -- '),show:!V||D}),ee&&(0,c.jsx)(l.xu,{marginTop:3,children:(0,c.jsx)(he.Z,{handleClick:G,text:oe})}),se&&(0,c.jsx)(l.xu,{paddingY:re?0:2,children:(0,c.jsx)(l.xv,{size:re?"100":"200",children:I._('Share feedback, ask a question or give a high five', ' - ', ' -- ')})}),!C&&m!==P.o.aggregatedComment&&!h&&(0,c.jsx)(l.xu,{display:"flex",marginTop:6,children:(0,c.jsx)(l.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,c.jsx)(O,{hideAddObjects:!0,objectType:m,onAddItem:async({contentMarkdown:e,tags:t})=>{J(),R(!0);try{await Z((0,ne.n)({objectType:m,objectId:p,pinId:b,tags:t,text:e})),m===P.o.pin&&j({event_type:7,object_id_str:b,aux_data:{num_user_mention_tags:(t?JSON.parse(t):[]).length,...q?{creator_id:o,story_pin_data_id:q}:{}}})}catch(n){}R(!1)},onCancelItem:J,onEnter:J,parentObjectId:f||"",privatePin:y,replyToObject:null,statusType:z?"textInflightCreation":"textStaticDisplay"})})})]})},ve=e=>(0,i.useSelector)((({feeds:{[fe.DV.AGGREGATED_COMMENTS]:t={}}})=>t[e])),ye=e=>{var t;return(0,c.jsx)(be,{...e,feedItems:null!==(t=ve(e.objectId))&&void 0!==t?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"})},Pe=e=>{var t;return(0,c.jsx)(be,{...e,feedItems:null!==(t=ve(e.objectId))&&void 0!==t?t:[],feedResourceName:"DidItCommentsResource"})};var we=o(129274),Ae=o(587857),Ce=o(782534),Ee=o(946984),Te=o(690468),je=o(39951);function Ie(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Se={background:"none",border:"none",padding:"0",width:"100%"},ze=({isLikedByMe:e,onClick:t})=>{const o=(0,r.ZP)(),n=(0,Ee.Z)({shouldStopEventPropagation:!1});return(0,c.jsx)(l.hU,{accessibilityLabel:o._('Like', ' - ', ' -- '),icon:"heart",iconColor:e?"red":"gray",onClick:n((()=>t())),size:"md"})};class ke extends n.PureComponent{constructor(...e){super(...e),Ie(this,"state",{isLikedByMe:this.props.item.liked_by_me,isReportedByMe:!1,likeCount:this.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),Ie(this,"handleClickthrough",(()=>{const{handlePinClickLogging:e,logContextEvent:t,item:{id:o}}=this.props;e&&e(),t({event_type:101,component:172,element:1263,object_id_str:o})})),Ie(this,"handleClickHashTag",(()=>{const{logContextEvent:e,item:{id:t}}=this.props;e({event_type:101,component:172,element:10194,object_id_str:t})})),Ie(this,"handleToggleLikesListModal",(()=>this.setState((({showLikesListModal:e})=>({showLikesListModal:!e}))))),Ie(this,"handleClickLike",(()=>{const{item:{id:e},viewType:t,logContextEvent:o}=this.props,{isLikedByMe:n,likeCount:i}=this.state;o({event_type:101,component:172,element:1353,object_id_str:e,view_type:t});const s=h.ZP.create("DidItLikeResource",{didItDataId:e});var r,a;return this.setState({isLikedByMe:!n,likeCount:(r=i,a=n,a?r-1:r+1)}),n?s.callDelete({showError:!1}):s.callCreate()})),Ie(this,"handleToggleFlyout",(()=>this.setState((({showFlyout:e})=>({showFlyout:!e,showShareFlyout:!1}))))),Ie(this,"handleShowShareFlyout",(()=>this.setState({showShareFlyout:!0}))),Ie(this,"handleDismissFlyout",(()=>{this.state.showEditModal||this.setState({showFlyout:!1,showShareFlyout:!1})})),Ie(this,"handleShowReportModal",(()=>this.setState({showReportModal:!0}))),Ie(this,"handleHideReportModal",(e=>()=>{const{item:{id:t},removeReportedActivity:o}=this.props;this.setState({showReportModal:!1}),o&&this.state.isReportedByMe&&e&&o(t)})),Ie(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0}))),Ie(this,"handleDeleteConfirmation",(e=>{const{item:{id:t,pin:{aggregated_pin_data:o={},id:n},user:i},deleteUserDidItData:s,logContextEvent:r}=this.props;if(this.setState({showDeleteModal:!1}),!e||!i)return;const{username:a}=i;r({event_type:101,view_type:101,component:192,element:1264,object_id_str:n}),s({aggregatedPinDataId:null==o?void 0:o.id,id:t,isOwnedByMe:this.isOwnedByCurrentUser,pinId:n,username:a})})),Ie(this,"handleToggleEditModal",(e=>this.setState({showEditModal:e,showFlyout:e}))),Ie(this,"handleClickHelpful",(()=>{const{didItDataId:e,item:{marked_helpful_by_me:t},toggleHelpful:o}=this.props;o({didItDataId:e,isMarkedHelpfulByMe:!!t})})),Ie(this,"handleDeleteMouseEnter",(()=>this.setState({isDeleteHover:!0}))),Ie(this,"handleDeleteMouseLeave",(()=>this.setState({isDeleteHover:!1}))),Ie(this,"handleReportMouseEnter",(()=>this.setState({isReportHover:!0}))),Ie(this,"handleReportMouseLeave",(()=>this.setState({isReportHover:!1}))),Ie(this,"renderFlyout",(()=>{var e,t,o;const{creatorId:n,item:{details:i,id:s,images:r,pin:a,privacy:u,user:_},viewer:h}=this.props,{aggregated_pin_data:p={},id:m,images:g={},link_domain:x={},rich_metadata:b={},title:v}=a||{},{showFlyout:y,showShareFlyout:P}=this.state,w=(x||{}).official_user||{},A=(b||{}).title,C={description:i,id:s,imageUrl:r.length>0?null==r||null===(e=r[0])||void 0===e||null===(t=e["550x"])||void 0===t?void 0:t.url:null===(o=g["136x136"])||void 0===o?void 0:o.url,name:A||this.props.i18n._('this idea', ' - ', ' -- '),type:Ae.d.DID_IT,url:`/pin/${m}/activity/tried/${s}`},E=this.isOwnedByCurrentUser||h.isAuth&&h.id===w.id||h.isAuth&&h.id===n;return(0,c.jsxs)(l.xu,{children:[(0,c.jsx)(l.xu,{ref:e=>{this.flyoutAnchor=e},children:(0,c.jsx)(l.hU,{accessibilityExpanded:y,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",onClick:this.handleToggleFlyout,size:"sm"})}),y&&(0,c.jsx)(l.mh,{children:(0,c.jsx)(l.xu,{alignSelf:"end",children:(0,c.jsx)(l.J2,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:P?"lg":"xs",children:P?(0,c.jsx)(f.Z,{onHide:this.handleToggleFlyout,sendType:Ae.d.DID_IT,sharedObject:C}):(0,c.jsx)(l.xu,{display:"flex",column:12,color:"white",position:"relative",rounding:2,alignSelf:"start",children:(0,c.jsxs)(l.sg,{span:12,children:["public"===u&&(0,c.jsx)("button",{style:Se,onClick:this.handleShowShareFlyout,children:(0,c.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(l.xv,{weight:"bold",children:this.props.i18n._('Share', ' - ', ' -- ')})})}),(0,c.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(l.rU,{onClick:this.handleClickthrough,href:this.pinURL,children:(0,c.jsx)(l.xv,{weight:"bold",children:this.props.i18n._('Go to Pin', ' - ', ' -- ')})},this.pinURL)}),_&&(this.isOwnedByCurrentUser||E)?(0,c.jsxs)(l.xu,{children:[this.isOwnedByCurrentUser&&(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(d,{aggregatedPinDataId:null==p?void 0:p.id,isDoneByMe:this.isOwnedByCurrentUser,loggedInUser:_,onToggleModal:this.handleToggleEditModal,pinId:m,pinTitle:v,userDidItDataId:s})}),E&&(0,c.jsx)("button",{style:Se,onClick:this.handleShowDeleteModal,children:(0,c.jsx)(l.xu,{"data-test-id":"flyout-delete-button",paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(l.xv,{weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})]}):(0,c.jsx)("button",{style:Se,onClick:this.handleShowReportModal,children:(0,c.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(l.xv,{weight:"bold",children:this.props.i18n._('Report this content', ' - ', ' -- ')})})})]})})})})})]})})),Ie(this,"renderStatsBar",(()=>{const{item:{comment_count:e,done_at:t,pin:{link_domain:o},marked_helpful_by_me:n,helpful_count:i},isManagedView:s,viewer:r}=this.props,{isLikedByMe:a,likeCount:d,isDeleteHover:u,isReportHover:_}=this.state,h=(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', d, ' - ', ' -- '),{likeCount:d}),m=(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', e, ' - ', ' -- '),{commentCount:e}),g=(o||{}).official_user||{},f=this.isOwnedByCurrentUser||r.isAuth&&r.id===g.id,x=this.props.getHumanizedTimeSince(t,!0);return(0,c.jsxs)(l.xu,{column:12,display:"flex",alignItems:"center",children:[(0,c.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(l.xv,{size:"200",children:s?x:(0,c.jsx)(Ce.Z,{value:new Date(t),dateFormatType:Ce.k.LONG,useUTC:!1})}),e>0&&(0,c.jsx)(l.xu,{marginStart:6,children:(0,c.jsx)(l.xv,{size:"200",weight:"bold",children:m})}),d>0&&(0,c.jsx)(l.xu,{marginStart:6,"data-test-id":"did_it_show_likes_tap_area",children:(0,c.jsx)(l.iP,{onTap:this.handleToggleLikesListModal,children:(0,c.jsx)(l.xv,{size:"200",weight:"bold",children:h})})})]}),(0,c.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,c.jsx)(l.xu,{marginBottom:1,marginTop:1,display:"flex",justifyContent:d>0?"between":"end",children:r.isAuth&&(0,c.jsx)(ze,{isLikedByMe:a,onClick:this.handleClickLike})}),(0,c.jsx)(l.xu,{display:"flex",paddingY:3,children:(0,c.jsx)(Z.N,{helpfulCount:i,isMarkedHelpfulByMe:n,onHelpfulClick:this.handleClickHelpful})})]}),s&&(0,c.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(l.iP,{onMouseEnter:this.handleReportMouseEnter,onMouseLeave:this.handleReportMouseLeave,onTap:this.handleShowReportModal,rounding:"pill",children:(0,c.jsx)(l.xu,{padding:2,children:(0,c.jsx)(l.xv,{color:_?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Report', ' - ', ' -- ')})})})}),s&&f&&(0,c.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(l.iP,{onMouseEnter:this.handleDeleteMouseEnter,onMouseLeave:this.handleDeleteMouseLeave,onTap:this.handleShowDeleteModal,rounding:"pill",children:(0,c.jsx)(l.xu,{padding:2,children:(0,c.jsx)(l.xv,{color:u?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})})]})})),Ie(this,"renderPinInfoBar",(()=>{var e,t;const{item:{images:o,pin:n,user:i},isManagedView:s}=this.props,{full_name:r}=i||{},{dominant_color:a,images:d={},rich_metadata:u={},title:_}=n,h=(u||{}).title;let p;p=this.isOwnedByCurrentUser&&h?(0,ae.nk)(this.props.i18n._('You tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{pinTitleForTriedByText:h}):h?(0,ae.nk)(this.props.i18n._('{{fullName}} tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{fullName:r,pinTitleForTriedByText:h}):this.isOwnedByCurrentUser?this.props.i18n._('See the Pin you tried', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'):this.props.i18n._('See the Pin that inspired it', 'call to action - navigating to a Pin from a try', 'call to action - navigating to a Pin from a try');return(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:o.length?{backgroundImage:"linear-gradient(to bottom, rgba(118, 118, 118, 0), rgba(0, 0, 0, 0.2) 33%, rgba(0, 0, 0, 0.5) 66%, rgba(0, 0, 0, 0.7))"}:{}},rounding:o.length?2:0,children:(0,c.jsx)(l.iP,{role:"link",onTap:this.handleClickthrough,href:this.pinURL,children:(0,c.jsxs)(l.xu,{paddingX:o.length?3:0,paddingY:3,display:"flex",alignItems:"center",children:[(0,c.jsxs)(l.xu,{marginEnd:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center",children:[(0,c.jsx)(l.xu,{width:60,marginEnd:3,children:(0,c.jsx)(l.zd,{rounding:2,wash:!0,children:(0,c.jsx)(l.Ee,{alt:null!=_?_:"",color:null!=a?a:"transparent",naturalHeight:60,naturalWidth:60,src:null!==(e=null===(t=d["136x136"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})})}),(0,c.jsxs)(l.xv,{color:o.length?"inverse":"default",size:s?"100":"300",weight:"bold",children:[" ",p," "]})]}),(0,c.jsx)(l.JO,{accessibilityLabel:this.props.i18n._('See pin', ' - ', ' -- '),color:o.length?"inverse":"default",icon:"arrow-forward",size:32})]})},this.pinURL)})}))}get isOwnedByCurrentUser(){const{viewer:e,item:t}=this.props;return!(!e.isAuth||!t.user||e.id!==t.user.id)}get pinURL(){return`/pin/${this.props.item.pin.id}/`}render(){var e;const{creatorId:t,isManagedView:o,item:n,viewType:i}=this.props,{likeCount:r,showDeleteModal:a,showLikesListModal:d,showReportModal:h}=this.state,{comment_count:m,details:f,id:v,images:y,pin:w,user:A,videos:C}=n,{aggregated_pin_data:E={},id:T}=w||{},{full_name:j,id:I,image_medium_url:S,username:z}=A||{},k=`/${z}/`;(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', r, ' - ', ' -- '),{likeCount:r}),(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', m, ' - ', ' -- '),{commentCount:m});const D=!!(C&&C.length>0&&C[0].video_list&&C[0].video_list.V_HLSV4),R=!!(y.length>0&&y[0]&&y[0]["750x"]),O=R||D,L=82!==i,F=R&&L;return(0,c.jsxs)(l.xu,{display:"flex",direction:"column",alignItems:"stretch",justifyContent:"between",paddingY:7,children:[(0,c.jsxs)(l.xu,{display:"flex",column:12,alignItems:"center",children:[(0,c.jsx)(l.kC,{alignItems:"center",children:(0,c.jsx)(l.xu,{width:o?36:42,marginEnd:3,children:(0,c.jsx)(l.iP,{role:"link",rounding:"circle",onTap:this.handleClickthrough,href:k,children:(0,c.jsx)(l.zd,{rounding:"circle",wash:!0,children:(0,c.jsx)(l.Ee,{alt:null!=j?j:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:null!=S?S:""},S)})},k)})}),(0,c.jsx)(l.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,c.jsxs)(l.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,c.jsx)(l.xv,{size:o?"200":"300",children:(0,c.jsx)(l.rU,{onClick:this.handleClickthrough,href:k,children:j||""},k)}),!o&&this.renderFlyout()]})]}),(0,c.jsx)(l.xu,{marginTop:2,marginBottom:o?0:1,children:O&&(0,c.jsxs)(l.xu,{column:12,position:"relative",children:[D?(0,c.jsx)(b.Z,{item:n,viewType:i}):(0,c.jsx)(x,{item:n}),F&&(0,c.jsx)(l.xu,{column:12,position:"absolute",bottom:!0,children:this.renderPinInfoBar()})]})}),(0,c.jsxs)(l.xu,{marginStart:1,children:[R&&this.renderStatsBar(),f&&(0,c.jsx)(l.xu,{column:10,marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,c.jsx)(l.xv,{size:o?"100":"300",children:(0,c.jsx)(g,{html:f,onClick:this.handleClickHashTag})})}),!R&&(0,c.jsxs)(l.xu,{children:[L&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,c.jsx)(l.xu,{column:12,children:(0,c.jsx)(Pe,{commentCount:m,creatorId:t,didItOwnerId:I,objectId:v,objectType:P.o.didIt,pinId:w.id,variant:"legacy"})})]}),a&&(0,c.jsx)(s.Z,{didItData:{id:v},onDeleteConfirmation:this.handleDeleteConfirmation}),d&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:this.props.i18n._('Users who have liked this.', 'Label for a modal showing a list of users who have liked a Tried Item', 'Label for a modal showing a list of users who have liked a Tried Item'),allowScroll:!0,heading:(0,p.Z)(this.props.i18n.ngettext('{{count}} Like', '{{count}} Likes', r, ' - ', ' -- '),{count:r.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,c.jsx)(J.Jo,{id:v})}),h&&A&&(0,c.jsx)(we.N,{children:(0,c.jsx)(u.Z,{aggregatedPinDataId:null!==(e=null==E?void 0:E.id)&&void 0!==e?e:"",didItDataId:v,pinId:T,onClose:this.handleHideReportModal,username:z,users:[A]})})]})}}function De(e){const{logContextEvent:t}=(0,S.v)(),o=(0,r.ZP)(),n=(0,M.Z)(),s=(0,i.useDispatch)(),a={deleteUserDidItData:(0,y.bindActionCreators)(Te.lg,s),toggleHelpful:(0,y.bindActionCreators)(je.Y,s),updateUserDidItDataCommentCount:(0,y.bindActionCreators)(Te.L8,s)},l=(0,i.useSelector)((({userDidItData:t})=>t[e.didItDataId]));return(0,c.jsx)(ke,{...e,...a,item:l,viewer:(0,v.Z)(),i18n:o,getHumanizedTimeSince:n,logContextEvent:t})}},395129:(e,t,o)=>{o.d(t,{Jo:()=>g,Xd:()=>m});var n=o(667294),i=o(700380),s=o(56291),r=o(784590),a=o(19121),l=o(281180),c=o(898781),d=o(883119),u=o(304903),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),h(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),h(this,"handleScroll",(0,i.Z)((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,u.Uy)(this.list);(0,u.aZ)(this.list)-(0,u.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:o,viewer:n}=this.props;if(!t)return(0,_.jsx)("div",{className:"loadingSpinner",children:(0,_.jsx)(d.$j,{accessibilityLabel:this.props.i18n._('Loading spinner for like list', 'Accessibility label for loading spinner for like list', 'Accessibility label for loading spinner for like list'),show:!0})});const i=e&&e.map((e=>e.id?{...e,...o[e.id]}:e));return(0,_.jsx)(d.xu,{"data-test-id":"liked-by-list",maxHeight:400,ref:this.setRef,children:i&&i.map((e=>(0,_.jsx)(d.xu,{paddingX:4,paddingY:3,children:(0,_.jsx)(s.Z,{isSelf:Boolean(n.isAuth&&n.id&&e.id===n.id),user:e})},e.id)))})}}function m(e){const t=(0,c.ZP)(),o=(0,a.Z)(),n=(0,l.kW)(),i=(0,r.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}function g(e){const t=(0,c.ZP)(),o=(0,a.Z)(),n=(0,l.kW)(),i=(0,r.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}},102243:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(572260),s=o(366284),r=o(898781),a=o(780280),l=o(883119),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),d(this,"handleTouch",(({event:e})=>{e.stopPropagation(),this.setState((e=>({isPlaying:!e.isPlaying})))})),d(this,"handleShowControls",(()=>this.setState({showControls:!0}))),d(this,"handleHideControls",(()=>this.setState({showControls:!1}))),d(this,"handleEnded",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePause",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePlay",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!0})})),d(this,"handleToggleFullscreen",(e=>{const{event:t,fullscreen:o}=e;t.stopPropagation(),this.setState({isFullscreen:o})})),d(this,"handleVolumeChange",(e=>{const{event:t,volume:o}=e;t.stopPropagation(),this.setState({volumeLevel:o})}))}render(){const{item:e,requestContext:t,viewType:o}=this.props,{videos:n}=e;if(!n||0===n.length)return null;const r=n[0],{showControls:a,isFullscreen:d,isPlaying:u,volumeLevel:_}=this.state,{V_HLSV4:h}=r.video_list;if(!h)return null;const{height:p,width:m,thumbnail:g,url:f}=h||{},x=[{type:"video/m3u8",src:f}];return(0,c.jsx)(l.iP,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,c.jsx)(l.zd,{rounding:2,willChangeTransform:!((0,s.G6)(t.userAgent.browserName)&&d),wash:!0,children:(0,c.jsx)(i.ZP,{isAutoPlay:!1,contextLogData:{view:o,viewParameter:3071,component:172,objectId:e.id,video_id:r.id},accessibilityMaximizeLabel:this.props.i18n._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:this.props.i18n._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:this.props.i18n._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:this.props.i18n._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:this.props.i18n._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:this.props.i18n._('Progress bar', 'trieditvideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:this.props.i18n._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:Math.max((null!=m?m:1)/(null!=p?p:1),1),captions:"",controls:a,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:g,src:x,volume:_})})})}}function _(e){const t=(0,r.ZP)(),o=(0,a.B)();return(0,c.jsx)(u,{...e,i18n:t,requestContext:o})}},173748:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(14254),s=o(31739),r=o(100315),a=o(436285),l=o(898781),c=o(883119),d=o(785893);function u({board:e,canEdit:t,isActive:o,onEditClick:n,subtitle:i}){const u=(0,l.ZP)(),{image_cover_url:_,is_collaborative:h,name:p,pin_count:m,section_count:g}=e,f=h&&(0,d.jsx)(c.xu,{marginEnd:2,paddingX:1,children:(0,d.jsx)(c.JO,{accessibilityLabel:u._('Group board', 'Accessibility label to indicate group boards', 'Accessibility label to indicate group boards'),color:"default",icon:"people",size:16})});return(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4,children:[(0,d.jsx)(c.xu,{column:9,display:"flex",paddingX:4,children:(0,d.jsxs)(c.xu,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4,children:[(0,d.jsx)(c.xu,{overflow:"hidden",paddingX:4,children:(0,d.jsxs)(c.xu,{display:"flex",marginEnd:-2,marginStart:-2,children:[(0,d.jsx)(c.xu,{flex:"none",paddingX:2,children:(0,d.jsx)(c.xu,{height:40,overflow:"hidden",rounding:1,width:40,children:_?(0,d.jsx)(c.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:_}):(0,d.jsx)(c.xu,{color:"lightGray",height:"100%",width:"100%"})})}),(0,d.jsx)(c.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2,children:(0,d.jsx)(c.xu,{overflow:"hidden",paddingX:1,children:(0,d.jsx)(c.xv,{lineClamp:1,weight:"bold",children:p})})})]})}),(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:4,children:[(0,s.Z)(e)&&(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(a.Z,{})}),f,(0,d.jsx)(r.Z,{pinCount:m,sectionCount:g})]})]})}),(0,d.jsxs)(c.xu,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4,children:[i&&(0,d.jsx)(c.xu,{overflow:"hidden",paddingX:1,children:(0,d.jsx)(c.xv,{size:"200",lineClamp:1,children:i})}),t&&o&&(0,d.jsx)(c.xu,{flex:"none",paddingX:1,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Edit', 'Edit button accessibility label', 'Edit button accessibility label'),icon:"edit",onClick:({event:e})=>n(e)})})]})]})}var _=o(6637),h=o(499128),p=o(851850),m=o(19121),g=o(904411),f=o(597897),x=o(780280),b=o(343341),v=o(286268);function y({board:e,canEdit:t,invite:o,isReordering:s,layout:r,onDeclineRequest:a,onEditClick:y,subtitle:P,viewParameter:w,viewType:A}){const C=(0,l.ZP)(),E=(0,m.Z)(),T=E&&E.isAuth,j=E.isAuth?E.id:"",[I,S]=(0,n.useState)(!1),[z,k]=(0,n.useState)(!1),D=(0,f.U)(),R=(0,b.F9)(),{locale:O}=(0,x.B)(),L=(0,p.Z)();(0,n.useEffect)((()=>{s&&I&&S(!1)}),[s,I]);const F=null==e?void 0:e.id,M=(0,g.gC)()(F),N=()=>{S(!s),D&&D.load(new URL("[username]/[slug].js","file://"))},B=()=>{S(!1)};if(e||M){var U,Z,G,H;const n=null!=e?e:M,s=n.owner,l=[s,...n.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:o,full_name:n})=>({id:e,image_medium_url:t,username:o,full_name:n}))),p=L(n),m={isCustom:n.has_custom_cover,url:p,position:(0,v.Bw)(n.cover_pin)},g=(0,v.Jx)(n,p).map((({url:e})=>({name:(0,v.po)(e),url:e}))),f=(null==s?void 0:s.id)===j,x=l.filter((({id:e})=>e===j)).length>0;return(0,d.jsx)(c.xu,{"data-test-id":"profile-board-card",children:(0,d.jsx)(c.xu,{"data-test-id":`board-${n.name}`,onMouseEnter:N,onMouseLeave:B,children:"list"===r?(0,d.jsx)(u,{board:n,canEdit:t,isActive:I,onEditClick:y,subtitle:P}):(0,d.jsx)(i.Z,{archivedDate:null!==(U=n.archived_by_me_at)&&void 0!==U?U:void 0,boardUrl:n.url,canEdit:t,collaborators:l,collaboratorsCount:n.collaborator_count,containerBackgroundColor:n.archived_by_me_at?"#f6f6f6":void 0,coverPhoto:p?m:null,followedByMe:n.followed_by_me,fullSizeDrawer:!0,handleInviteResponse:e=>{(async e=>{if(!o)return;const{board:t={},invited_user:n={}}=o,i={board_id:null==t?void 0:t.id,invited_user_id:n.id};await _.ZP.create("BoardInviteResource",i)[e?"callUpdate":"callDelete"](),k(e),!e&&a?(a(),R.showToast((({hideToast:e})=>(0,d.jsx)(h.ZP,{onHide:e,text:C._('Invitation declined', 'text in toast after declined a board collaborator invite', 'text in toast after declined a board collaborator invite')})))):R.showToast((({hideToast:e})=>(0,d.jsx)(h.ZP,{duration:5e3,onHide:e,text:C._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfileBoardCard.handleInviteResponse.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})))})(e)},hideMeta:!1,id:n.id,imagesLego:g,invite:o,isActive:I,isAuthenticated:T,isBoardInviteAccepted:z,isCollaborative:n.is_collaborative,isCollaborator:x,isOwner:f,isSecret:"secret"===n.privacy,layout:"square"===r?"square":"wide",lastModifiedDate:null!==(Z=n.board_order_modified_at)&&void 0!==Z?Z:"",locale:O,name:null!==(G=n.name)&&void 0!==G?G:"",numCols:4,onEditClick:y,owner:s,pinCount:n.pin_count?n.pin_count:void 0,sectionCount:null!==(H=n.section_count)&&void 0!==H?H:0,sensitivityScreen:n.sensitivity_screen,showFollowButton:!1,viewParameter:w,viewType:A,viewerId:j})})})}return null}},166150:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(667294),i=o(966338),s=o(402524),r=o(31739),a=o(145401),l=o(717615),c=o(19121),d=o(293880),u=o(407043),_=o(782534),h=o(298361),p=o(898781),m=o(231947),g=o(883119),f=o(785893);function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class b extends n.Component{constructor(...e){super(...e),x(this,"state",{isEditModalOpen:!1}),x(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),x(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:o}=this.props,n="list"===o;return e.archived_by_me_at?n?(0,f.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n._('Archived', 'profileBoardCard.footer.archived', 'Indicating that a board is archived'):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||n?this.props.getHumanizedTimeSince(e.board_order_modified_at,!0):null:n?(0,f.jsx)("span",{children:(0,f.jsx)(_.Z,{dateFormatType:_.k.LONG,value:new Date(e.created_at)})}):null})),x(this,"handleBoardCardClick",(()=>{const{board:e,logContextEvent:t}=this.props;t({event_type:101,component:1,element:36,object_id_str:e.id,view_type:4})})),x(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t,logContextEvent:o}=this.props;this.setState({isEditModalOpen:!0}),o({event_type:101,component:1,element:81,object_id_str:t.id,view_type:4})})),x(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e;const{board:t,forwardedRef:o,isReordering:i,isOwnProfile:l,layout:c,onBoardArchiveChange:d,onBoardDelete:u,onBoardPrivacyChange:_,onBoardLeave:h,onBoardUpdate:p,slotIndex:x,viewer:b,orbacActingAs:v}=this.props,{isEditModalOpen:y}=this.state;if(!t)return null;const P=(0,m.D3)(b,null===(e=t.owner)||void 0===e?void 0:e.id,v),w=(0,m.lJ)(b,v),{url:A}=t,C=w&&(0,r.Z)(t)?`?orbac_subject_id=${w}`:"",E=l||t.access.includes("write")||P,T=this.getSubtitleText();return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(g.iP,{role:"link",onTap:this.handleBoardCardClick,href:`${A}${C}`,ref:o,children:(0,f.jsx)(g.xu,{children:(0,f.jsx)(a.Z,{board:t,canEdit:E,isOwnProfile:l,isReordering:i,layout:c,onEditClick:this.handleEditClick,slotIndex:x,subtitle:T})})}),y&&(0,f.jsx)(s.Z,{boardId:t.id,coverImageHeight:200,coverImageWidth:200,onBoardArchiveChange:d,onBoardDelete:u,onBoardLeave:h,onBoardPrivacyChange:_,onBoardUpdate:p,onClose:this.handleEditClose})]})}}x(b,"defaultProps",{isOwnProfile:!1,isReordering:!1});const v=(0,i.connect)((({blockingActions:e,boards:t},{board:o})=>({images:(t[o.id]||{}).images,progress:((e.boardMap[o.id]||{}).wholeBoard||{}).progress})),((e,{board:t})=>({updateBoard:()=>e((0,d.oG)(t.id,"profile_grid_item"))})))((function(e){const{logContextEvent:t}=(0,u.v)(),o=(0,p.ZP)(),n=(0,h.Z)(),i=(0,l.Z)(),s=(0,c.Z)();return(0,f.jsx)(b,{...e,i18n:o,viewer:s,orbacActingAs:i,getHumanizedTimeSince:n,logContextEvent:t})}))},145401:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(564194),i=o(173748),s=o(785893);function r({board:e,isOwnProfile:t,slotIndex:o,...r}){const a=t?3069:3070;return(0,s.jsx)(n.Z,{componentType:13669,impressionType:"Board",loggingId:e.id,slotIndex:o,viewParameter:a,viewType:4,children:(0,s.jsx)(i.Z,{board:e,...r,viewParameter:a,viewType:4})})}},436285:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},8405:(e,t,o)=>{o.d(t,{F:()=>i,m:()=>s});const n={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return n["square"===e?"square":"wide"]}function s(e){return"list"===e?"100%":i(e).width+16}},31739:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(27255);function i(e){return e.privacy===n.Z.BoardPrivacy.SECRET}},501817:(e,t,o)=>{o.d(t,{O:()=>a,Q:()=>l});var n=o(588028),i=o(280773),s=o(414327);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],a={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:o,username:n},i)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...i?{orbac_subject_id:i}:Object.freeze({})})},l=e=>r.reduce(((t,o)=>{const r=[(0,i.Z)("profileBoards",(0,n.O)(e,o))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{r.push((0,s.jB)(a.name,a.options({username:e,boardOrder:o,mixPublicSecret:t,filterStories:n})))}))})),t.concat(r)}),[])},890328:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var n=o(667294),i=o(300267),s=o(966338),r=o(572551),a=o(301921),l=o(730320),c=o(104258),d=o(898781),u=o(883119),_=o(785893);function h({feed:e,isOwnProfile:t,pinsResource:o,surface:i,user:h}){var p;const m=(0,d.ZP)(),{fetchMore:g,isAtEnd:f,isFetching:x,isLoaded:b}=o,v=(null!==(p=o.data)&&void 0!==p?p:[]).filter((e=>"pin"===(null==e?void 0:e.type))),y=(0,s.useSelector)((({feeds:t})=>t[e])),P=h&&y[h.id];if(b&&!t&&(!v||!v.length))return null;const w=t?3106:3107;return(0,_.jsxs)(n.Fragment,{children:[b&&(P&&0!==P.length?null:(0,_.jsx)(l.Z,{marginTop:t?0:5,textSize:t?"sm":"md",children:(0,_.jsx)(c.Z,{subject:"pins",surface:"profile",user:h})})),b&&P?(0,_.jsx)(r.default,{flexible:!0,columnWidth:236,comp:({data:e,itemIdx:t})=>(0,_.jsx)(a.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:i,trackingParameters:{slotIndex:t,viewParameter:w,viewType:4}}),isAtEnd:f,isFetching:x,isLoaded:b,items:P,loadItems:()=>{x||f||g()},serverRender:!1,virtualize:!1}):null,x&&(0,_.jsx)(u.xu,{paddingY:3,position:"relative",children:(0,_.jsx)(u.$j,{accessibilityLabel:m._('Loading Pins on profile', 'profile.createdTab.loadingSpinner', 'Loading Pins on profile'),show:x})})]})}var p=o(620006),m=o(717615),g=o(86551),f=o(784590),x=o(184451),b=o(19121),v=o(281615),y=o(349700),P=o(407043),w=o(578722),A=o(357805),C=o(925927),E=o(231947),T=o(217468);function j(e){var t,o,s,r,a,l,c,j;const{logContextEvent:I}=(0,P.v)(),S=(0,d.ZP)(),{params:{username:z,userId:k}}=(0,C.$B)(),D=(0,b.Z)(),{anyEnabled:R}=(0,T.a)("web_story_pin_creator"),O=["holdout","holdout_2"].includes((0,T.t)("story_pin_longterm_holdout")({dangerouslySkipActivation:!0}).group),L=(0,T.t)("web_created_tab_for_all")({dangerouslySkipActivation:!0}).anyEnabled,F=(0,m.Z)(),M=(0,g.Z)(),N=(0,i.Z)({user:M.data,viewer:D}),B=(0,E.D3)(D,null!==(t=null!=k?k:null===(o=M.data)||void 0===o?void 0:o.id)&&void 0!==t?t:"",F),U=(0,f.Z)({name:"UserResource",options:{username:D.isAuth&&(null===(s=M.data)||void 0===s?void 0:s.username),field_set_key:"quick_create"},dangerouslyDisableFetch:N||!(O&&L)}),Z=(0,f.Z)({name:"UserActivityPinsResource",options:{data:{filter_version:1},exclude_add_pin_rep:!N,field_set_key:D.isPartner&&N?"partner_grid_item":"grid_item",is_own_profile_pins:N,redux_normalize_feed:!0,user_id:null!=k?k:null===(r=M.data)||void 0===r?void 0:r.id,username:z}}),G=(0,w.s_)(),H=(0,f.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},exclude_add_pin_rep:!N,field_set_key:D.isPartner&&N?"partner_grid_item":G?"grid_item_ip_plays":"grid_item",is_own_profile_pins:N,redux_normalize_feed:!0,user_id:null!=k?k:null===(a=M.data)||void 0===a?void 0:a.id,username:z}}),V=()=>I({event_type:101,element:10949,component:13777,view_type:4,view_parameter:3106});(0,A.S)(z,M.data?M.data.id:null,13668);const{anyEnabled:W}=(0,T.t)("web_m10n_business_access_orbac_www")(),{isAtEnd:K}=H,$=M.data,{first_name:Y}=$||{},{scheduled_pin_count:q=0}=W?{scheduled_pin_count:(0,E.DX)(D,$,F)}:$||{},X=(W?B:N)&&D.isPartner&&q>0,Q=H.isLoaded&&H.data&&H.data.length>0,J=Z.isLoaded&&Z.data&&Z.data.length>0,ee=J&&K,te=Q&&!O||Q&&O&&!(null===(l=U.data)||void 0===l||!l.quick_create_pin_count),oe=S._('No created Pins yet', 'profile.createdTab.notEligibleForCreatedPin', 'text letting user know there are no created pins');return(0,_.jsxs)(n.Fragment,{children:[X&&(0,_.jsx)(x.Z,{username:null!=z?z:""}),Q&&N&&!L&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(p.Z,{label:S._('Your Idea Pins', 'profile.createdTab.ideaPinHeader', 'title for the Idea Pin section under the Created Tab on the profile page')})}),H.isLoaded&&(te?(0,_.jsx)(u.xu,{"data-test-id":"story-pin-feed",children:(0,_.jsx)(h,{isOwnProfile:N,feed:v.DV.CREATED_TAB_STORY_PINS_FEED,pinsResource:H,surface:"CreatorProfileStoryPinGrid",user:M.data})}):N&&R&&!L&&(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,children:[(0,_.jsx)(u.xv,{children:S._('Nothing to show...yet! Idea Pins you create will live here.', 'profile.createdTab.emptyIdeaPinState', 'text prompting creator that they do not have Idea Pins to display')}),(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{role:"link",href:"/idea-pin-builder/",onClick:V,size:"lg",text:S._('Create Idea Pin', 'profile.createdTab.createButton', 'Button that will re-direct user to Idea Pin Builder')})})]})),L&&O&&!N&&!(null!==(c=U.data)&&void 0!==c&&c.quick_create_pin_count)&&!J&&(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsx)(u.xu,{"data-test-id":"empty-story-pin-state",display:"flex",justifyContent:"center",paddingY:12,children:(0,_.jsx)(u.X6,{size:"500",children:oe})})}),L&&!te&&!1===(null===(j=M.data)||void 0===j?void 0:j.has_published_pins)&&0===M.data.story_pin_count&&(N?(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:[(0,_.jsx)(u.X6,{size:"500",children:R?S._('Inspire with an Idea Pin', 'profile.createdTab.selfEmptyPinState', 'text prompting creator to create an idea pin'):oe}),R&&(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{color:"red",href:"/idea-pin-builder/",onClick:V,role:"link",size:"lg",text:S._('Create', 'profile.createdTab.emptyStateCreateButton', 'Create button that will re-direct user to Idea Pin Builder')})})]})}):(0,_.jsx)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:(0,_.jsx)(u.xu,{maxWidth:362,paddingY:12,children:(0,_.jsx)(u.X6,{align:"center",size:"500",children:S._('No Idea Pins yet, but there\'s tons of potential', 'profile.createdTab.otherEmptyPinState', 'text indicating where idea pins would display if they were created')})})})),ee&&te&&(N?(0,_.jsx)(p.Z,{showHeading:!0,label:S._('Other Pins', 'profile.createdTab.nonStoryPinHeaderAlt', 'header for non story pins section of user profile viewed by owner')}):(0,_.jsx)(u.xu,{"data-test-id":"public-view-pins-section-header",display:"flex",justifyContent:"center",marginTop:6,paddingY:4,children:(0,_.jsx)(u.X6,{size:"400",children:(0,y.nk)(S._('More by {{ firstName }}', 'profile.createdTab.nonStoryPinHeader', 'header for non story pins section of user profile viewed by public'),{firstName:Y})})})),(K||!K&&H.data&&0===H.data.length||L&&!te)&&J&&(0,_.jsx)(u.xu,{"data-test-id":"other-pins-feed",children:(0,_.jsx)(h,{feed:v.DV.CREATED_TAB_ACTIVITY_PINS_FEED,isOwnProfile:N,pinsResource:Z,surface:"CreatorProfileActivityPinGrid",user:M.data})})]})}},620006:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{showHeading:t,label:o,sublabel:s}=e;return(0,i.jsxs)(n.xu,{alignContent:"center",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:4,children:[t?(0,i.jsx)(n.X6,{size:"400",children:o}):(0,i.jsx)(n.xv,{weight:"bold",children:o}),(0,i.jsx)(n.xu,{marginTop:1,children:(0,i.jsx)(n.xv,{color:"subtle",size:"100",children:s})})]})}},774026:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(300267),i=o(842822),s=o(86551),r=o(19121),a=o(81636),l=o(785893);function c(e){const t=(0,s.Z)(),o=(0,r.Z)(),c=(0,n.Z)({user:t.data,viewer:o});let d;return o.isAuth&&c&&(d=o.id),(0,a.Q)({object_id_str:d,view_type:4,view_parameter:c?3106:3107}),t&&t.data?(0,l.jsx)(i.default,{}):null}},440414:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(966338),s=o(116303),r=o(985913),a=o(70598),l=o(430323),c=o(499128),d=o(898781),u=o(19121),_=o(343341),h=o(5226),p=o(883119),m=o(785893);const g=()=>window;const f=(0,i.connect)(((e,{isFollowed:t,data:o})=>{const n=e.users[o.id];return{isFollowed:n?n.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,h.ZN)(t)),unfollowUser:t=>e((0,h.fv)(t))})))((function({data:e,followUser:t,isFollowed:o,unfollowUser:i}){var l,h,g;const f=(0,d.ZP)(),x=(0,u.Z)(),{showOneToast:b}=(0,_.F9)(),v=`/${e.username}/`,y=x.isAuth&&x.id!==e.id,P=e.verified_identity&&e.verified_identity.verified,w=(0,r.Z)(f._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!==(l=e.full_name)&&void 0!==l?l:""});return(0,m.jsxs)(p.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,m.jsxs)(p.kC,{alignItems:"center",justifyContent:"start",children:[(0,m.jsx)(p.xu,{width:72,children:(0,m.jsx)(p.rU,{accessibilityLabel:w,href:v,children:(0,m.jsx)(s.Z,{accessibilityLabel:"",name:null!==(h=e.full_name)&&void 0!==h?h:"",size:"lg",src:null!==(g=e.image_xlarge_url)&&void 0!==g?g:void 0,verified:Boolean(P)})},`${v}:avatar`)}),(0,m.jsx)(p.xu,{width:332,paddingX:4,children:(0,m.jsx)(p.rU,{accessibilityLabel:w,href:v,children:(0,m.jsx)(p.xv,{weight:"bold",children:e.full_name})},`${v}:name`)})]}),y&&(0,m.jsx)(p.xu,{column:3,display:"flex",justifyContent:"center",children:(0,m.jsx)(p.xu,{flex:"shrink",children:(0,m.jsx)(a.Z,{followEventType:45,id:e.id,isFollowed:o,isUserMe:!1,onFollow:o=>{t(o),b((({hideToast:t})=>{var o;return(0,m.jsx)(c.ZP,{onHide:t,text:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xv,{children:f._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,m.jsx)(p.xv,{weight:"bold",children:e.full_name})]}),href:v,imageUrl:null!==(o=e.image_medium_url)&&void 0!==o?o:""})}))},onUnfollow:e=>{i(e)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})})]})}));function x({user:e,followers:t,isOwnProfile:o}){const n=(0,d.ZP)(),{data:i,fetchMore:s,isFetching:r,isLoaded:a}=t;if(!e.isLoaded)return null;const c=o?3106:3107;return(0,m.jsx)(l.Z,{view:4,viewParameter:c,component:223,children:(0,m.jsxs)(p.W2,{children:[(0,m.jsx)(p.Rk,{columnWidth:600,comp:f,gutterWidth:0,items:i||[],layout:"uniformRow",loadItems:s,minCols:1,scrollContainer:g,virtualize:!0}),a&&i&&0===i.length&&(0,m.jsx)(p.xu,{marginBottom:3,children:(0,m.jsx)(p.$j,{accessibilityLabel:n._('Loading additional followers', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:r||!a})})]})})}var b=o(86551),v=o(784590),y=o(357805),P=o(925927);function w(e){const{params:{username:t}}=(0,P.$B)(),o=(0,u.Z)(),n=(0,v.Z)({name:"UserFollowersResource",options:{username:t}}),i=(0,b.Z)();(0,y.G)(t,50);const s=o.isAuth&&o.username===t;return(0,m.jsx)(x,{followers:n,user:i,isOwnProfile:s})}},410004:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var n=o(667294),i=o(166150),s=o(730320),r=o(104258),a=o(907301),l=o(898781),c=o(784590),d=o(883119),u=o(785893);function _({user:e}){const t=(0,l.ZP)(),{data:o,fetchMore:n,isAtEnd:_,isFetching:h,isLoaded:p}=(0,c.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:e.username}});return(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.gr,{isAtEnd:_,isFetching:h,fetchMore:n}),p&&(o&&o.length?(0,u.jsx)(a.Z,{itemWidth:317,children:o.map(((e,t)=>(0,u.jsx)(d.xu,{width:317,paddingX:1,paddingY:4,children:(0,u.jsx)("div",{className:"item",style:{position:"relative"},children:(0,u.jsx)(i.Z,{board:e,slotIndex:t,layout:"wide"})})},e.id)))}):(0,u.jsx)(s.Z,{children:(0,u.jsx)(r.Z,{subject:"boards",surface:"following",user:e})})),(0,u.jsx)(d.$j,{accessibilityLabel:t._('Loading additional boards', 'Label for the loading state spinner in the Boards section of the Following page', 'Label for the loading state spinner in the Boards section of the Following page'),show:h||!p})]})}var h=o(966338),p=o(116303),m=o(985913),g=o(70598),f=o(499128),x=o(19121),b=o(343341),v=o(5226);const y=()=>window;const P=(0,h.connect)(((e,{isFollowed:t,data:o})=>{const n=e.users[o.id];return{isFollowed:n?n.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,v.ZN)(t)),unfollowUser:t=>e((0,v.fv)(t))})))((function({data:e,followUser:t,inFollowExp:o,isFollowed:i,unfollowUser:s}){var r,a,c;const _=(0,l.ZP)(),h=(0,x.Z)(),{showOneToast:v}=(0,b.F9)(),y=`/${e.username}/`,P=h.isAuth&&h.id!==e.id,w=Boolean(null===(r=e.verified_identity)||void 0===r?void 0:r.verified),A=(0,m.Z)(_._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!==(a=e.full_name)&&void 0!==a?a:""});return(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,"data-test-id":"profile-following",children:[(0,u.jsx)(d.xu,{width:72,children:(0,u.jsx)(d.rU,{accessibilityLabel:A,href:y,children:(0,u.jsx)(p.Z,{accessibilityLabel:"",name:null!==(c=e.full_name)&&void 0!==c?c:"",src:e.image_xlarge_url||void 0,verified:w})},`${y}:avatar`)}),(0,u.jsx)(d.xu,{width:332,paddingX:2,children:(0,u.jsx)(d.rU,{accessibilityLabel:A,href:y,children:(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})},`${y}:name`)}),(0,u.jsx)(d.xu,{column:3,display:"flex",justifyContent:"center",children:(0,u.jsx)(d.xu,{flex:"shrink",children:P&&(0,u.jsx)(g.Z,{followEventType:45,id:e.id,isFollowed:i,isUserMe:!1,onFollow:o=>{t(o),v((({hideToast:t})=>(0,u.jsx)(f.ZP,{onHide:t,text:(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(d.xv,{children:_._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})]}),href:y,imageUrl:e.image_medium_url||e.image_large_url||void 0})))},onUnfollow:e=>{s(e)},textType:"FollowFollowing",unfollowEventType:46,viewType:4})})})]})}));function w({user:e,following:t}){const o=(0,l.ZP)(),{data:n,fetchMore:i,isFetching:s,isLoaded:r}=t;return e.isLoaded?(0,u.jsxs)(d.W2,{children:[(0,u.jsx)(d.Rk,{columnWidth:600,comp:P,gutterWidth:0,items:n||[],layout:"uniformRow",loadItems:i,minCols:1,scrollContainer:y,virtualize:!0}),r&&n&&0===n.length&&(0,u.jsx)(d.xu,{marginBottom:3,children:(0,u.jsx)(d.$j,{accessibilityLabel:o._('Loading additional followers', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:s||!r})})]}):null}var A=o(86551),C=o(925927);const E=function(){const{params:e}=(0,C.$B)(),t=(0,c.Z)({name:"UserFollowingResource",options:{username:e.username}}),o=(0,A.Z)();return(0,u.jsx)(w,{following:t,user:o})};var T=o(301732),j=o(430323),I=o(619983),S=o(407043),z=o(81636),k=o(780280);function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class R extends n.PureComponent{constructor(e){super(e),D(this,"getOptions",(()=>Object.keys(this.options).map((e=>({label:this.options[e]?this.options[e].label:"",value:this.options[e]?this.options[e].value:""}))))),D(this,"handleSelectChange",(({value:e})=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:this.options[e].elementType}),this.setState({selectedOption:e})})),D(this,"initOptions",(()=>{const{requestContext:e,user:t}=this.props;return new I.v(e,"web_all_profiles_follow_parity").enabledWithNoActivation()&&t.data&&!t.data.show_creator_profile?{People:{elementType:1226,label:this.props.i18n._('People', 'The label for the People tab on the Following page', 'The label for the People tab on the Following page'),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._('Boards', 'The label for the Boards tab on the Following page', 'The label for the Boards tab on the Following page'),render:this.renderBoardsTab,value:"Boards"}}:{People:{elementType:1226,label:this.props.i18n._('People', 'The label for the People tab on the Following page', 'The label for the People tab on the Following page'),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._('Boards', 'The label for the Boards tab on the Following page', 'The label for the Boards tab on the Following page'),render:this.renderBoardsTab,value:"Boards"},Topics:{elementType:1227,label:this.props.i18n._('Topics', 'The label for the Topics tab on the Following page', 'The label for the Topics tab on the Following page'),render:this.renderTopicsTab,value:"Topics"}}})),D(this,"renderPeopleTab",(()=>(0,u.jsx)(E,{}))),D(this,"renderBoardsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(_,{user:e}):null})),D(this,"renderTopicsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(T.ZP,{user:e}):null})),this.state={selectedOption:"People"},this.options=this.initOptions()}render(){const{user:e,username:t,viewer:o}=this.props,{isLoaded:n}=e;if(!n)return null;const{selectedOption:i}=this.state,s=this.options[i].render(),r=o.isAuth&&t===o.username?3106:3107;return(0,u.jsx)(j.Z,{view:4,viewParameter:r,component:224,children:(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.W2,{children:(0,u.jsx)(d.xu,{column:12,display:"flex",justifyContent:"end",paddingY:2,children:(0,u.jsx)(d.xu,{flex:"shrink",children:(0,u.jsx)(d.EI,{id:"ProfileFollowingOptions",label:this.props.i18n._('Following', 'profile.profileFollowingContainer.profileFollowingOptions.label', 'Label for profile following options (i.e. people, boards, topics)'),labelDisplay:"hidden",onChange:this.handleSelectChange,options:this.getOptions(),size:"lg",value:i})})})}),(0,u.jsx)(d.W2,{children:s})]})})}}function O(){const{logContextEvent:e}=(0,S.v)(),t=(0,l.ZP)(),o=(0,x.Z)(),{username:n}=(0,C.UO)(),i=(0,A.Z)(),s=(0,k.B)();let r;return o.isAuth&&o.username===n&&(r=o.id),(0,z.Q)({object_id_str:r,view_type:4,view_parameter:51}),(0,u.jsx)(R,{requestContext:s,user:i,username:n,viewer:o,i18n:t,logContextEvent:e})}},390007:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(85719),s=o(868996),r=o(590908),a=o(966113),l=o(898781),c=o(946984),d=o(545062),u=o(349700),_=o(407043),h=o(925927),p=o(780280),m=o(81636),g=o(121151),f=o(883119),x=o(290095),b=o(785893);const v=new f.H3([g.b7]);function y({isOwnProfile:e,onDismiss:t,onToggleFollow:y,setShowMessageFlyout:P,user:w}){var A,C;const{logContextEvent:E}=(0,_.v)(),T=(0,l.ZP)(),j=(0,c.Z)(),I=(0,h.k6)(),S=(0,p.B)().isRTL,z=(0,x.V)(e,(null===(A=w.partner)||void 0===A?void 0:A.profile_place)||{},T._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied'));(0,m.Q)({view_type:548,view_parameter:e?3106:3107});const k=e=>{E({event_type:101,element:e,view_type:548,view_parameter:3107})},[D,R]=(0,n.useState)(),O=async()=>{const e=await o.e(55302).then(o.bind(o,755302));R((()=>e.parsePhoneNumberFromString))};(0,n.useEffect)((()=>{D||O()}),[D]);const{about:L,full_name:F,is_primary_website_verified:M,is_verified_merchant:N,partner:B,website_url:U}=w,{contact_email:Z="",contact_phone:G="",contact_phone_country:H={},enable_profile_address:V,enable_profile_message:W,profile_place:K}=null!=B?B:{},$=G?null==D?void 0:D(G,{defaultCallingCode:H&&"0"!==H.phone_code?H.phone_code:null}):null,Y=(0,b.jsx)(f.xu,{height:444,marginStart:6,marginEnd:10,children:(0,b.jsxs)(f.kC,{direction:"column",gap:9,children:[(0,b.jsxs)(f.kC,{direction:"column",gap:6,children:[N&&(0,b.jsx)(i.Z,{accessibilityLabel:T._('Verified merchant icon', 'profileHeader.aboutDrawer.verifiedMerchantIcon', 'Icon showing that user is a verified merchant'),color:"shopping",icon:"workflow-status-ok",info:(0,b.jsx)(f.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,b.jsx)(f.rU,{href:a.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:T._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})}),U&&(0,b.jsx)(i.Z,{accessibilityLabel:T._('Website icon', 'profileHeader.aboutDrawer.websiteIcon', 'Icon next to user\'s website'),icon:M?"globe-checked":"globe",info:(0,b.jsx)(f.xv,{inline:!0,weight:"bold",children:(0,b.jsx)(f.rU,{rel:"nofollow",target:"blank",href:U,inline:!0,underline:"hover",children:(0,r.Z)(U)})})}),(0,b.jsx)(s.Z,{isAboutDrawerVariant:!0,user:w}),V&&(0,b.jsx)(i.Z,{accessibilityLabel:T._('Location icon', 'profileHeader.aboutDrawer.locationIcon', 'Icon next to user\'s address'),icon:"location",info:(0,b.jsx)(f.iP,{onTap:z,children:(0,b.jsx)(f.xv,{weight:"bold",children:(0,x.T)(K||{})})})})]}),(0,b.jsx)(f.xv,{children:(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.4"}},children:L})})]})}),q=(0,b.jsx)(f.kC,{justifyContent:"end",children:(0,b.jsx)(f.zx,{size:"lg",text:T._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:j((()=>{E({event_type:101,element:94,view_type:548,view_parameter:3106}),I.push("/settings#profile")}))})}),X=(0,b.jsxs)(f.kC,{justifyContent:"between",children:[(0,b.jsxs)(f.kC,{children:[W&&(0,b.jsx)(f.u,{idealDirection:"up",text:T._('Message', 'profileHeader.aboutDrawer.message', 'Menu option to message the user'),zIndex:v,children:(0,b.jsx)(f.hU,{accessibilityLabel:T._('Send message', 'profileHeader.aboutDrawer.messageIconButton', 'Button to send message to profile owner'),icon:"speech-ellipsis",iconColor:"darkGray",onClick:()=>{k(11956),P(!0),t()},padding:5,size:"lg"})}),($||G)&&(0,b.jsx)(f.u,{idealDirection:"up",text:T._('Call', 'profileHeader.aboutDrawer.phoneNumber', 'Menu option to call the user'),zIndex:v,children:(0,b.jsx)(f.hU,{accessibilityLabel:T._('Call', 'profileHeader.aboutDrawer.phoneIconButton', 'Button to call profile owner'),href:`tel:${$?$.getURI():G}`,icon:"phone",iconColor:"darkGray",onClick:()=>{k(11955)},rel:"nofollow",role:"link",padding:5,size:"lg",target:"blank"})}),Z&&(0,b.jsx)(f.u,{idealDirection:"up",text:(0,u.nk)(T._('Email {{ contactEmail }}', 'profileHeader.aboutDrawer.email', 'Menu option to send an email to the user'),{contactEmail:Z}).join(""),zIndex:v,children:(0,b.jsx)(f.hU,{accessibilityLabel:T._('Send email', 'profileHeader.aboutDrawer.emailIconButton', 'Button to send email to profile owner'),href:`mailto:${Z}`,icon:"gmail",iconColor:"darkGray",onClick:()=>{k(11954)},role:"link",rel:"nofollow",padding:5,size:"lg",target:"blank"})})]}),(0,b.jsx)(d.Z,{button:({followText:e,onClick:t})=>(0,b.jsx)(f.xu,{"data-test-id":w.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,b.jsx)(f.zx,{color:"red",onClick:t,selected:w.explicitly_followed_by_me,size:"lg",text:e})}),fullName:F,id:w.id,imageUrl:null!==(C=w.image_large_url)&&void 0!==C?C:"",isOwnProfile:!1,onUserFollow:y,profileUrl:`/${w.username}/`,userFollowed:w.explicitly_followed_by_me,viewType:548})]}),Q=(0,b.jsxs)(f.xu,{marginEnd:9,padding:8,children:[(0,b.jsx)(f.X6,{size:"500",children:(0,u.nk)(T._('About {{ name }}', 'profileHeader.aboutDrawer.heading', 'Heading for modal that shows a user\'s profile information'),{name:F})}),(0,b.jsx)(f.xu,{left:S,padding:8,position:"absolute",right:!S,top:!0,children:(0,b.jsx)(f.hU,{accessibilityLabel:T._('Close', 'profileHeader.aboutDrawer.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})})]});return(0,b.jsx)(g.ZP,{accessibilityModalLabel:T._('About the user', 'profileHeader.aboutDrawer.modal', 'Accessibility label for modal that shows a user\'s profile information'),footer:e?q:X,heading:Q,onDismiss:t,size:"sm",children:Y})}},45347:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(285970),i=o(890328),s=o(774026),r=o(440414),a=o(410004),l=o(842822),c=o(51463),d=o(117855),u=o(958754),_=o(375553),h=o(256883),p=o(460465),m=o(217468),g=o(134679),f=o(785893);function x({businessProfileTab:e}){const t=(0,m.t)("web_unified_followers_page"),o={[g.u.CREATED]:i.default,[g.u.FOLLOWERS]:t().anyEnabled?h.default:r.default,[g.u.FOLLOWING]:a.default,[g.u.PINS]:p.default,[g.u.SAVED]:l.default,[g.u.SHOP]:c.default,[g.u.STORY_PINS]:d.default,[g.u.TOPICS]:u.default,[g.u.TRIED]:n.default,[g.u.VIDEO_PINS]:_.default,[g.u.DECIDER]:s.default},x=e?o[e]:null;return x?(0,f.jsx)(x,{}):null}},868996:(e,t,o)=>{o.d(t,{Z:()=>ee});var n=o(27255),i=o(319915),s=o(667294),r=o(85719),a=o(939106),l=o(694379),c=o(898781),d=o(19121),u=o(349700),_=o(883119),h=o(785893);function p({count:e,onClick:t,variant:o}){const n=(0,c.ZP)(),{isAuth:i}=(0,d.Z)(),s=e<=0,r={followers:(0,u.nk)(n.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,h.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,u.nk)(n.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,h.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return i?(0,h.jsx)(_.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,h.jsx)(_.iP,{disabled:s,onTap:()=>t(o),children:(0,h.jsx)(_.xv,{inline:!0,weight:s?"normal":"bold",children:r[o]})})}):(0,h.jsx)(_.xv,{inline:!0,children:r[o]})}function m({headingText:e,itemIndex:t,onDismiss:o,setItemIndex:n,showSegmentedController:i}){const r=(0,c.ZP)(),a=[r._('People', 'FollowersModalHeading.tabs.people', 'Tab for displaying Pinner follows'),r._('Boards', 'FollowersModalHeading.tabs.boards', 'Tab for displaying board follows')];return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsxs)(_.xu,{alignItems:"center",justifyContent:"center",display:"flex",position:"relative",marginStart:6,marginEnd:6,paddingY:6,children:[(0,h.jsx)(_.X6,{size:"500",children:(0,h.jsx)(_.kC,{alignItems:"center",justifyContent:"start",children:e})}),(0,h.jsx)(_.xu,{marginStart:"auto",position:"absolute",right:!0,children:(0,h.jsx)(_.hU,{accessibilityLabel:r._('Close modal', 'FollowersModal.closeModalButton', 'Accessibility label for button to close the modal'),icon:"cancel",onClick:o})})]}),i&&(0,h.jsx)(_.xu,{paddingX:6,marginBottom:2,children:(0,h.jsx)(_.sY,{selectedItemIndex:t,items:a,onChange:({activeIndex:e})=>n(e)})})]})}var g=o(166150),f=o(907301),x=o(784590),b=o(8405);function v({layout:e,user:t}){const o=(0,c.ZP)(),n=(0,b.m)(e),i=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:t.username}}),{data:r,fetchMore:a,isAtEnd:l,isFetching:d,isLoaded:u}=i;return(0,h.jsxs)(s.Fragment,{children:[u&&r&&(0,h.jsx)(f.Z,{itemWidth:n,children:r.map(((t,o)=>(0,h.jsx)(_.xu,{width:n,padding:2,children:(0,h.jsx)(g.Z,{board:t,slotIndex:o,layout:e})},t.id)))}),(0,h.jsx)(_.$j,{accessibilityLabel:o._('Loading additional boards', 'FollowingBoards.spinner.accessibilityLabel', 'Label for the loading state spinner in the Boards section of the Following page'),show:d||!u}),!l&&!d&&(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:o._('See more', 'FollowingBoards.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:d,onClick:a,text:o._('See more', 'FollowingBoards.moreButton.text', 'Button text to see more')})})]})}var y=o(121151),P=o(56291);const w="square",A=(0,b.m)(w),C="number"==typeof A?2*A+48:"md";function E({accessibilityModalLabel:e,followersResource:t,headingText:o,onDismiss:n,showSegmentedController:i,user:r}){const a=(0,c.ZP)(),{data:l,fetchMore:d,isAtEnd:u,isFetching:p}=t,[g,f]=(0,s.useState)(0),x=l&&l.length>0&&0===g&&l.map((e=>(0,h.jsx)(P.Z,{showVerified:!0,user:e},e.id)));return(0,h.jsxs)(y.ZP,{accessibilityModalLabel:e,heading:(0,h.jsx)(m,{headingText:o,onDismiss:n,itemIndex:g,showSegmentedController:i,setItemIndex:f}),onDismiss:n,size:C,children:[(0,h.jsxs)(_.xu,{paddingX:6,paddingY:2,children:[(0,h.jsx)(s.Fragment,{children:x}),1===g&&(0,h.jsx)(v,{user:r,layout:w})]}),u||0!==g?null:(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:a._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:p,onClick:d,text:a._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})})]})}var T=o(300267),j=o(81636);function I({followersResource:e,onDismiss:t,totalFollowersCount:o,user:n,variant:i}){const r=(0,c.ZP)(),a="following"===i;(0,j.Q)({view_type:4,view_parameter:a?51:50});const _=(0,d.Z)(),p=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:n.username}}),m=!!p.data&&p.data.length>0,g={followers:r._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),following:r._('Following', 'FollowersModal.accessibilityModalLabel.following', 'Accessibility label for modal showing what of a given entity is following')},f={followers:null,following:r._('Following', 'FollowersModal.heading.following', 'Header text for modal showing what given entities a user is following')},b={followers:(0,u.nk)(r.ngettext('{{ count }} Follower', '{{ count }} Followers', o, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(l.Z,{value:o},"totalFollowersCount")}),following:null},v=(0,h.jsx)(s.Fragment,{children:[f[i],b[i]].filter(Boolean).reduce(((e,t,o)=>[...e,0!==o?" • ":null,t]),[])}),y=(0,T.Z)({user:n,viewer:_}),P=m&&y&&a;return(0,h.jsx)(E,{accessibilityModalLabel:g[i],headingText:v,showSegmentedController:P,onDismiss:t,followersResource:e,user:n})}var S,z,k,D=o(116303),R=o(70598),O=o(167912);const L=void 0!==S?S:S=o(126885),F=void 0!==z?z:z=o(811761),M=void 0!==k?k:k=o(17495);function N({pinner:e}){const t=(0,O.useFragment)(L,e),{id:o,username:n,fullName:i,imageMediumUrl:s,explicitlyFollowedByMe:r=!1,entityId:a}=t,[l,c]=(0,O.useMutation)(F),[d,u]=(0,O.useMutation)(M),p=c||u,m=()=>{},g=()=>{};return(0,h.jsxs)(_.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,h.jsx)(_.xu,{flex:"grow",paddingX:1,children:(0,h.jsx)(_.iP,{role:"link",href:n?`/${n}/`:"/",children:(0,h.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",gap:2,children:[(0,h.jsx)(_.xu,{width:50,children:s&&(0,h.jsx)(D.Z,{name:i||"",src:s,size:"fit"})}),(0,h.jsx)(_.xv,{weight:"bold",children:i})]})})}),(0,h.jsx)(_.xu,{paddingX:1,children:(0,h.jsx)(R.Z,{disabled:p,followEventType:45,id:o,isFollowed:r||!1,isUserMe:!1,onFollow:()=>{l({variables:{followee:a},onCompleted:m,onError:g})},onUnfollow:()=>{d({variables:{followee:a},onCompleted:m,onError:g})},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}var B;const U=(0,b.m)("square"),Z="number"==typeof U?2*U+48:"md";function G({accessibilityModalLabel:e,headingText:t,onDismiss:i,userReference:s}){var r,a;const l=(0,c.ZP)(),{data:d,loadNext:u,hasNext:p,isLoadingNext:g}=(0,O.usePaginationFragment)(void 0!==B?B:B=o(510289),{...s,count:n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE});if(!d)return null;const f=(null===(r=d.followers)||void 0===r||null===(a=r.connection)||void 0===a?void 0:a.edges.map((e=>null==e?void 0:e.node)))||[];return(0,h.jsxs)(y.ZP,{accessibilityModalLabel:e,heading:(0,h.jsx)(m,{headingText:t,onDismiss:i,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:i,size:Z,children:[(0,h.jsx)(_.xu,{"data-test-id":"profile-followers-feed",paddingX:6,paddingY:2,children:f.map((e=>(0,h.jsx)(N,{pinner:e},e.entityId)))}),p?(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:l._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:g,onClick:()=>{u(n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE)},text:l._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})}):null]})}function H({onDismiss:e,userReference:t,totalFollowersCount:o}){const n=(0,c.ZP)();(0,j.Q)({view_type:4,view_parameter:50});const i=n._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),r=!!o&&(0,h.jsx)(s.Fragment,{children:(0,u.nk)(n.ngettext('{{ count }} Follower', '{{ count }} Followers', o, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(l.Z,{value:o},"totalFollowersCount")})});return(0,h.jsx)(G,{accessibilityModalLabel:i,headingText:r,onDismiss:e,userReference:t})}var V=o(580496),W=o(256883);function K({onDismiss:e,totalFollowersCount:t}){const o=(0,c.ZP)(),n=(0,s.useRef)(null),i=o._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),r=!!t&&(0,h.jsx)(s.Fragment,{children:(0,u.nk)(o.ngettext('{{ count }} Follower', '{{ count }} Followers', t, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(l.Z,{value:t},"totalFollowersCount")})});return(0,h.jsx)(y.ZP,{accessibilityModalLabel:i,heading:(0,h.jsx)(m,{headingText:r,onDismiss:e,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:e,size:550,_dangerouslyDisableScrollBoundaryContainer:!0,children:(0,h.jsx)(_.xu,{"data-test-id":"profile-followers-feed",height:700,overflow:"auto",ref:n,children:(0,h.jsx)(W.default,{scrollContainer:()=>n.current||window})})})}var $=o(793937),Y=o(217468);function q({followersTotalCount:e,followingResource:t,followingTotalCount:o,isAboutDrawerVariant:n,user:i,userReference:l}){const[d,u]=(0,s.useState)(null),m=(0,c.ZP)(),g=(0,Y.t)("web_unified_followers_page"),f=()=>{u(null)},x=(0,V.Z)(i);return(0,h.jsxs)(s.Fragment,{children:[n?(0,h.jsxs)(_.kC,{direction:"column",gap:6,children:[!!e&&e>=0&&(0,h.jsx)(r.Z,{accessibilityLabel:m._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-add",info:(0,h.jsx)(a.Z,{items:[(0,h.jsx)(p,{count:e,onClick:u,variant:"followers"},"followersDisplay"),x?(0,h.jsx)($.Z,{user:i}):null]})}),o>=0&&(0,h.jsx)(r.Z,{accessibilityLabel:m._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,h.jsx)(p,{count:o,onClick:u,variant:"following"})})]}):(0,h.jsx)(a.Z,{items:[e&&e>=0?(0,h.jsx)(p,{count:e,onClick:u,variant:"followers"}):null,o>=0?(0,h.jsx)(p,{count:o,onClick:u,variant:"following"}):null]}),"followers"===d&&!g&&(0,h.jsx)(H,{onDismiss:f,totalFollowersCount:e,userReference:l}),"followers"===d&&g&&(0,h.jsx)(K,{onDismiss:f,totalFollowersCount:e}),"following"===d&&(0,h.jsx)(I,{followersResource:t,onDismiss:f,totalFollowersCount:o,variant:d,user:i})]})}var X,Q=o(947599);function J({isAboutDrawerVariant:e=!1,user:t}){var i;const s=(0,d.Z)(),{id:r}=t,a=void 0!==X?X:X=o(226501),l=(0,O.useLazyLoadQuery)(a,{userId:r}),{following_count:c=0,interest_following_count:u=0}=t,{data:_}=null!==(i=l.v3GetUserHandlerQuery)&&void 0!==i?i:{},{followerCount:p,username:m}=_||{},g=(0,T.Z)({user:t,viewer:s}),f=(0,x.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!g||void 0,page_size:n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:g,username:m}});if(!_)return null;const b=c-(null!=u?u:0);return(0,h.jsx)(q,{followersTotalCount:p,followingResource:f,followingTotalCount:b,isAboutDrawerVariant:e,user:t,userReference:_})}function ee(e){const t=(0,c.ZP)();return(0,h.jsx)(i.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,h.jsx)(Q.Z,{fallback:(0,h.jsx)(_.xu,{padding:5,children:(0,h.jsx)(_.$j,{accessibilityLabel:t._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner'),show:!0})}),children:(0,h.jsx)(J,{...e})})})}},529821:(e,t,o)=>{o.d(t,{Z:()=>w});var n=o(667294),i=o(172071),s=o(898781),r=o(91214),a=o(934523),l=o(642345),c=o(349700),d=o(407043),u=o(217468),_=o(883119),h=o(752403),p=o(785893);const m=new _.H3([new _.Ry(r.HW),new _.Ry(a.fe)]),g="/settings/account-settings/",f=({text:e})=>{const t=(0,n.useRef)(null),[o,s]=(0,n.useState)(!1);return o&&i.Z.increment("client.profile.inspirational_badge_controls.info_tool_tip.rendered",1),(0,p.jsxs)(n.Fragment,{children:[o&&(0,p.jsx)(_.J2,{anchor:t.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>s(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsx)(_.xv,{color:"inverse",align:"center",size:"200",children:e})})}),(0,p.jsx)(_.xu,{width:32,height:32,children:(0,p.jsx)(_.iP,{onFocus:()=>s(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),ref:t,fullWidth:!0,fullHeight:!0,children:(0,p.jsx)(_.hU,{accessibilityLabel:e,icon:"info-circle",size:"sm"})})})]})},x=({badgeLabel:e,disabled:t,eligible:o,isChecked:n,setSelectedBadge:i})=>{const s=(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:{backgroundColor:h.QP[0],color:o?"black":"gray"}},children:e.label})})})});return(0,p.jsxs)(_.kC,{alignItems:"start",direction:"row",children:[(0,p.jsx)(_.xu,{display:"inlineBlock",marginEnd:2,marginBottom:2,children:(0,p.jsx)(_.XZ,{checked:n,id:`inspirational-badge-${e.id}`,disabled:t,name:"badges",onChange:({checked:t})=>i(e.id,t)},e.id)}),e.controlsTooltip?(0,p.jsx)(_.u,{text:e.controlsTooltip,idealDirection:"right",children:s}):s]},e.id)};function b({inspirationalSignal:e,onDismiss:t,onSubmit:o}){var r;const{logContextEvent:a}=(0,d.v)(),b=(0,s.ZP)(),v=b._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),y=b._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),P=b._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),w=b._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),A=b._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),C=b._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),E=b._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),T=(0,h.eT)(e),j=(0,h.hm)(e),I=(0,h.I)(b,T,e.badge_details),S=(0,h.I)(b,j,e.badge_details),z=I.filter((e=>h.yQ.includes(e.id))),k=I.filter((e=>h.Dm.includes(e.id))),D=I.map((e=>e.id)),R=S.map((e=>e.id)),O=(null===(r=e.inspirational_badge_selection)||void 0===r?void 0:r.badgeColor)||h.QP[0],[L,F]=(0,n.useState)(R),[M,N]=(0,n.useState)(!1),[B,U]=(0,n.useState)(O),Z=(0,n.useRef)(null),G=Boolean((0,l.oo)(B)),H=G?B.toUpperCase():h.QP[0],V=H===h.QP[0]?`${H} (${E})`:H,{anyEnabled:W}=(0,u.a)(h.Fp),{anyEnabled:K}=(0,u.a)(h.lz),$=L.filter((e=>h.Dm.includes(e))),Y=D.filter((e=>!L.includes(e))),q=R.length!==L.length||!L.every((e=>R.includes(e)))||B!==O,X=(e,t)=>{F(t?[...L,e]:L.filter((t=>t!==e)));a({event_type:t?9675:9676,component:13911})};return i.Z.increment("client.profile.inspirational_badge_controls.rendered",1),(0,p.jsx)(_.mh,{zIndex:m,children:(0,p.jsx)(_.yo,{accessibilityDismissButtonLabel:b._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilitySheetLabel:b._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),heading:b._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,p.jsxs)(_.kC,{direction:"row",justifyContent:"between",children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:b._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,p.jsx)("br",{}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:(0,p.jsx)(_.rU,{href:"https://help.pinterest.com/en/contact",target:"blank",accessibilityLabel:y,inline:!0,underline:"hover",children:y})})]}),(0,p.jsx)(_.xu,{children:(0,p.jsxs)(_.hE,{children:[(0,p.jsx)(_.zx,{color:"gray",text:b._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges'),onClick:e}),(0,p.jsx)(_.zx,{color:"red",text:b._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges'),disabled:!q,onClick:()=>o({badgeColor:B,badgeOptOut:Y})})]})})]}),size:"sm",children:(0,p.jsx)(_.kC,{direction:"column",gap:12,children:(0,p.jsxs)(_.kC,{direction:"column",gap:4,children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsxs)(_.xv,{inline:!0,children:[b._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),b._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]})," ",(0,p.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(_.rU,{href:h._f,accessibilityLabel:v,target:"blank",inline:!0,onClick:()=>{a({event_type:9677,component:13911})},underline:"hover",children:v})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:P}),(0,p.jsx)(f,{text:w})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:P,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:3,children:z.map((e=>{const t=L.includes(e.id),o=L.length>=h.S4&&!t;return(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:X},e.id)}))})})})]}),k.length>0&&(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:A}),(0,p.jsx)(f,{text:C})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:A,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:3,children:k.map((e=>{const t=L.includes(e.id);let o;return o=K?L.length>=h.S4&&!t:(L.length>=h.S4||$.length>=h.st)&&!t,(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:X},e.id)}))})})}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:(0,c.nk)(b._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,p.jsx)(_.rU,{inline:!0,href:g,underline:"hover",children:(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:b._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},g)})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[W&&(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xu,{marginTop:4,marginBottom:4,children:(0,p.jsx)(_.__,{htmlFor:"color-menu",children:(0,p.jsx)(_.xv,{size:"200",children:b._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,p.jsx)(_.zx,{accessibilityControls:"color-menu",accessibilityExpanded:M,accessibilityHaspopup:!0,selected:M,onClick:()=>{a({event_type:9674,component:13911}),N(!0)},text:V,iconEnd:"arrow-down",size:"lg"})]}),(0,p.jsx)(_.xu,{ref:Z}),M&&(0,p.jsx)(_.mh,{children:(0,p.jsx)(_.J2,{anchor:Z.current,idealDirection:"down",onDismiss:()=>N(!1),size:"flexible",role:"listbox",shouldFocus:!0,positionRelativeToAnchor:!1,children:(0,p.jsxs)(_.xu,{id:"color-menu",borderStyle:"shadow",rounding:2,padding:4,width:"100%",children:[(0,p.jsx)(_.kC,{alignItems:"start",gap:4,children:h.QP.map((e=>(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:B===e?"black":e,backgroundColor:e}},marginBottom:4,children:(0,p.jsx)(_.iP,{fullWidth:!0,fullHeight:!0,rounding:4,onTap:()=>U(e)})},e)))}),(0,p.jsxs)(_.kC,{alignItems:"start",gap:4,children:[(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:G&&!h.QP.includes(B.toUpperCase())?"black":void 0,backgroundColor:H}}}),(0,p.jsx)(_.nv,{id:"selected-color",value:B,onChange:({value:e})=>U(e.slice(0,7)),size:"lg"})]})]})})})]})]})})})})}var v=o(6637),y=o(969986);const P=new _.Ry(10);function w({country:e,isOwnProfile:t,userId:o}){var r;const{logContextEvent:a}=(0,d.v)(),l=(0,s.ZP)(),c=l._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),m=l._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),g=l._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),f=l._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),{anyEnabled:x}=(0,u.a)(h.k$),{anyEnabled:w}=(0,u.a)(h.Fp),A=(0,y.ye)(),C=A.data||{},E=(0,h.Bu)({areBadgesEnabled:x,country:e,verifiedMerchant:C}),T=(0,n.useRef)(),[j,I]=(0,n.useState)(h.Xe),[S,z]=(0,n.useState)(!1),[k,D]=(0,n.useState)(!0),R=E?(0,h.hm)(j):[],O=(0,h.I)(l,R,j.badge_details),L=w&&(null===(r=j.inspirational_badge_selection)||void 0===r?void 0:r.badgeColor)||h.QP[0];(0,n.useEffect)((()=>{I(C.inspirational_signal||h.Xe)}),[C.inspirational_signal]),(0,n.useEffect)((()=>{a({event_type:9667,component:13910})}));const F=()=>{z(!0),D(!1),a({event_type:9671,component:13911})},M=()=>{a({event_type:9668,component:13910})},N=()=>{a({event_type:9670,component:13910})};return E&&i.Z.increment("client.profile.inspirational_badges.rendered",1,{is_own_profile:t,num_badges:O.length,badge_color:L,user_id:C.id}),E?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[O.map((e=>(0,p.jsx)(_.u,{link:(0,p.jsx)(_.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,p.jsx)(_.rU,{href:h.NG,accessibilityLabel:c,target:"blank",onClick:N,children:(0,p.jsx)(_.xv,{color:"inverse",size:"100",weight:"bold",children:c})})}),text:e.description,zIndex:P,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.iP,{onMouseEnter:M,children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:(0,h.ym)(L)},"data-test-id":"inspirational-badge",children:e.label})})})},e.label))),t&&(0,p.jsxs)(n.Fragment,{children:[k&&(0,p.jsx)(_.mh,{zIndex:P,children:(0,p.jsx)(_.J2,{anchor:T.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>{D(!1),a({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsxs)(_.xv,{color:"inverse",align:"center",size:"200",children:[(0,p.jsx)("strong",{children:m})," ",g]})})})}),0===O.length&&(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.iP,{onTap:F,fullWidth:!0,children:(0,p.jsx)(_.xv,{color:"subtle",children:f})})}),(0,p.jsx)(_.hU,{accessibilityLabel:f,icon:"edit",onClick:F,size:"sm",ref:T})]})]}),S&&(0,p.jsx)(b,{inspirationalSignal:j,onDismiss:()=>z(!1),onSubmit:({badgeColor:e,badgeOptOut:t})=>{z(!1),v.ZP.create("VerifiedMerchantResource",{userId:o,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}).callUpdate().then((()=>A.refresh()));const n={...j,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}};I(n),a({event_type:9672,component:13911})}})]}):(0,p.jsx)(n.Fragment,{})}},668369:(e,t,o)=>{o.d(t,{Z:()=>q});var n=o(667294),i=o(966338),s=o(390007),r=o(766911),a=o(245635),l=o(348070),c=o(939106),d=o(319915),u=o(333312),_=o(868996),h=o(590908),p=o(529821),m=o(300267),g=o(580496),f=o(263116),x=o(110293),b=o(456141),v=o(624389),y=o(601785),P=o(409828),w=o(631466),A=o(883561),C=o(703425),E=o(966113),T=o(941646),j=o(898781),I=o(717615),S=o(946984),z=o(794493),k=o(545062),D=o(19121),R=o(993786),O=o(793937),L=o(231947),F=o(310214),M=o(752403),N=o(407043),B=o(925927),U=o(783571),Z=o(217468),G=o(883119),H=o(890087),V=o(785893);const W=(0,f.ZP)({resolved:{},chunkName:()=>"ProfileCover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(63663).then(o.bind(o,269128)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 269128}}),K={PARTNER:656,PINNER:488},$=170,Y=312;function q({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:f,selectedTab:q,user:X}){var Q;const{logContextEvent:J}=(0,N.v)(),ee=(0,i.useDispatch)(),te=(0,j.ZP)(),oe=(0,D.Z)(),ne=(0,n.useRef)(null),ie=(0,n.useRef)(null),[se,re]=(0,n.useState)(null),[ae,le]=(0,n.useState)(!1),[ce,de]=(0,n.useState)(!1),ue=(0,I.Z)(),_e=(0,S.Z)(),he=(0,B.k6)();(0,z.Z)((e=>{re(e.clientHeight)}),ne);const pe=(0,Z.t)("web_profile_pronouns")().anyEnabled,me=!!X.show_suggested_creator_recs,ge=(0,U.n)(),[fe,xe]=(0,n.useState)(!1);(0,n.useEffect)((()=>{me&&ge&&xe(!0)}),[me,ge]);const{about:be,country:ve="",is_primary_website_verified:ye,full_name:Pe,impressum_url:we,is_verified_merchant:Ae,username:Ce,verified_identity:Ee,website_url:Te,id:je,pronouns:Ie}=X,Se=!(0,L.N1)(oe,X,ue),ze=(0,g.Z)(X),ke=oe.isLimitedLogin,De=(0,H.j3)()&&Boolean(we),Re=(null==Ee?void 0:Ee.verified)||Ae,Oe=Ie?Ie.join("/"):"",{anyEnabled:Le}=(0,Z.a)(M.k$),Fe=(0,Z.t)("web_about_drawer")().anyEnabled,Me=(0,Z.t)("hfp_profile_post_follow_suggested_creators_web"),Ne=!!Se&&Me().anyEnabled,Be=(null==Te?void 0:Te.length)||0,Ue=(null==we?void 0:we.length)||0,Ze=$-Be-Ue,Ge=()=>be?Fe?(0,V.jsxs)(n.Fragment,{children:[(0,V.jsx)(G.xv,{inline:!0,children:(0,A.ZP)(be,Ze)}),be.length>Ze&&(0,V.jsx)(G.xu,{display:"inlineBlock",children:(0,V.jsx)(G.iP,{accessibilityLabel:te._('Expand about section', 'profile.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to expand profile about section'),onTap:()=>{J({event_type:101,component:14011,view_type:4,view_parameter:(0,m.Z)({user:X,viewer:oe})?3106:3107}),le(!0)},children:(0,V.jsx)(G.xv,{inline:!0,weight:"bold",children:te._('more', 'profile.profileHeader.moreText', 'Clickable text to expand profile about section')})})})]}):(0,V.jsx)(G.xv,{inline:!0,children:be}):null,He=De?(0,V.jsx)(G.rU,{href:we,inline:!0,underline:"hover",children:(0,V.jsx)(H.$m,{inline:!0,weight:"bold"})}):null,Ve=Te?(0,V.jsxs)(n.Fragment,{children:[ye&&!Re&&(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{bottom:Fe?"1px":"2px",display:"inline"}},marginEnd:1,position:"relative",children:(0,V.jsx)(a.Z,{})}),(0,V.jsx)(G.xv,{inline:!0,weight:"bold",children:(0,V.jsx)(G.rU,{rel:"nofollow",target:"blank",href:Te,inline:!0,onClick:()=>{J({event_type:101,component:13056,element:12890,view_type:4,view_parameter:(0,m.Z)({user:X,viewer:oe})?3106:3107,aux_data:{website_link:Te}})},underline:"hover",children:(0,h.Z)(Te)})})]}):null;return(0,V.jsxs)(n.Fragment,{children:[(0,V.jsx)(G.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,ref:ne,children:(0,V.jsx)(G.xu,{marginTop:ze?void 0:3,maxWidth:ze?K.PARTNER:K.PINNER,width:"100%",children:(0,V.jsxs)(G.kC,{alignItems:"center",direction:"column",gap:2,justifyContent:"center",children:[(0,V.jsxs)(G.xu,{width:ze?K.PARTNER:void 0,children:[ze&&!ke&&(0,V.jsx)(W,{user:X}),(0,V.jsx)(G.kC,{alignItems:"stretch",justifyContent:"center",children:(0,V.jsx)(r.Z,{onTouch:t,user:X,viewer:oe})})]}),(0,V.jsxs)(G.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,V.jsxs)(G.X6,{align:"center",size:"600",accessibilityLevel:1,children:[Pe,Re&&(0,V.jsx)(G.xu,{display:"inlineBlock",marginStart:2,dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},children:(0,V.jsx)(R.Z,{hasVerifiedIdentity:Boolean(null==Ee?void 0:Ee.verified),isVerifiedMerchant:Ae,size:"lg"})})]}),Fe&&(0,V.jsx)(G.xu,{marginTop:2,children:(0,V.jsx)(c.Z,{color:"subtle",inline:!0,items:[Ae?(0,V.jsx)(G.xu,{display:"inlineBlock",children:(0,V.jsx)(G.rU,{href:E.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,V.jsx)(G.xv,{color:"shopping",inline:!0,underline:!0,size:"200",children:te._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,V.jsx)(G.xv,{color:"subtle",inline:!0,size:"200",children:`@${Ce}`},Ce),Oe?(0,V.jsx)(G.xv,{color:"subtle",inline:!0,size:"200",children:Oe}):null]})}),pe&&!Fe&&(0,V.jsx)(G.xv,{children:Oe})]}),Le&&!!X.is_inspirational_merchant&&(0,V.jsx)(d.Z,{name:"InspirationalBadges",children:(0,V.jsx)(p.Z,{country:ve,isOwnProfile:(0,m.Z)({user:X,viewer:oe}),userId:X.id})}),Ve||He||!Fe||Ge()?(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,V.jsx)(c.Z,{inline:!0,items:[Ve,He,Fe?null:(0,V.jsx)(G.xv,{inline:!0,children:`@${Ce}`}),Ge()]})}):void 0,(0,V.jsx)(_.Z,{user:X}),ze&&-1!==X.profile_views&&(0,V.jsx)(O.Z,{user:X}),Se&&(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,V.jsxs)(G.kC,{gap:7,children:[(0,V.jsx)(w.Z,{shownWithinProfileHeader:!0,user:X}),(0,V.jsxs)(G.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n}=null!==(e=X.partner)&&void 0!==e?e:{};return!t&&!o||X.blocked_by_me?!n&&ze||X.blocked_by_me?null:(0,V.jsx)(v.Z,{setShowMessageFlyout:de,showMessageFlyout:ce,userId:je,flyoutDirection:"up",children:({toggleSendMessageFlyout:e})=>(0,V.jsx)(x.Z,{showSendMessageFlyout:e,userId:je})}):(0,V.jsx)(d.Z,{name:"ContactMenuButton",children:(0,V.jsx)(l.Z,{isOwnProfile:(0,m.Z)({user:X,viewer:oe}),setShowMessageFlyout:de,showMessageFlyout:ce,user:X})})})(),X.blocked_by_me?(0,V.jsx)(G.zx,{onClick:o,size:"lg",text:te._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,V.jsx)(k.Z,{button:({followText:e,onClick:t})=>(0,V.jsx)(G.xu,{"data-test-id":X.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,V.jsx)(G.zx,{color:"red",onClick:t,selected:X.explicitly_followed_by_me,size:"lg",text:e})}),fullName:Pe,id:X.id,imageUrl:null!==(Q=X.image_large_url)&&void 0!==Q?Q:"",isOwnProfile:!1,onUserFollow:e=>{f(),e&&(xe(!0),ee((0,F.V)(X.id,"profile")))},profileUrl:`/${X.username}/`,userFollowed:X.explicitly_followed_by_me})]}),(0,V.jsx)(P.Z,{userId:X.id,children:({showSendMessageFlyout:t})=>(0,V.jsx)(y.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:X})})]})}),Se&&fe&&Ne&&(0,V.jsx)(C.Z,{fullName:Pe,id:X.id,viewType:4,viewParameter:(0,m.Z)({user:X,viewer:oe})?3106:3107}),(0,m.Z)({user:X,viewer:oe})&&(0,V.jsx)(G.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,V.jsxs)(G.kC,{gap:2,children:[(0,V.jsx)(w.Z,{shownWithinProfileHeader:!0,useGestaltButton:!0,user:X}),(0,V.jsx)(T.Z,{id:"edit-button",children:(0,V.jsx)(G.zx,{ref:ie,size:"lg",text:te._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:_e((()=>{J({event_type:101,element:94}),he.push("/settings#profile")}))})})]})})]})})}),(0,V.jsx)(b.Z,{headerHeight:se,selectedTab:q,user:X,viewer:oe}),ae&&(0,V.jsx)(s.Z,{isOwnProfile:(0,m.Z)({user:X,viewer:oe}),onDismiss:()=>{le(!1)},onToggleFollow:f,setShowMessageFlyout:de,user:X}),ie&&(0,V.jsx)(u.Z,{anchor:ie.current,experienceIds:[504214],flyoutSize:Y,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{he.push("/settings#profile")},placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal"})]})}},376451:(e,t,o)=>{o.d(t,{Z:()=>ue});var n=o(667294),i=o(966338),s=o(319915),r=o(124237),a=o(35396),l=o(121093),c=o(898781),d=o(217468),u=o(883119),_=o(785893);function h(e){const t=(0,c.ZP)(),{group:o}=(0,d.t)("advertiser_growth_pinner_upgrade_to_business_banner")(),{handleComplete:n,handleDismiss:i}=e;return(0,_.jsx)(u.xu,{width:"55%",marginStart:"auto",marginEnd:"auto",marginTop:2,marginBottom:2,children:(0,_.jsx)(u.QH,{dismissButton:{accessibilityLabel:t._('Dismiss Banner Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account'),onDismiss:i},imageData:{component:(0,_.jsx)(u.JO,{dangerouslySetSvgPath:{__path:"M8.6,0.2C4,0.2,0.2,4,0.2,8.6s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S13.3,0.2,8.6,0.2z M6.5,11.9c0,0.1-0.1,0.2-0.2,0.2H4.8  c-0.1,0-0.2-0.1-0.2-0.2V7.8c0-0.1,0.1-0.2,0.2-0.2h1.3c0.2,0,0.3,0.1,0.3,0.2V11.9z M9.5,11.9c0,0.1-0.1,0.2-0.2,0.2H8  c-0.1,0-0.2-0.1-0.2-0.2V4.6c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2v7.3H9.5z M12.7,11.9c0,0.1-0.1,0.2-0.2,0.2H11  c-0.1,0-0.2-0.1-0.2-0.2V6.8c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2V11.9z"},accessibilityLabel:"graph",color:"default",size:45})},message:t._('Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products', 'PinnerUpgradeToBusinessBanner.message', 'Message of the Banner to upgrade pinners to business account'),primaryAction:{label:t._('Upgrade', 'PinnerUpgradeToBusinessBanner.primaryAction', 'Upgrade action of the Banner to upgrade pinners to business account'),href:"/business/convert/",accessibilityLabel:t._('Upgrade Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Upgrade Button accesibility Label of the Banner to upgrade pinners to business account'),onClick:n},title:"enabled_variant_b"===o?t._('Get more clicks, traffic and sales!', 'PinnerUpgradeToBusinessBanner.title.variant_b', 'Title of the Banner to upgrade pinners to business account'):t._('Discover your top performing Pins', 'PinnerUpgradeToBusinessBanner.title.variant_a', 'Title of the Banner to upgrade pinners to business account')})})}const p=({placementId:e})=>(0,_.jsx)(l.Z,{placementId:e,eligibleIds:[503755],children:({complete:e,dismiss:t})=>(0,_.jsx)(h,{handleComplete:e,handleDismiss:t})});var m=o(227361),g=o.n(m),f=o(580496),x=o(965261),b=o(497529),v=o(826067),y=o(925927);function P({children:e,experience:t,isOwnProfile:o}){const n=(0,y.TH)(),i=(0,b.Z)(),s=!!(0,v.mB)(n.search).skipFac,r=t&&500980===t.experience_id&&!s;return o&&r&&i.dismissExperience(19,500980),e}var w=o(742656),A=o(668369),C=o(19121),E=o(910325),T=o(281180),j=o(121151),I=o(349700);function S({firstName:e,onClearModal:t}){const o=(0,c.ZP)(),n=o._('User blocked', 'BlockConfirmation.heading', 'Heading of confirmation modal after blocking a user');return(0,_.jsx)(j.ZP,{accessibilityModalLabel:n,heading:n,onDismiss:t,size:"sm",footer:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",onClick:t,text:o._('OK', ' - ', ' -- ')})})}),children:(0,_.jsx)(u.xu,{padding:4,children:(0,_.jsx)(u.xv,{children:(0,I.nk)(o._('You\'ve blocked {{name}}', 'BlockConfirmation.message', 'Confirmation message after blocking a user'),{name:(0,_.jsx)("strong",{children:e})})})})})}var z=o(814449),k=o(672643),D=o(529758),R=o(966113);function O({onDismiss:e}){const t=(0,c.ZP)();return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.rU,{href:R.Z.settings.POLICY_COPYRIGHT_URL,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my copyright', 'Copyright infringement statement', 'Copyright infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to copyright infringement', ' - ', ' -- '),color:"default"})})]})}),(0,_.jsx)(u.iz,{}),(0,_.jsx)(u.rU,{href:R.Z.settings.ABOUT_TRADEMARK_FORM,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my trademark', 'Trademark infringement statement', 'Trademark infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to trademark infringement', ' - ', ' -- '),color:"default"})})]})})]})}var L=o(281216);function F({reason:e,user:t,userBlocked:o,onChangeBlocked:i}){const s=(0,c.ZP)(),r={[L.b.SPAM]:{title:s._('Report spam?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Misleading content or behavior', 'Example of spam', 'Example of spam'),s._('Repetitive posts', 'Example of spam', 'Example of spam'),s._('Unsolicited commercial messages', 'Example of spam', 'Example of spam')]},[L.b.PORN]:{title:s._('Report nudity or pornography?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Sexualized nudity', 'Example of porn', 'Example of porn'),s._('Depictions of sexual acts', 'Example of porn', 'Example of porn'),s._('Fetish content', 'Example of porn', 'Example of porn')]},[L.b.SELF_INJURY]:{title:s._('Report self-harm?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Encouraging self-mutilation, eating disorders and drug abuse', 'Example of self-injury', 'Example of self-injury'),s._('Graphic depictions of self-harm', 'Example of self-injury', 'Example of self-injury')]},[L.b.MEDICAL_MISINFORMATION]:{title:s._('Report medical misinformation?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('False cures for cancer or other chronic or terminal illnesses', 'Example of medical misinformation', 'Example of medical misinformation'),s._('Anti-vaccination advice', 'Example of medical misinformation', 'Example of medical misinformation')],nonRemovals:[s._('Diet advice, including cleanses and supplements that can boost the immune system', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Teas, oils and herbs proposed for aromatic and sleep quality', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[L.b.HATE_SPEECH]:{title:s._('Report hateful speech?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Attacks or slurs directed at protected groups', 'Example of hate speech', 'Example of hate speech'),s._('People or groups that advocate hate speech', 'Example of hate speech', 'Example of hate speech')],nonRemovals:[s._('Profanity', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[L.b.HARASSMENT]:{title:s._('Report harassment?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Attacks directed at a specific private individual', 'Example of harassment', 'Example of harassment'),s._('Personally identifiable information', 'Example of harassment', 'Example of harassment')],nonRemovals:[s._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[L.b.VIOLENCE]:{title:s._('Report graphic violence?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Extreme graphic violence', 'Example of violence', 'Example of violence'),s._('Glorification or promotion of violence', 'Example of violence', 'Example of violence'),s._('Threats of physical harm', 'Example of violence', 'Example of violence')],nonRemovals:[s._('Historical, educational or newsworthy content', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Political protests, advocacy or other social causes', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]}},{full_name:a,username:l,id:d}=t,h=a?`${a} (${l})`:l,p=(0,_.jsx)(u.xu,{paddingX:2,paddingY:2,children:(0,_.jsxs)(u.xu,{alignItems:"center",display:"flex",direction:"row",paddingX:2,children:[(0,_.jsxs)(u.xu,{paddingX:2,children:[(0,_.jsx)(u.X6,{size:"500",children:(0,I.nk)(s._('Block {{ name }}', 'Block a user heading', 'Block a user heading'),{name:a||t.username})}),(0,_.jsx)(u.xu,{marginTop:2,marginEnd:2,children:(0,_.jsx)(u.xv,{children:(0,I.nk)(s._('If you block {{ names }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'Explanation of blocking a user', 'Explanation of blocking a user'),{names:(0,_.jsx)(u.rU,{href:`/${l}`,inline:!0,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:h},"blockUserLink")})})})]}),(0,_.jsx)(u.xu,{paddingX:2,children:(0,_.jsx)(u.rs,{id:"blockUser",onChange:i(d,h),switched:o})})]})}),m=r[e],{removals:g,nonRemovals:f}=m;return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsxs)(u.xu,{paddingX:6,"data-test-id":"detail-text",children:[(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.X6,{children:m.title})}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:g.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`removals-${t}`)))})}),f&&(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:"bold",children:s._('We don\u2019t remove things like', 'Title for list of content we do not remove', 'Title for list of content we do not remove')}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:f.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`nonRemovals-${t}`)))})})]}),m.notes&&(0,_.jsx)(u.xv,{children:(0,I.nk)(s._('Note: {{ notes }}', 'Note to the user', 'Note to the user'),{notes:m.notes})})]}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.iz,{})}),p]})})}var M=o(6637),N=o(499128),B=o(343341);function U(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Z="cover-image",G="cover-video",H="report-type-step",V="reason-step",W="confirm-step";class K extends n.Component{constructor(...e){var t;super(...e),t=this,U(this,"state",{reason:null,reportType:null,step:H,showUserBlockedToastText:null}),U(this,"handleChangeReason",(e=>()=>this.setState({reason:e}))),U(this,"handleChangeReportType",(e=>()=>this.setState({reportType:e}))),U(this,"handleExperimentReportSpam",(e=>()=>this.setState({reason:"spam",reportType:e}))),U(this,"handleCopyrightReportClick",(()=>{const{user:{username:e},history:t}=this.props;t.push({pathname:`/copyright-reporting/${e}/`})})),U(this,"handleChangeStep",(e=>()=>{this.setState({step:e})})),U(this,"handleSubmitReport",(async function(){const{onClearModal:e,username:o,toastManagerContext:n}=t.props,{reportType:i,reason:s}=t.state,r={username:o,reason:s,reportObject:i};await M.ZP.create("UserReportProfileResource",r).callCreate(),e(),n.showToast((({hideToast:e})=>(0,_.jsx)(N.ZP,{text:t.props.i18n._('Thanks! Your feedback helps us improve Pinterest.', 'profileHeader.reportProfile.reportSentToast', 'User profile report was sent'),onHide:e})))})),U(this,"handleChangeBlocked",((e,t)=>()=>{const{isUserBlocked:e,blockUser:o,unblockUser:n,user:i}=this.props,{id:s}=i;e?(n(s),this.showChangeBlock({name:t,showBlocked:!1})):(o(s),this.showChangeBlock({name:t,showBlocked:!0}))})),U(this,"showChangeBlock",(({name:e,showBlocked:t})=>{const o=t?(0,I.nk)(this.props.i18n._('{{ name }} blocked', 'Toast text for blocking user', 'Toast text for blocking user'),{name:e}):(0,I.nk)(this.props.i18n._('Unblocked {{ name }}', 'Toast text for unblocking user', 'Toast text for unblocking user'),{name:e});this.setState({showUserBlockedToastText:o.join("")})})),U(this,"hideUserBlockedToast",(()=>this.setState({showUserBlockedToastText:null})))}renderFooter(){const{onClearModal:e}=this.props,{reportType:t,reason:o,step:n}=this.state,i=n!==W,s=!t&&n===H||!o&&n===V,r=!(n===W&&o===L.b.INTELLECTUAL_PROPERTY),a=i?this.props.i18n._('Next', 'Button to progress to next screen in report flow', 'Button to progress to next screen in report flow'):this.props.i18n._('Report', 'Button text to submit a report profile', 'Button text to submit a report profile');let l,c;n===H?(l=this.handleChangeStep(V),c=e,"name"===t&&(l=this.handleChangeStep(W)),"BulkDmca"===t&&(l=this.handleCopyrightReportClick)):n===V?(l=this.handleChangeStep(W),c=this.handleChangeStep(H)):(l=this.handleSubmitReport,c=this.handleChangeStep(V),"name"===t&&(c=this.handleChangeStep(H)));const d=n===H?this.props.i18n._('Cancel', 'Cancel button', 'Cancel button'):this.props.i18n._('Back', 'Back button', 'Back button');return(0,_.jsxs)(u.xu,{display:"flex",direction:"row",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{onClick:c,text:d})}),r&&(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",disabled:s,onClick:()=>{l()},text:a})})]})}renderReportTypes(){const{reportType:e}=this.state,{user:t,inBulkDmcaToolExp:o}=this.props,i=t.profile_cover&&t.profile_cover.source,s=[];return"video"===i?s.push({key:G,title:this.props.i18n._('Inappropriate cover video', 'Cover video of profile', 'Cover video of profile')}):"image"===i&&s.push({key:Z,title:this.props.i18n._('Inappropriate cover image', 'Cover image of profile', 'Cover image of profile')}),(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.xv,{align:"center",color:"subtle",size:"200",children:this.props.i18n._('Why are you reporting this account?', 'What is the reason for reporting', 'What is the reason for reporting')})}),(0,_.jsx)(u.iz,{}),(0,_.jsxs)(u.xu,{"data-test-id":"report-spam-option",children:[(0,_.jsx)(u.__,{htmlFor:"ReportSpam",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"name"===e,id:"ReportSpam",name:"reportPinOptions",onChange:this.handleExperimentReportSpam("name"),value:"ReportSpam"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Spam', 'Report user for spam', 'Report user for spam')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-ReportSpam"),o&&(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:"BulkDmca",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"BulkDmca"===e,id:"BulkDmca",name:"reportPinOptions",onChange:this.handleChangeReportType("BulkDmca"),value:"BulkDmca"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Copyright infringement', 'Report users pins for copyright infringement', 'Report users pins for copyright infringement')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-BulkDmca")}),s.map(((t,o)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:t.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:t.key===e,id:t.key,name:"reportPinOptions",onChange:this.handleChangeReportType(t.key),value:t.key})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:t.title})})})]})}),s.length>o+1&&(0,_.jsx)(u.iz,{})]},`Option-${t.key}`)))]})}renderReasons(){const{reason:e}=this.state,t=[{key:L.b.SPAM,title:this.props.i18n._('Spam', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Misleading or repetitive posts', 'Report profile option description', 'Report profile option description')},{key:L.b.PORN,title:this.props.i18n._('Nudity or pornography', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Sexually explicit content', 'Report profile option description', 'Report profile option description')},{key:L.b.SELF_INJURY,title:this.props.i18n._('Self-harm', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Eating disorders, cutting, suicide', 'Report profile option description', 'Report profile option description')},{key:L.b.MEDICAL_MISINFORMATION,title:this.props.i18n._('Medical misinformation', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Harmful or misleading content about health and safety', 'Report profile option description', 'Report profile option description')},{key:L.b.HATE_SPEECH,title:this.props.i18n._('Hate speech or symbols', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Attacks directed at protected groups', 'Report profile option description', 'Report profile option description')},{key:L.b.HARASSMENT,title:this.props.i18n._('Harassment or privacy violations', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Threats, blackmail, personal attacks', 'Report profile option description', 'Report profile option description')},{key:L.b.VIOLENCE,title:this.props.i18n._('Graphic violence', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Violent images or promotion of violence', 'Report profile option description', 'Report profile option description')},{key:L.b.INTELLECTUAL_PROPERTY,title:this.props.i18n._('My intellectual property', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Copyright or trademark infringement', 'Report profile option description', 'Report profile option description')}];return(0,_.jsx)(u.xu,{maxHeight:"60vh",overflow:"auto",children:t.map(((o,n)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:o.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:o.key===e,id:o.key,name:"reportPinOptions",onChange:this.handleChangeReason(o.key),value:o.key})}),(0,_.jsxs)(u.xu,{flex:"grow",children:[(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:o.title})}),(0,_.jsx)(u.xv,{size:"200",children:o.subtitle})]})]})}),t.length>n+1&&(0,_.jsx)(u.iz,{})]},`Option-${o.key}`)))})}render(){const{onClearModal:e,user:t,isUserBlocked:o}=this.props,{step:n,reason:i,showUserBlockedToastText:s}=this.state,r=this.props.i18n._('Report account', 'Modal heading for report profile flow', 'Modal heading for report profile flow');let a;return a=n===H?this.renderReportTypes():n===V?this.renderReasons():n===W&&i===L.b.INTELLECTUAL_PROPERTY?(0,_.jsx)(O,{onDismiss:e}):(0,_.jsx)(F,{reason:i,user:t,userBlocked:o,onChangeBlocked:this.handleChangeBlocked}),(0,_.jsxs)(j.ZP,{accessibilityModalLabel:r,onDismiss:e,heading:r,footer:this.renderFooter(),children:[a,(0,_.jsx)(u.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:s&&(0,_.jsx)(N.ZP,{duration:2e3,onHide:this.hideUserBlockedToast,text:s})})]})}}function $(e){const t=(0,c.ZP)(),{anyEnabled:o}=(0,d.a)("web_creators_bulk_dmca_tool");return(0,_.jsx)(K,{...e,i18n:t,history:(0,y.k6)(),inBulkDmcaToolExp:o,toastManagerContext:(0,B.F9)()})}function Y({blockUser:e,currentModal:t,handleBlockUser:o,handleHideConfirmationModal:n,handleHideModal:i,isUserBlocked:s,unblockUser:r,user:a}){var l,c;switch(t){case"blockConfirmation":return(0,_.jsx)(S,{firstName:null!==(l=a.first_name)&&void 0!==l?l:"",onClearModal:n});case"blockUser":return(0,_.jsx)(z.Z,{firstName:null!==(c=a.first_name)&&void 0!==c?c:"",onBlockUser:o,onClearModal:i});case"reportProfile":return(0,_.jsx)($,{onClearModal:i,username:a.username,user:a,isUserBlocked:s,blockUser:e,unblockUser:r});case"createPincode":const t=280;return(0,_.jsx)(D.Z,{onHide:i,objectId:a.id,children:(0,_.jsx)(k.ZP,{id:a.id,images:[{height:t,url:a.image_xlarge_url||"",width:t}]})});default:return null}}var q=o(946984),X=o(482546);function Q(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class J extends n.Component{constructor(...e){super(...e),Q(this,"state",{currentModal:null,currentUserDetails:this.props.user}),Q(this,"handleClickCreatePincode",this.props.requireAuth((()=>this.setState({currentModal:"createPincode"})))),Q(this,"handleClickReportProfile",this.props.requireAuth((()=>this.setState({currentModal:"reportProfile"})))),Q(this,"handleHideModal",(()=>this.setState({currentModal:null}))),Q(this,"handleHideConfirmationModal",(()=>{this.refreshPage()})),Q(this,"refreshPage",(()=>{window.location.reload(!0)})),Q(this,"handleToggleBlock",this.props.requireAuth((()=>{const{isUserBlocked:e}=this.props;e?this.unblockUser():this.setState({currentModal:"blockUser"})}))),Q(this,"unblockUser",(()=>{const{unblockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!1}),e(t).then((()=>this.refreshPage()))})),Q(this,"handleBlockUser",(()=>{const{blockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!0}),e(t),this.setState({currentModal:"blockConfirmation"})})),Q(this,"handleToggleFollow",(()=>{const{currentUserDetails:{explicitly_followed_by_me:e}}=this.state,t=!e;this._updateUserDetails({explicitly_followed_by_me:t})})),Q(this,"_updateUserDetails",(e=>{const{currentUserDetails:t}=this.state,o={...t,...e};this.setState({currentUserDetails:o})}))}static getDerivedStateFromProps(e,t){return e.user.id!==t.currentUserDetails.id?{...t,currentUserDetails:e.user}:null}renderModal(){const{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:n,blockUser:i}=this.props;return(0,_.jsx)(Y,{blockUser:i,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideConfirmationModal:this.handleHideConfirmationModal,handleHideModal:this.handleHideModal,isUserBlocked:o,unblockUser:n,user:t})}render(){const{minimalPartnerHeader:e,tab:t,user:o}=this.props,{currentModal:i}=this.state;return e?(0,_.jsx)(w.Z,{avatarUrl:o.image_medium_url,merchantName:o.full_name,text:o.full_name,username:o.username}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(A.Z,{onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,selectedTab:t,user:o}),i&&this.renderModal()]})}}function ee(e){var t,o,n,s;const r=(0,i.useDispatch)(),a=(0,T.kW)(),l=a&&a[null!==(t=null===(o=e.user)||void 0===o?void 0:o.id)&&void 0!==t?t:""]?a[null!==(n=null===(s=e.user)||void 0===s?void 0:s.id)&&void 0!==n?n:""]:e.user,c=(0,C.Z)(),d=(0,q.Z)();return(0,_.jsx)(J,{...e,blockUser:e=>{r((0,X.Ge)(e)),r((0,E.V)(e))},isUserBlocked:Boolean(null==l?void 0:l.blocked_by_me),unblockUser:e=>r((0,X.h2)(e)),user:l,viewer:c,requireAuth:d})}var te=o(430323),oe=o(86551),ne=o(784450),ie=o(920005),se=o(806986),re=o(407043),ae=o(480622),le=o(868065),ce=o(134679);const de=(0,ne.ZP)(19,(({clickedFollowingButton:e},t)=>({clickedFollowingButton:e,profile_ownership:t.profile_ownership,profile_user_id:t.profile_user_id})))((function({children:e,clickedFollowingButton:t,experience:o,history:i,minimalPartnerHeader:l,renderError:d,setPlacementExtraContext:h,showPulsar:m,tab:b,unsetError:v,username:y,pins:w}){const{logContextEvent:A}=(0,re.v)(),E=(0,c.ZP)(),T=(0,C.Z)(),j=0!==((e,t)=>Object.keys(t).filter((o=>{const n=t[String(o)];return(n.pinner||{}).id===e.id&&!n.is_repin})).map((e=>t[e])))(T,w).length,S=(0,n.useRef)(!1),z=(0,n.useRef)(t),k=(0,n.useRef)(j),D=(0,oe.Z)(),R=(0,ae.f)().id,O=T&&T.isAuth&&D.data&&T.id===D.data.id;if((0,n.useEffect)((()=>{(0,x.Z)()}),[]),(0,n.useEffect)((()=>{"v3_get_board"!==g()(d,"apiHandler")||404!==g()(d,"http_status")||S.current||!D.data||D.error?D.error&&404===D.error.httpStatus&&i.replace("/?show_error=true"):(S.current=!0,r.Z.showHtmlError((0,I.nk)(E._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:D.data.full_name}).join(""),v(),E._('We couldn\'t find that page.', ' - ', ' -- ')))})),(0,n.useEffect)((()=>{A({event_type:13,view_type:4,aux_data:{pin_id:R}})}),[A,R]),(0,n.useEffect)((()=>{if(D.isLoaded){var e;let o={profile_ownership:O?"own":"other",profile_user_id:(null===(e=D.data)||void 0===e?void 0:e.id)||""};t&&t!==z.current&&(o={...o,clickedFollowingButton:!0}),h(o)}}),[t,D.isLoaded]),!D||!D.isLoaded||!D.data)return null;const L=T.isAuth&&y===T.username,F=(({tab:e,updateUrlFromDecider:t,userData:o})=>{const n={2:ce.u.SHOP,1:ce.u.CREATED,0:ce.u.SAVED,3:ce.u.TRIED};if(e===ce.u.DECIDER){var i;const e=null===(i=o.eligible_profile_tabs)||void 0===i?void 0:i.find((e=>e.is_default)),s=n[null==e?void 0:e.tab_type]||ce.u.SAVED;return t(s),s}return e})({tab:b,updateUrlFromDecider:e=>i.replace(`/${D.data.username}/${e}/`),userData:D.data}),M=L?3106:3107,N=(0,f.Z)(D.data),B=(0,_.jsx)(se.aG,{children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(p,{placementId:19}),(0,_.jsx)(a.default,{placementId:19}),(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(s.Z,{name:"ProfileHeaderContainer",children:(0,_.jsx)(ie.c,{children:e=>(0,_.jsx)(ee,{minimalPartnerHeader:l,tab:F,top:e,user:D.data})})}),(0,_.jsx)(s.Z,{name:"ProfileContent",children:(0,_.jsx)(u.xu,{children:e})})]})]})}),U=N?(0,_.jsx)(P,{experience:o,initialViewerCreatedPins:k.current,isOwnProfile:L,username:y,children:B}):B;return(0,_.jsx)(te.Z,{view:4,viewParameter:M,objectId:D.data.id,children:(0,_.jsx)(n.Fragment,{children:U})})}));function ue(e){const t=(0,i.useSelector)((({pins:e})=>e)),o=(0,le.X2)(),n=o&&Object.keys(o).map((e=>o[e])).filter((e=>e.showTooltip)).length>0;return(0,_.jsx)(de,{...e,clickedFollowingButton:n,pins:t})}},842822:(e,t,o)=>{o.r(t),o.d(t,{default:()=>it});var n=o(667294),i=o(333312),s=o(619983);function r({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:n,requestContext:i,updatedBoardOrder:r}){if(!o)return"last_pinned_to";if(r)return r;if(n)return n;const a=!e&&t&&new s.v(i,"web_gb_highlight_on_profile_default").enabled();return e?"custom":a?"group_boards_at_top":"last_pinned_to"}var a=o(300267),l=o(2819),c=o(6637),d=o(898781),u=o(717615),_=o(784590),h=o(19121),p=o(883119),m=o(217468),g=o(407043),f=o(231947),x=o(330899),b=o(785893);const v={alphabetical:10430,last_pinned_to:10431,custom:10434};function y({user:e,setVisibilityControlsModalOpen:t}){var o;const i=(0,x.x)(),{logContextEvent:s}=(0,g.v)(),a=(0,d.ZP)(),y=(0,h.Z)(),P=(0,u.Z)(),w=(0,f.Ms)(y,P),{data:A}=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:w}}}),C=null==i?void 0:i.profileBoardView,E=null!==(o=null==i?void 0:i.boardSortOrder.get(w||""))&&void 0!==o?o:"",T=null==i?void 0:i.profilePinDensity,j=r({hasCustomOrder:Boolean(e.has_custom_board_sorting_order),isOwnProfile:!0,mostRecentBoardSortOrder:null==A?void 0:A.most_recent_board_sort_order,updatedBoardOrder:E});(0,n.useEffect)((()=>{if(A&&(!C||"list"===C)){const{profile_board_rep_view_type:e}=A,t=e&&"list"!==e?e:"wide";null==i||i.setProfileBoardView(t)}}),[A,C]);(0,n.useEffect)((()=>{if(A&&""===T){const{board_pin_rep_view_type:e}=A;null==i||i.setProfilePinDensity(null!=e?e:"regular")}}),[A,T]);const I=e=>()=>{s({event_type:101,component:13149,element:v[e]});c.ZP.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,f.lJ)(y,P)}).callUpdate(),null==i||i.updateBoardSortOrder((0,f.Ms)(y,P),e)},{group:S}=(0,m.t)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),z=["enabled","enabled_no_experience"].includes(S),k=[{label:z?a._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'):a._('Sort boards by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy.deprecated', 'Category heading on Organize menu on user profile, to be deprecated'),items:[{label:a._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===j,clickHandler:I("alphabetical")},{label:z?a._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'):a._('Drag and drop', 'profileHeader.actionBar.organizeFlyout.dragAndDrop.deprecated', 'Organize menu option to sort boards by drag-and-drop, to be deprecated'),isSelected:"custom"===j,clickHandler:I("custom")},{label:a._('Last saved to', 'profileHeader.actionBar.organizeFlyout.lastSavedTo', 'Organize menu option to sort boards by last saved to'),isSelected:"last_pinned_to"===j,clickHandler:I("last_pinned_to")}]},z&&t?{label:a._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:a._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),s({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map((e=>e)).filter(Boolean);return(0,b.jsx)(l.Z,{icon:"filter",label:a._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>k.map((({items:t,label:o})=>(0,b.jsx)(p.Lt.Section,{label:o,children:t.map((({clickHandler:t,label:o})=>(0,b.jsx)(p.Lt.Item,{onSelect:()=>{e(),t()},option:{label:o,value:o}},o)))},o)))})}var P=o(966338),w=o(121093),A=o(806986);const C=110;function E({boardThumbs:e}){const t=(0,d.ZP)();return(0,b.jsx)(p.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,b.jsx)(p.zd,{height:C,rounding:4,width:C,children:(0,b.jsx)(p.gM,{columns:2,cover:!0,height:C,gutter:1,renderImage:({index:t,width:o,height:n})=>{var i,s,r;const a=e[0],l=e.slice(1),c=0===t?a:l[t-1];return(0,b.jsx)(p.zd,{width:o,height:n,children:(0,b.jsx)(p.Ee,{alt:"",src:null!==(i=c.url)&&void 0!==i?i:"",color:"#EFEFEF",naturalHeight:null!==(s=c.height)&&void 0!==s?s:1,naturalWidth:null!==(r=c.width)&&void 0!==r?r:1,fit:"cover"})})},width:C})})})}function T(){const e=(0,d.ZP)(),t=(0,A.JI)();return(0,b.jsx)(w.Z,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:n,experience:{display_data:i}})=>{const{button_text:s,images:r,subtitle:a,title:l}=i,c=r.map((e=>e["170x"]));return(0,b.jsx)(p.kC,{justifyContent:"center",children:(0,b.jsx)(p.xu,{maxWidth:960,paddingY:4,children:(0,b.jsx)(p.QH,{title:l,imageData:{component:(0,b.jsx)(E,{boardThumbs:c})},message:a,primaryAction:{label:s,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),o()}},dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:n}})})})}})}var j=o(572551),I=o(301921),S=o(444445);const z=(0,n.lazy)((()=>Promise.all([o.e(77638),o.e(63614)]).then(o.bind(o,893296))));function k({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,isOwnProfile:i,userId:s}){const r=(0,d.ZP)(),a=(0,A.JI)(),l=(0,A.Fj)(),c=i&&e.length>=5&&!o,{fetchMore:u,isAtEnd:_,isFetching:h,isLoaded:m}=t;return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(p.xu,{padding:o?0:3,children:[o&&e.length>0&&(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(p.xu,{marginTop:5,marginBottom:i?0:7,children:(0,b.jsx)(p.iz,{})}),i&&(0,b.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:5,paddingY:7,children:[(0,b.jsx)(p.X6,{size:"400",children:r._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),(0,b.jsx)(p.zx,{onClick:()=>{a(!0)},text:r._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')})]})]}),c&&(0,b.jsx)(T,{}),(0,b.jsx)(j.default,{columnWidth:S.yF,comp:({data:e,itemIdx:t})=>{const o=i?{type:"none"}:{type:"inline"};return(0,b.jsx)(I.default,{pinId:e.id,saveButtonOptions:o,surface:"BoardlessPins",trackingParameters:{viewParameter:i?3106:3107,viewType:4,slotIndex:t}})},gutterWidth:S.$H,isAtEnd:_,isFetching:h,isGridCentered:!0,isLoaded:m,items:e,layout:"basicCentered",loadItems:u,serverRender:!0,virtualize:!1})]}),!!e&&e.length>0&&l&&(0,b.jsx)(z,{boardlessPinsNormalized:e,fetchMore:u,hasBoards:o,onDismiss:()=>a(!1),userId:s})]})}var D=o(166150),R=o(91885);function O({children:e,containerWidth:t,inListView:o,semiTransparent:n}){const i=n?.5:void 0;return o?(0,b.jsx)(p.xu,{"data-test-id":R.Kb,display:"flex",justifyContent:"center",width:"100%",children:(0,b.jsxs)(p.xu,{maxWidth:800,paddingX:3,width:"100%",children:[(0,b.jsx)(p.iz,{}),(0,b.jsx)(p.xu,{opacity:i,paddingY:3,width:"100%",children:e})]})}):(0,b.jsx)(p.xu,{"data-test-id":R.Kb,maxWidth:t,opacity:i,overflow:"hidden",padding:2,children:e})}function L({headerLabel:e}){const t=(0,d.ZP)();return(0,b.jsx)(p.W2,{children:(0,b.jsxs)(p.xu,{alignItems:"center",display:"flex",marginBottom:2,marginStart:-4,marginEnd:-4,paddingX:3,children:[(0,b.jsx)(p.xu,{column:9,display:"flex",justifyContent:"between",paddingX:4,children:(0,b.jsx)(p.xv,{color:"subtle",size:"200",children:t._('Name', 'Profile header - board name', 'Profile header - board name')})}),(0,b.jsx)(p.xu,{alignItems:"center",column:3,display:"flex",paddingX:4,children:(0,b.jsx)(p.xv,{color:"subtle",size:"200",children:e||""})})]})})}var F=o(907301);const M=e=>e.boards;var N=o(8405);function B({boardIds:e,layout:t,onBoardArchiveChange:o,onBoardDelete:i,showCreatorProfile:s}){const r=(0,d.ZP)(),a=(0,n.useRef)(null),l=(0,P.useSelector)(M);if(!e.length)return null;const c=(0,N.m)(t);return(0,b.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F6F6F6"}},paddingY:4,ref:a,children:["list"===t&&(0,b.jsx)(L,{headerLabel:r._('Archived on', 'Profile board list view heading label', 'Profile board list view heading label')}),(0,b.jsx)(F.Z,{itemWidth:c,children:e.map((e=>l[e])).filter(Boolean).map(((e,n)=>(0,b.jsx)(O,{containerWidth:c,inListView:"list"===t,children:(0,b.jsx)(D.Z,{board:e,isOwnProfile:!0,layout:t,onBoardArchiveChange:o,onBoardDelete:i,slotIndex:n})},e.id)))})]})}var U=o(966113);const Z=(e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}},G=e=>"archived"===e?"remove":"protected"===e?"protect":"lock",H=(e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');case"archived":return t._('These are hidden from your profile.', 'subtitle for archived boards section on a profile', 'subtitle for archived boards section on a profile');default:return""}};function V({type:e}){const t=(0,d.ZP)();return(0,b.jsx)(p.W2,{children:(0,b.jsxs)(p.xu,{paddingY:6,paddingX:3,children:[(0,b.jsxs)(p.xv,{size:"200",weight:"bold",children:[Z(e,t)," ",(0,b.jsx)(p.JO,{accessibilityLabel:"",color:"default",icon:G(e),inline:!0,size:12})]}),(0,b.jsx)(p.xv,{inline:!0,size:"200",children:H(e,t)}),"secret"===e&&(0,b.jsx)(p.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(p.rU,{href:U.Z.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,inline:!0,underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var W=o(223656),K=o(298361),$=o(86551);function Y({boardOrder:e,allPinsStory:{objects:t}}){var o;const n=(0,K.Z)(),i=(0,h.Z)(),s=null!==(o=t.map((e=>{var t,o;return{name:"AllPins",url:null!==(t=null===(o=e.images)||void 0===o?void 0:o["236x"].url)&&void 0!==t?t:""}})))&&void 0!==o?o:[],r=(0,$.Z)();if(!r||!r.isLoaded||!r.data)return null;const l=r.data,c=(0,a.Z)({user:l,viewer:i}),d=e&&"last_pinned_to"===e&&l.last_pin_save_time?n(l.last_pin_save_time,!0):"";return(0,b.jsx)(W.Z,{storyPinImages:s,subtitle:d,userId:l.id,isOwnProfile:c,pinCount:l.pin_count})}var q=o(694379),X=o(349700);function Q({boardName:e,collaboratorCount:t}){const o=(0,d.ZP)(),n=(0,b.jsx)(p.xv,{inline:!0,weight:"bold",children:e},"board_name");return(0,b.jsx)(p.xv,{children:t?(0,X.nk)(o._('When you delete {{ boardName }}, you\'ll lose {{ n_collaborators }} and all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n,n_collaborators:(0,b.jsx)(p.xv,{inline:!0,weight:"bold",children:(0,X.nk)(o.ngettext('{{ count }} collaborator', '{{ count }} collaborators', t, 'label for n board collaborator(s)', 'label for n board collaborator(s)'),{count:(0,b.jsx)(q.Z,{value:t})})},"collaborator_count")}):(0,X.nk)(o._('When you delete {{ boardName }}, you\'ll lose all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n})})}function J({board:{name:e="",is_collaborative:t}}){const o=(0,d.ZP)(),n=t?o._('your {{ boardName }} group board', ' - ', ' -- '):o._('your {{ boardName }} board', ' - ', ' -- ');return(0,b.jsx)(p.xv,{inline:!0,children:(0,X.nk)(n,{boardName:(0,b.jsx)(p.xv,{inline:!0,weight:"bold",children:e},`board_${e}`)})},`yourboard_${e}`)}function ee({sourceBoard:e,targetBoard:t}){var o;const n=(0,d.ZP)();return(0,b.jsxs)(p.xu,{children:[(0,b.jsx)(p.xu,{paddingY:2,children:(0,b.jsx)(p.xv,{children:(0,X.nk)(n._('You\'re about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{sourceBoardName:(0,b.jsx)(J,{board:e},"sourceBoard"),targetBoardName:(0,b.jsx)(J,{board:t},"targetBoard")})})}),(0,b.jsx)(p.xu,{paddingY:2,children:(0,b.jsx)(Q,{boardName:null!==(o=e.name)&&void 0!==o?o:"",collaboratorCount:e.collaborator_count})})]})}var te=o(121151);function oe({onConfirm:e,onHide:t,sourceBoard:o,targetBoard:n}){const i=(0,d.ZP)();return(0,b.jsx)(te.ZP,{accessibilityModalLabel:i._('Confirm Board Merge', 'accessibility label for board merging confirmation modal', 'accessibility label for board merging confirmation modal'),onDismiss:t,heading:i._('Move Pins and delete board?', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"dialog",size:"md",footer:(0,b.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginStart:-2,marginEnd:-2,children:[(0,b.jsx)(p.xu,{paddingX:2,children:(0,b.jsx)(p.zx,{text:i._('Cancel', 'Cancel button in board merging confirmation modal', 'Cancel button in board merging confirmation modal'),onClick:t})}),(0,b.jsx)(p.xu,{paddingX:2,children:(0,b.jsx)(p.zx,{color:"red",text:i._('Move Pins and delete board', 'Confirm button in board merging confirmation modal', 'Confirm button in board merging confirmation modal'),onClick:()=>e(o,n)})})]}),children:(0,b.jsx)(p.xu,{padding:4,children:(0,b.jsx)(ee,{sourceBoard:o,targetBoard:n})})})}var ne=o(274319),ie=o(124237),se=o(636803);function re({onHide:e}){const t=(0,d.ZP)();return(0,b.jsx)(te.ZP,{accessibilityModalLabel:t._('Board Merge Error Alert', 'accessibility label for board merging error alert', 'accessibility label for board merging error alert'),onDismiss:e,heading:t._('Oops!', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"alertdialog",size:"md",footer:(0,b.jsx)(p.xu,{children:(0,b.jsx)(p.zx,{fullWidth:!0,color:"red",text:t._('Got it', 'ok button in board merging error alert', 'ok button in board merging error alert'),onClick:e})}),children:(0,b.jsx)(p.xu,{padding:4,children:(0,b.jsx)(p.xv,{children:t._('You can\'t move this board because you didn\'t create it.', 'board merging error alert', 'board merging error alert')})})})}function ae({onConfirm:e,onHide:t}){const o=(0,d.ZP)();return(0,b.jsx)(te.ZP,{accessibilityModalLabel:o._('Warning about overwriting board order', 'Accessible label for the board order overwrite modal', 'Accessible label for the board order overwrite modal'),onDismiss:t,heading:o._('Are you sure?', 'Heading for board order overwriting modal', 'Heading for board order overwriting modal'),role:"alertdialog",size:"md",footer:(0,b.jsxs)(p.xu,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[(0,b.jsx)(p.xu,{padding:1,children:(0,b.jsx)(p.zx,{fullWidth:!0,size:"lg",text:o._('Cancel', 'Button text for canceling board re-ordering', 'Button text for canceling board re-ordering'),onClick:t})}),(0,b.jsx)(p.xu,{padding:1,children:(0,b.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",text:o._('Lose previous customization', 'Button text for confirming board re-ordering', 'Button text for confirming board re-ordering'),onClick:e})})]}),children:(0,b.jsx)(p.xu,{padding:4,children:(0,b.jsx)(p.xv,{children:(0,X.nk)(o._('You\u2019re about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}', ' - ', ' -- '),{dragAndDrop:(0,b.jsx)(p.xv,{inline:!0,weight:"bold",children:o._('Drag and drop', 'Text for indicating drag and drop sort order', 'Text for indicating drag and drop sort order')},"dragDrop")})})})})}var le=o(145401);class ce extends n.Component{constructor(...e){var t,o,n;super(...e),n={board:null},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){var e;const{invite:t}=this.props,o={board_id:null===(e=t.board)||void 0===e?void 0:e.id,field_set_key:"profile_grid_item"};c.ZP.create("BoardResource",o).callGet().then((e=>{this.setState({board:e.resource_response.data})}),(e=>{throw e}))}render(){const{invite:e,layout:t,onDeclineRequest:o,slotIndex:n}=this.props,{board:i}=this.state;return i&&e?(0,b.jsx)(le.Z,{board:i,canEdit:!1,invite:e,isOwnProfile:!1,layout:t,onDeclineRequest:o,onEditClick:e=>{},slotIndex:n,subtitle:null}):null}}const de=ce;function ue(e){const{isOwnProfile:t,layout:o}=e,n=(0,h.Z)(),i=(0,_.Z)({name:"ContactRequestsResource",noCache:!0}),s=(0,_.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"},noCache:!0}),r=(0,N.m)(o),a="list"===o,l=[];(s.data||[]).forEach((e=>{e.invited_user&&l.push({invited_user:e.invited_user,invited_by_user:e.invited_by_user,board:e.board})}));const c=()=>{s.refresh()};let d=[];if(n.isAuth&&!n.isPartner){d=(i.data||[]).filter((e=>!!e.board&&!!e.created_at&&Date.now()-new Date(e.created_at)<2592e6)).map((e=>({invited_user:e.recipient,invited_by_user:e.sender,board:e.board})))}const u=[...l,...d].slice(0,5);return t&&!a&&u.length>0?u.map(((e,t)=>{var n;return(0,b.jsx)(O,{containerWidth:r,inListView:a,children:(0,b.jsx)(de,{invite:e,layout:o,onDeclineRequest:c,slotIndex:t})},`invite-card-wrapper-${String(null===(n=e.board)||void 0===n?void 0:n.id)}`)})):null}var _e=o(993404),he=o(588028),pe=o(281615);const me={borderColor:"white",WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function ge({index:e,isHovering:t,onImageLoad:o,pinImageObject:{images:n}}){var i,s,r;return(0,b.jsx)(p.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:0-e,marginInlineEnd:"-89px"}},children:(0,b.jsx)(p.xu,{position:"relative",height:157,width:118,color:"white",borderStyle:"sm",overflow:"hidden",rounding:4,dangerouslySetInlineStyle:{__style:me},children:(0,b.jsx)(p.zd,{height:"100%",width:"100%",wash:t,children:n?(0,b.jsx)(p.Ee,{alt:"",src:null!==(i=n["236x"].url)&&void 0!==i?i:"",color:"#696969",fit:"cover",naturalHeight:null!==(s=n["236x"].height)&&void 0!==s?s:1,naturalWidth:null!==(r=n["236x"].width)&&void 0!==r?r:1,onLoad:o}):(0,b.jsx)(p.xu,{height:"100%",width:"100%",color:"lightGray"})})})})}var fe=o(436285),xe=o(497529);var be=o(215292),ve=o(780280);function ye({shoppingListStory:{objects:e,id:t,title:o}}){const{logContextEvent:i}=(0,g.v)(),s=(0,d.ZP)(),{showShoppingListIconEducation:r}=function(){const{experienceForPlacement:e}=(0,xe.Z)(19);return{showShoppingListIconEducation:503246===(null==e?void 0:e.experience_id)}}(),a=(0,n.useRef)(),[l,c]=(0,n.useState)(r),u=(0,h.Z)(),_=u.isAuth?u.username:"";(0,n.useEffect)((()=>{i({event_type:170,component:13811,view_type:4,aux_data:{...{story_type:"wishlist_shop_your_products_story",story_id:t}}})}),[i,t]);const m=[...e];for(;m.length<5;)m.push({images:null});const{isRTL:f}=(0,ve.B)();return(0,b.jsxs)(p.xu,{padding:2,position:"relative",children:[l&&(0,b.jsx)(p.mh,{zIndex:new p.Ry(10),children:(0,b.jsx)(p.J2,{anchor:a.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>c(!1),positionRelativeToAnchor:!1,size:"xs",children:(0,b.jsx)(p.xu,{padding:4,children:(0,b.jsx)(p.xv,{color:"inverse",align:"center",children:s._('Shop all your saved products in one place', 'Profile.User.Button.Icon.ShoppingList.Tooltip', 'Tooltip explaining shopping list functionality on user own profile')})})})}),(0,b.jsx)(p.iP,{role:"link",href:`/${_}/_shopping_list/`,onTap:()=>{i({event_type:102,component:13811,view_type:4,aux_data:{story_type:"wishlist_shop_your_products_story",story_id:t}})},children:(0,b.jsx)(be.q,{children:({active:e,focused:t,hovered:n,onMouseEnter:i,onMouseLeave:r,onFocus:a})=>(0,b.jsxs)(p.xu,{onFocus:a,onMouseEnter:i,onMouseLeave:r,children:[(0,b.jsxs)(p.xu,{"aria-hidden":"true",display:"flex",height:157,width:236,rounding:4,children:[m.map(((o,i)=>(0,b.jsx)(ge,{index:i,isHovering:e||n||t,pinImageObject:o},i))),(0,b.jsx)(p.xu,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!f,marginStart:4,marginTop:4,position:"absolute",right:f,rounding:"circle",top:!0,width:32,children:(0,b.jsx)(fe.Z,{})})]}),(0,b.jsx)(p.xu,{alignItems:"start",display:"flex",padding:2,children:(0,b.jsxs)(p.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,b.jsx)(p.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:o.format}),(0,b.jsx)(p.xu,{alignItems:"center",display:"flex",marginTop:1,children:(0,b.jsx)(p.xv,{size:"100",children:s._('All saved products', 'shoppingListCard.Subtitle.Text', 'Subtitle for shopping list entrypoint card on user profile')})})]})})]})})})]})}var Pe=o(345221),we=o(229448),Ae=o(442279),Ce=o(683190),Ee=o(583421),Te=o(278380),je=o(708206);function Ie(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Se=-1;class ze extends n.PureComponent{constructor(...e){super(...e),Ie(this,"state",{activeModal:null,boardIds:[...this.props.boardIds],dropAction:null,previewIndex:Se,sourceIndex:Se,targetIndex:Se}),Ie(this,"firstBoardRef",(0,n.createRef)()),Ie(this,"container",(0,n.createRef)()),Ie(this,"cancelHoverTimeout",(()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null})),Ie(this,"dragHoverTimeout",null),Ie(this,"isDragging",(()=>this.state.sourceIndex!==Se)),Ie(this,"handleBoardCardDragBegin",(e=>this.setState({previewIndex:e,sourceIndex:e}))),Ie(this,"handleBoardCardDragHover",((e,t)=>{if(!t)return;const{boardIds:o,previewIndex:n}=this.state;if(!this.allowDragging)return;const i=this.allowDragging?(0,Te.TI)({hoverRelativePosition:t,centerEnabled:e!==n}):"center",s={itemIndex:e,regionWithinItem:i};if(this.dragHoverTimeout&&(0,Te.Lz)(s,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const r="center"===i?"merge":"reorder",a=(0,Te.X3)({hoverLocation:s,sourceIndex:n});a!==n?this.dragHoverTimeout={hoverLocation:s,timeoutId:setTimeout((()=>{this.dragHoverTimeout=null,this.setState({dropAction:r,targetIndex:a,..."reorder"===r?{previewIndex:a,boardIds:(0,pe.zX)(o,n,a)}:{}})}),"reorder"===r?200:20)}:a!==this.state.targetIndex&&this.setState({targetIndex:a})})),Ie(this,"handleCloseModal",(()=>this.setState({activeModal:null}))),Ie(this,"handleBoardCardDragEnd",(e=>{const{boardIds:t,boardMap:o,boardOrder:n,dispatch:i,onBoardReorder:s,viewer:r}=this.props,{boardIds:a,dropAction:l,previewIndex:d,sourceIndex:u,targetIndex:_}=this.state;if(this.cancelHoverTimeout(),this.setState({boardIds:t,previewIndex:Se,sourceIndex:Se,targetIndex:Se}),e&&u!==Se&&_!==Se&&u!==_)if("custom"!==n&&this.setState({activeModal:(0,b.jsx)(ae,{onConfirm:this.handleOverwriteBoardOrder,onHide:this.handleCloseModal})}),"merge"===l){const e=e=>{const t=a[e];return t&&o[t]},t=e(d),n=e(_);if(t&&n){if(t.collaborated_by_me)return void this.setState({activeModal:(0,b.jsx)(re,{onHide:this.handleCloseModal})});this.setState({activeModal:(0,b.jsx)(oe,{onConfirm:()=>this.handleMergeBoards(t,n),onHide:this.handleCloseModal,sourceBoard:t,targetBoard:n})})}}else if(_<a.length&&u<a.length&&"custom"===n){i(function({boardIds:e,sourceIndex:t,targetIndex:o,username:n}){return i=>{if(!n)return;i((0,_e.Z)({feedType:"profileBoards",feedId:(0,he.O)(n,"custom"),itemType:"board",sourceItemId:e[t],targetItemId:e[o]}));const s=(0,pe.zX)(e,t,o);c.ZP.create("BoardsReorderResource",{board_ids:s}).callUpdate({showError:!1})}}({boardIds:t,sourceIndex:u,targetIndex:_,username:r.isAuth?r.username:null})),s&&s()}})),Ie(this,"handleOverwriteBoardOrder",(()=>{const{updateBoardSortOption:e,viewer:t}=this.props;null==e||e(t.username||"","custom"),c.ZP.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),this.handleCloseModal()})),Ie(this,"handleMergeBoards",((e,t)=>{const{dispatch:o,showBlockingActionToast:n,onBoardDelete:i,logContextEvent:s}=this.props;s({event_type:7172,object_id_str:e.id,aux_data:{merge_flow:"dnd"}}),o((0,Ce.xH)(e.id,t.id)).then((()=>n({actionType:"merge",board:t}))).catch((e=>{ie.Z.showError(e.message||this.props.i18n._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})),i(e.id),this.handleCloseModal()})),Ie(this,"renderBoards",(()=>{var e,t;const{allPinsStory:o,boardOrder:i,boardMap:s,boardVisibility:r,viewer:a,isOwnProfile:l,isDragWithinBounds:c,layout:d,onBoardArchiveChange:u,onBoardDelete:_,onBoardPrivacyChange:h,onBoardUpdate:p,onBoardLeave:m,shoppingListStory:g,allowShoppingControls:f}=this.props,{activeModal:x,boardIds:v}=this.state,y=(0,N.m)(d),P="list"===d,w=!o||!f||(null==r||null===(e=r.data)||void 0===e?void 0:e.show_all_pins),A=!g||!f||(null==r||null===(t=r.data)||void 0===t?void 0:t.eligible_for_wishlist)&&r.data.show_shopping_list;return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(F.Z,{...P?{}:{itemWidth:y},maxColumns:P?0:12,children:[w&&o&&(0,b.jsx)(Y,{boardOrder:i,allPinsStory:o}),A&&g&&!a.isLimitedLogin&&(0,b.jsx)(ye,{shoppingListStory:g}),!a.isLimitedLogin&&(0,b.jsx)(ue,{isOwnProfile:l,layout:d}),v.map((e=>s[e])).filter(Boolean).map(((e,t)=>{const o=(0,b.jsx)(D.Z,{board:e,boardOrder:i,forwardedRef:0===t?this.firstBoardRef:void 0,isOwnProfile:l,isReordering:this.isDragging(),layout:d,onBoardArchiveChange:u,onBoardDelete:()=>_(e.id),onBoardLeave:m,onBoardPrivacyChange:h,onBoardUpdate:p,slotIndex:t});return(0,b.jsx)(O,{containerWidth:y,inListView:P,semiTransparent:this.isDragging()&&!c,children:this.allowDragging?(0,b.jsx)(Ee.Z,{index:t,onDragBegin:this.handleBoardCardDragBegin,onDragEnd:this.handleBoardCardDragEnd,onDragHover:this.handleBoardCardDragHover,type:Ee.y.Board,children:o}):o},`main-card-wrapper-${e.id}`)}))]}),(0,b.jsx)(se.Z,{anchors:{3008:this.firstBoardRef.current},placementId:19,positionRelativeToAnchor:!1}),x]})}))}componentDidUpdate(e){e.boardIds.join(",")!==this.props.boardIds.join(",")&&this.setState({boardIds:[...this.props.boardIds],dropAction:null,previewIndex:Se,sourceIndex:Se,targetIndex:Se})}componentWillUnmount(){this.cancelHoverTimeout()}get allowDragging(){const{isOwnProfile:e,isOverview:t}=this.props;return e&&!t}render(){const{connectDropTarget:e,boardOrder:t,layout:o}=this.props;return(0,b.jsxs)(p.xu,{ref:this.container,children:["list"===o&&(0,b.jsx)(L,{headerLabel:["newest","oldest"].includes(t)?this.props.i18n._('Created on', 'Profile board list view heading label', 'Profile board list view heading label'):this.props.i18n._('Last saved to', 'Profile board list view heading label', 'Profile board list view heading label')}),this.allowDragging&&e?(0,b.jsxs)(n.Fragment,{children:[e((0,b.jsx)("div",{children:this.renderBoards()})),this.isDragging()&&(0,b.jsx)(ne.Z,{})]}):this.renderBoards()]})}}const ke=(0,je.compose)((0,Pe.Z)(Ee.y.Board),we.ZP,(0,P.connect)((0,Ae.zB)({boardMap:M}),(e=>({dispatch:e}))))((function(e){var t;const o=(0,d.ZP)(),n=(0,h.Z)(),{logContextEvent:i}=(0,g.v)(),s=null===(t=(0,x.x)())||void 0===t?void 0:t.updateBoardSortOrder,r=!0===e.isOwnProfile,{group:a,anyEnabled:l}=(0,m.a)("web_shopping_list_controls",r),c=!l||"enabled_pwt"===a,u=(0,_.Z)({name:"UserResource",options:{username:n.username||"",field_set_key:"board_visibility"},dangerouslyDisableFetch:!l});return(0,b.jsx)(ze,{...e,boardVisibility:l?u:void 0,allowShoppingControls:!c,i18n:o,viewer:n,updateBoardSortOption:s,logContextEvent:i})}));function De({allPinsStory:e,boardIds:t,boardOrder:o,group:n,isOverview:i,isOwnProfile:s,isPartner:r,onBoardChange:a,onBoardGroupChange:l,profileBoardView:c,showCreatorProfile:d,shoppingListStory:u}){if("archived"===n)return(0,b.jsx)(B,{boardIds:t,layout:c,onBoardArchiveChange:l,onBoardDelete:a,showCreatorProfile:d});const _=(0,b.jsx)(ke,{allPinsStory:e,boardIds:t,boardOrder:o,isOverview:i,isOwnProfile:s,layout:c,onBoardArchiveChange:l,onBoardDelete:a,onBoardLeave:e=>l(),onBoardPrivacyChange:l,onBoardReorder:a,onBoardUpdate:a,showCreatorProfile:d,shoppingListStory:u});return"unlabeled"===n?_:(0,b.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},marginBottom:6,marginTop:6,overflow:"hidden",children:[(0,b.jsx)(V,{type:n}),_]})}var Re=o(406379);function Oe({fetchMore:e,isAtEnd:t,isFetching:o}){return(0,b.jsx)(p.gr,{fetchMore:e,isAtEnd:t,isFetching:o})}var Le=o(430323),Fe=o(969853),Me=o(543398),Ne=o(501817),Be=o(414327),Ue=o(276602);function Ze(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ge({isAtEndOfFeed:e}){return(0,Fe.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class He extends n.PureComponent{constructor(...e){super(...e),Ze(this,"state",{boardsResourceAnnotationAdded:!1}),Ze(this,"feedIsStale",!1),Ze(this,"handleBoardChanged",(()=>{this.feedIsStale=!0})),Ze(this,"handleBoardGroupChange",(()=>this.props.boardsResource.refresh()))}componentDidUpdate(e){const{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){const{boardsResource:o,pwtSurfaceContext:n}=e,{boardsResourceAnnotationAdded:i}=t;return o.isLoaded&&n&&!i?(n.addAnnotation("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){const{invalidateFeeds:e}=this.props;this.feedIsStale&&e()}renderAllBoardsGroups(e){const{boardOrder:t,boardlessPinsNormalized:o,boardsResource:n,filterStories:i,isOwnProfile:s,isOverview:r,mixPublicSecret:a,profileBoardView:l,user:c}=this.props,{is_partner:d,show_creator_profile:u}=c,_=!i&&n.data&&n.data.length>0&&"all_pins"===n.data[0].story_type?n.data[0]:null,h=!i&&n.data?n.data.find((e=>"wishlist_shop_your_products_story"===e.story_type?e:null)):null,m=_&&1===(n.data||[]).length;if((n.data||[]).length>0&&0===e.length&&!m&&!h)return(0,b.jsx)(p.xu,{padding:6,children:(0,b.jsx)(p.$j,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});const g=(o||[]).length>0;if(0===e.length&&!m&&!g)return(0,b.jsx)(Re.Z,{fullName:c.full_name,isOwnProfile:s,isPartnerProfile:d});const f=function(e,t){return e.reduce(((e,{id:o,profileGroup:n})=>{let i;return i="public"===n||t&&"secret"===n?{unlabeled:e.unlabeled.concat([o])}:{[n]:e[n].concat([o])},{...e,...i}}),{unlabeled:[],protected:[],secret:[],archived:[]})}(e,a),x=["protected","secret","archived"].filter((e=>f[e].length>0)),v=i?l:"square";return g&&m?null:(0,b.jsx)(p.xu,{marginTop:"list"===l?6:-2,overflow:"hidden",children:["unlabeled"].concat(s&&!r?x:[]).map((e=>(0,b.jsx)(De,{allPinsStory:"unlabeled"===e&&"story"===(null==_?void 0:_.type)?_:null,boardIds:f[e],boardOrder:t,group:e,isOverview:!!r,isOwnProfile:s,isPartner:!!d,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,profileBoardView:v,showCreatorProfile:!!u,shoppingListStory:"unlabeled"===e&&"story"===(null==h?void 0:h.type)?h:null},e)))})}render(){var e;const{boardKeys:t,i18n:o,isBoardlessProfileEnabled:n,isOwnProfile:i,isOverview:s,boardlessPinsNormalized:r,boardlessPinsResource:a,boardsResource:l,user:c}=this.props,{data:d,isFetching:u,isLoaded:_,isAtEnd:h,fetchMore:m}=l,{isLoaded:g,isAtEnd:f}=a||{},x=!!d&&d.length>0&&"all_pins"===d[0].story_type,v=!!d&&d.length>0&&("wishlist_shop_your_products_story"===d[0].story_type||"wishlist_shop_your_products_story"===(null===(e=d[1])||void 0===e?void 0:e.story_type)),y=!!d&&((x||v)&&d.length>1||!x&&d.length>0),P=n?g&&_:_,w=n?f&&h:h;return(0,b.jsx)(Le.Z,{component:209,view:4,viewParameter:i?3106:3107,children:(0,b.jsxs)(p.xu,{children:[_&&this.renderAllBoardsGroups(s?t.slice(0,6):t),(0,b.jsx)(p.xu,{padding:u?6:0,children:(0,b.jsx)(p.$j,{accessibilityLabel:o._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:u})}),_&&!s&&(0,b.jsx)(Oe,{fetchMore:m,isAtEnd:h,isFetching:u}),P&&(0,b.jsx)(Ge,{isAtEndOfFeed:w}),(r||[]).length>0&&(null==a?void 0:a.data)&&(0,b.jsx)(k,{boardlessPinsNormalized:r,boardlessPinsResource:a,hasBoards:y,isOwnProfile:i,userId:c.id})]})})}}Ze(He,"defaultProps",{boardKeys:[]});const Ve=(0,P.connect)((0,Ae.P1)([he.M],(e=>({boardKeys:(e||[]).reduce(((e,t)=>e.concat("board"===t.type&&t.onProfile?[t]:[])),[])}))),(()=>({})))((function(e){const t=(0,d.ZP)(),{id:o}=e.user,n=(0,h.Z)(),i=n.isAuth?n.username:"",s=(0,u.Z)(),r=(0,f.lJ)(n,s),a=(0,x.x)(),l=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&(null==a?void 0:a.profileBoardView)||"wide",{showEnabledSaveBehavior:c}=(0,Me.ZP)(o),p=(0,_.Z)({name:Ne.O.name,options:Ne.O.options(e,r)}),m=(0,_.Z)({name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o},dangerouslyDisableFetch:!c}),g=(0,P.useSelector)((({feeds:e})=>e.boardlessPins[o]))||[],v=(0,P.useDispatch)();return(0,b.jsx)(He,{...e,boardlessPinsNormalized:g,boardlessPinsResource:m,boardsResource:p,i18n:t,invalidateFeeds:()=>v((0,Ce.K8)(i)),invalidatePinBetterSaveResource:()=>v((0,Be.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),isBoardlessProfileEnabled:c,profileBoardView:l,pwtSurfaceContext:(0,Ue.EV)(),requestContext:(0,ve.B)()})})),We={ALL_PINS_VISIBILITY_SWITCH:12787,SHOPPING_LIST_VISIBILITY_SWITCH:12788};function Ke({setVisibilityControlsModalOpen:e}){const{logContextEvent:t}=(0,g.v)(),o=(0,d.ZP)(),i=(0,ve.B)(),s=(0,h.Z)(),{data:r,isFetching:a,refresh:l}=(0,_.Z)({name:"UserResource",options:{user_id:s.isAuth?s.id:"",field_set_key:"board_visibility"}}),{show_all_pins:u=!1,show_shopping_list:m=!1,eligible_for_wishlist:f=!1}=r||{},[x,v]=(0,n.useState)(!1),[y,P]=(0,n.useState)(!1);(0,n.useEffect)((()=>v(u)),[u]),(0,n.useEffect)((()=>P(m)),[m]);const w=async(e,o,n,i)=>{t({event_type:101,view_type:4,view_parameter:3689,element:We[i]}),n(e),await c.ZP.create("UserSettingsResource",{[o]:e}).callUpdate(),await l()},A=i.isRTL,C=(0,b.jsx)(p.hU,{accessibilityLabel:o._('Close', 'profileBoardsPage.visibilityControlsModal.close', 'Accessibility string that describes the close icon button to close the modal that controls board visibility on profile'),icon:"cancel",iconColor:"darkGray",onClick:()=>e(!1)});return(0,n.useEffect)((()=>{t({event_type:13,view_type:4,view_parameter:3689})}),[t]),(0,b.jsx)(te.ZP,{heading:(0,b.jsx)(p.xu,{padding:8,children:(0,b.jsxs)(p.kC,{alignItems:"center",children:[A&&C,(0,b.jsx)(p.kC.Item,{flex:"grow",children:(0,b.jsx)(p.X6,{align:"center",size:"500",children:o._('Manage visibility', 'profileBoardsPage.visibilityControlsModal.heading', 'Title on the modal to control board visibility on profile')})}),!A&&C]})}),accessibilityModalLabel:o._('Edit board visibility', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel', 'Accessibility string that describes the modal to control board visibility on profile'),onDismiss:()=>e(!1),children:(0,b.jsxs)(p.xu,{paddingX:8,marginBottom:8,children:[(0,b.jsx)(p.__,{htmlFor:"show_all_pins",children:(0,b.jsx)(p.X6,{accessibilityLevel:3,size:"400",children:o._('Show All Pins', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.label', 'Title of the switch to control all pins board visibility on profile')})}),(0,b.jsxs)(p.xu,{display:"flex",marginTop:1,marginBottom:8,children:[(0,b.jsx)(p.xu,{marginEnd:2,children:(0,b.jsx)(p.xv,{color:"subtle",children:o._('All Pins will be publicly visible to you and others when viewing your profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.explanation', 'Describes the switch to control all pins board visibility on profile')})}),(0,b.jsx)(p.rs,{id:"show_all_pins",switched:x,disabled:a,onChange:({value:e})=>{w(e,"show_all_pins",v,"ALL_PINS_VISIBILITY_SWITCH")}})]}),f&&(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(p.__,{htmlFor:"show_shopping_list",children:(0,b.jsx)(p.X6,{accessibilityLevel:3,size:"400",children:o._('Show Your shopping list', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.label', 'Title of the switch to control shopping list board visibility on profile')})}),(0,b.jsxs)(p.xu,{display:"flex",marginTop:1,children:[(0,b.jsx)(p.xu,{marginEnd:2,children:(0,b.jsx)(p.xv,{color:"subtle",children:o._('Your shopping list will only be visible to you when viewing your own profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.explanation', 'Describes the switch to control shopping list board visibility on profile')})}),(0,b.jsx)(p.rs,{id:"show_shopping_list",switched:y,disabled:a,onChange:({value:e})=>{w(e,"show_shopping_list",P,"SHOPPING_LIST_VISIBILITY_SWITCH")}})]})]})]})})}var $e=o(259986),Ye=o(851942),qe=o(340274),Xe=o(31739),Qe=o(925927),Je=o(946984),et=o(134679);function tt({currentTab:e}){const t=(0,d.ZP)(),[o,i]=(0,n.useState)(!1),s=(0,Qe.k6)(),r=(0,P.useDispatch)(),a=(0,h.Z)(),l=(0,u.Z)(),c=(0,f.lJ)(a,l),_=(0,Je.Z)({shouldStopEventPropagation:!1}),{logContextEvent:p}=(0,g.v)(),m=_((()=>{i(!0)})),x=_((e=>{const t=c&&(0,Xe.Z)(e)?`?orbac_subject_id=${c}`:"";r((0,Be.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),s.push(`${e.url||""}${t}`,{newBoard:!0})})),v=_((()=>{s.push("/pin-builder/")})),y=_((()=>{p({event_type:101,component:13056,element:10949,view_type:4,view_parameter:3106,aux_data:{entry_type:"profile_plus_button"}}),s.push({pathname:"/idea-pin-builder/",state:{entry_type:"profile_plus_button"}})}));return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(Ye.Z,{onCreateBoard:m,onCreatePin:v,onCreateStoryPin:y,surface:e===et.u.PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:n})=>(0,b.jsx)($e.Z,{accessibilityLabel:e===et.u.PINS?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"add",onClick:n,selected:o})}),o&&(0,b.jsx)(qe.Z,{onBoardCreate:x,onClose:()=>i(!1)})]})}function ot({username:e}){var t,o;const s=(0,ve.B)(),l=(0,h.Z)(),c=(0,u.Z)(),d=(0,n.useRef)(null),[,g]=(0,n.useState)(!1);(0,n.useLayoutEffect)((()=>{g(!0)}),[]);const{group:v}=(0,m.t)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),P="enabled"===v,{anyEnabled:w}=(0,m.t)("web_m10n_business_access_orbac_ga")(),[A,C]=(0,n.useState)(!1),E=null!==(t=null===(o=(0,x.x)())||void 0===o?void 0:o.boardSortOrder.get(e||""))&&void 0!==t?t:"",{data:T}=(0,$.Z)(),{data:j}=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!T||!j)return null;const{most_recent_board_sort_order:I}=j,{has_custom_board_sorting_order:S=!1}=T,z=(0,a.Z)({user:T,viewer:l}),k=(0,f.q6)(l,T.id,c),D=r({hasCustomOrder:S,hasGroupBoard:void 0!==l.groupBoardCount&&l.groupBoardCount>0,isOwnProfile:z||w&&k,mostRecentBoardSortOrder:I||void 0,updatedBoardOrder:E,requestContext:s});return(0,b.jsxs)(p.kC,{direction:"column",gap:2,children:[(0,b.jsx)(p.xu,{paddingX:4,children:(0,b.jsxs)(p.kC,{justifyContent:"between",children:[(z||w&&k)&&(0,b.jsx)(p.xu,{ref:d,children:(0,b.jsx)(y,{user:T,setVisibilityControlsModalOpen:C})}),(z||k)&&(0,b.jsx)(tt,{currentTab:et.u.SAVED})]})}),(0,b.jsx)(Ve,{boardOrder:D,filterStories:!1,isOwnProfile:z,mixPublicSecret:z||k,user:T,username:T.username}),A&&(0,b.jsx)(Ke,{setVisibilityControlsModalOpen:C}),P&&(0,b.jsx)(i.Z,{anchor:d.current,placementId:19,experienceIds:[504098],idealDirection:"down",showCaret:!0,textAlign:"center",textWeight:"normal",onClickComplete:()=>C(!0)})]})}var nt=o(357805);function it(){const{data:e}=(0,$.Z)(),t=(0,Qe.$B)();return(0,nt.S)(t.params.username,null==e?void 0:e.id,13669),(0,b.jsx)(ot,{username:t.params.username})}},51463:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Te});var n=o(667294),i=o(6637),s=o(499128),r=o(898781),a=o(708032),l=o(794230),c=o(966113),d=o(741982),u=o(883119),_=o(785893);function h({onClick:e,text:t}){const{merchantStorefrontSettings:{currentViewingLocale:{feedProfileId:o}}}=(0,d.S)(),n=o&&""!==o?`${c.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${o}/product-groups/create/`:c.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL,i=(0,l.Z)(n,{from:"storefront"});return(0,_.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(u.zx,{role:"link",href:i,rel:"none",onClick:e,size:"lg",text:t})})}var p=o(600224),m=o(306732),g=o(91214),f=o(677581),x=o(934523),b=o(349700),v=o(407043);const y=()=>{const{logContextEvent:e}=(0,v.v)(),t=(0,r.ZP)();return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{marginTop:-4,marginBottom:6,children:[(0,_.jsx)(u.xu,{marginBottom:2,children:(0,_.jsx)(u.xv,{size:"300",inline:!0,children:t._('Highlight the products you want shoppers to see first. Customize your product group display name, image and description for your existing product groups or create a new one to feature.', 'merchantStorefront.ProductGroupControls.subheader.text', 'Text for explaining the purpose of the product group controls sheet')})}),(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,_.jsx)(p.Z,{}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(h,{onClick:()=>e({event_type:9866,component:14001}),text:t._('Create product group', 'Storefront.ProductGroupControls.CreateProductGroup.button', 'Button to create product group from catalogs page')})})]})]})})},P=({featuredGroups:e=[],recommendedGroups:t=[],customGroups:o=[],checkedGroups:i=[],setSelectedGroup:s})=>{const{logContextEvent:a}=(0,v.v)(),l=(0,r.ZP)(),c=(e,t,o,n,r)=>{const c=i.includes(t),d=[m.EK.FEATURING,m.EK.FEATURED,m.EK.CAN_FEATURE].includes(r);return(0,_.jsx)(u.xu,{width:"100%",height:91,marginTop:4,marginBottom:4,borderStyle:"shadow",padding:2,rounding:5,children:(0,_.jsxs)(u.kC,{justifyContent:"start",alignItems:"center",children:[(0,_.jsx)(u.xu,{column:2,children:(0,_.jsx)(u.zd,{rounding:4,wash:!0,height:79,width:79,children:(0,_.jsx)("img",{alt:l._('product group cover image', 'merchantStorefront.ProductGroupControls.body.card.image', 'The cover image for a product group'),src:null==o?void 0:o.url})})}),(0,_.jsx)(u.xu,{column:7,padding:4,children:(0,_.jsxs)(u.kC,{justifyContent:"start",alignItems:"center",children:[(0,_.jsx)(u.X6,{size:"400",color:d?"default":"subtle",children:e}),!d&&(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.u,{text:(0,f.O)(r,l),idealDirection:"right",children:(0,_.jsx)(u.JO,{accessibilityLabel:l._('An exclamation point alert icon indicating issues, described on a tooltip', 'merchantStorefront.productGroupControlsSheet.ProductGroupCard.icon.accessibiltyLabel', 'The accessibility label for alert icon'),color:"subtle",icon:"alert",size:24})})})]})}),(0,_.jsx)(u.xu,{column:4,padding:4,children:(0,_.jsx)(u.xv,{size:"300",align:"forceRight",color:"subtle",children:(0,b.nk)(l.ngettext('{{productCount}} product', '{{productCount}} products', n, 'merchantStorefront.ProductGroupControls.ProductGroupCard.productCount', 'Number of products in a product group'),{productCount:n})})}),(0,_.jsx)(u.xu,{padding:2,column:1,children:(0,_.jsx)(u.XZ,{checked:c,id:t,label:"",name:e,disabled:!d,onChange:({checked:e})=>{s(t,e);a({event_type:e?9864:9865,component:14e3})}})})]})},t)};return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{marginTop:4,children:[e&&e.length>0&&(0,_.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,_.jsx)(u.X6,{size:"400",children:l._('Featured', 'merchantStorefront.ProductGroupControls.body.header.featured', 'Text indicating the product groups shown are currently being featured')}),e.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,_.jsx)("br",{}),t&&t.length>0&&(0,_.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,_.jsx)(u.X6,{size:"400",children:l._('Recommended for you', 'merchantStorefront.ProductGroupControls.body.header.recommended', 'Text indicating the product groups shown are recommended groups')}),t.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,_.jsx)("br",{}),o&&o.length>0&&(0,_.jsxs)(u.xu,{marginTop:2,marginBottom:2,children:[(0,_.jsx)(u.X6,{size:"400",children:l._('Your custom product groups', 'merchantStorefront.ProductGroupControls.body.header.custom', 'Text indicating the product groups shown are custom groups')}),o.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]})]})})},w=({isLoading:e=!1,onDismiss:t,onSave:o,featuredGroups:i=[],recommendedGroups:s=[],customGroups:a=[]})=>{const l=(0,r.ZP)(),c=new u.H3([new u.Ry(g.HW),new u.Ry(x.fe)]),[d,h]=(0,n.useState)([]);(0,n.useEffect)((()=>{e||h(i.map((({id:e})=>e)))}),[i,e]);return(0,_.jsx)(u.mh,{zIndex:c,children:(0,_.jsx)(u.yo,{accessibilityDismissButtonLabel:l._('Close storefront product group controls sheet', 'merchantStorefront.ProductGroupControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing storefront product group sheet'),accessibilitySheetLabel:l._('Product group controls for merchant storefront', 'merchantStorefront.ProductGroupControls.accessibilitySheetLabel', 'Accessibility text for opening storefront product group controls sheet'),heading:l._('Feature product groups', 'merchantStorefront.ProductGroupControls.title', 'Title for storefront product group controls sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.xv,{size:"300",weight:"bold",inline:!0,children:(0,b.nk)(l.ngettext('{{checkedCount}} product group selected', '{{checkedCount}} product groups selected', d.length, 'merchantStorefront.ProductGroupControls.changest', 'Tracks how many product groups were selected to edit'),{checkedCount:d.length})})}),(0,_.jsx)(u.xu,{children:(0,_.jsxs)(u.hE,{children:[(0,_.jsx)(u.zx,{color:"gray",text:l._('Cancel', 'merchantStorefront.ProductGroupControls.cancel', 'Cancel storefront product group changes'),onClick:e}),(0,_.jsx)(u.zx,{color:"red",text:l._('Save', 'Storefront.ProductGroupControls.save', 'Save storefront product group changes'),onClick:()=>{o(d)}})]})})]}),size:"md",children:e?(0,_.jsx)(u.$j,{show:!0,accessibilityLabel:"loading"}):(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(y,{}),(0,_.jsx)(P,{featuredGroups:i,customGroups:a,recommendedGroups:s,checkedGroups:d,setSelectedGroup:(e,t)=>{h(t?[...d,e]:d.filter((t=>t!==e)))}})]})})})};var A=o(645015),C=o(384606),E=o(343341),T=o(400264);function j({onDismiss:e}){const{logContextEvent:t}=(0,v.v)(),o=(0,r.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{country:l,language:c,feedProfileId:u}},updateStorefrontLastUpdated:h}=(0,d.S)(),{isLoaded:p,userId:m,settings:g,refresh:f}=(0,C.LO)(),{showOneToast:x}=(0,E.F9)(),b=(0,T.G7)({feedProfileId:u}),y=b.data||[],P=(0,T.Ib)({feedProfileId:u}),j=P&&P.data||[];(0,n.useEffect)((()=>{t({event_type:9861,component:14e3})}),[t]);const I=p&&P.isLoaded&&!P.isFetching&&b.isLoaded&&!b.isFetching,{featuredGroups:S,customGroups:z,recommendedGroups:k}=((e,t)=>{const o=[],n=[],i=[],s=[];return e&&t?(t.forEach((o=>{const n=e.find((e=>String(e.id)===o.id)),i={};i.name=o.name,i.id=o.id,i.image=o.preview_pins&&o.preview_pins[0]&&o.preview_pins[0].images&&o.preview_pins[0].images["170x"],i.isFeatured=!!o.featured_position,i.count=n&&n.product_count?n.product_count:0,i.isCustom="MERCHANT_CREATED"===o.group_type,i.featureStatus=(0,a._c)(t,i.id,""),s.push(i)})),s.forEach((e=>{e.isFeatured?o.push(e):e.isCustom?n.push(e):i.push(e)})),{featuredGroups:o,recommendedGroups:i,customGroups:n}):{featuredGroups:o,customGroups:n,recommendedGroups:i}})(j,y);return(0,_.jsx)(w,{isLoading:!I,onDismiss:()=>{e(),t({event_type:9863,component:14e3})},onSave:n=>{const r=new Set(y.filter((e=>!!e.featured_position)).map((({id:e})=>e))),a=new Set(n),d=new Set([...a.values()].filter((e=>!r.has(e)))),p=new Set([...r.values()].filter((e=>!a.has(e)))),v=[...d.values()].map((e=>i.ZP.create("FeaturedProductGroupsResource",{feedProfileId:u,productGroupId:e}).callCreate())),w=[...p.values()].map((e=>i.ZP.create("FeaturedProductGroupsResource",{feedProfileId:u,productGroupId:e}).callDelete())),C=`${l}/${c.toUpperCase()}`,E=new Set(g[C].featured_product_groups);p.forEach((e=>{E.delete(e)})),d.forEach((e=>{E.add(e)}));const T={...g,[C]:{...g[C]||{},featured_product_groups:[...E.values()]}},j=i.ZP.create("ApiResource",{url:`/v3/business/users/${m}/storefront/settings/`,data:{settings:JSON.stringify(T)}}).callUpdate();t({event_type:9862,component:14e3}),Promise.all([j,...v,...w]).then((()=>{e(),x((({hideToast:e})=>(0,_.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,_.jsx)(s.ZP,{duration:A.QE,onHide:e,text:o._('Product groups saved! Drag to reorder.', 'MerchantStorefront.ProductGroupControls.pgSaved', 'toast text')})}))),P.refresh(),b.refresh(),f(),h((new Date).getTime())})).catch((()=>{x((({hideToast:e})=>(0,_.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,_.jsx)(s.ZP,{duration:A.QE,onHide:e,variant:"error",text:o._('Failed to save or feature product groups. You can select up to 8 product groups to feature on your business profile.', 'MerchantStorefront.ProductGroupControls.error', 'toast text')})})))}))},featuredGroups:S,customGroups:z,recommendedGroups:k})}var I=o(826067),S=o(925927),z=o(259986);function k({bgColor:e}){const t=(0,n.useRef)(null),o=(0,S.TH)(),i="open"===(0,I.mB)(o.search).controls,[s,a]=(0,n.useState)(i),l=(0,r.ZP)();return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.xu,{ref:t,children:(0,_.jsx)(z.Z,{accessibilityLabel:l._('Product group controls button', 'Profile.User.Button.Icon.Product.Group.Controls', 'Icon for product group control on merchant profile'),bgColor:e,icon:"add",onClick:()=>a(!s),selected:s,size:"lg"})}),s&&(0,_.jsx)(j,{onDismiss:()=>a(!1)})]})}var D=o(704115),R=o(57636),O=o(564194),L=o(499385),F=o(925491);function M(e){const{children:t,footer:o,title:n,dataTestId:i}=e;return(0,_.jsxs)(u.xu,{marginBottom:10,paddingX:4,"data-test-id":i,children:[n&&(0,_.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(u.X6,{size:"500",children:n})}),t,o]})}var N=o(149230);function B({onClick:e,text:t,url:o}){const n=(0,N.Z)({url:o})?"nofollow":"none";return(0,_.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(u.zx,{role:"link",href:o,rel:n,onClick:e,size:"lg",text:t})})}var U=o(81667);function Z({bubble:e,slotIndex:t,storyId:o,viewParameter:i,source:s,title:r}){const{logContextEvent:a}=(0,v.v)();(0,n.useEffect)((()=>{L.Z.StructuredFeed.Categories.viewCategory({id:o,source:s,title:r},a)}),[]);return(0,_.jsx)(R.Z,{bubble:e,height:118,onClick:()=>L.Z.StructuredFeed.Categories.tapCategory({id:o,source:s,title:r},a),referringSource:"merchantStorefront",slotIndex:t,storyId:o,viewParameter:i,viewType:4,width:U.Ny})}function G(e){const{logContextEvent:t}=(0,v.v)(),{data:o,source:n,viewParameter:i}=e,{footer:s,id:r,items:a,title:c}=o,d=s&&(0,_.jsx)(O.Z,{contextLogData:{story_id:r,story_type:s.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,F.Z)(n),children:(0,_.jsx)(B,{onClick:()=>L.Z.StructuredFeed.Categories.tapSeeMoreCategories({id:r,source:n},t),text:s.text,url:(0,l.Z)(s.url,{source:n})})});return(0,_.jsx)(O.Z,{contextLogData:{story_id:r,story_type:"storefront_category_bubbles"},impressionType:"Story",viewParameter:3512,viewType:(0,F.Z)(n),children:(0,_.jsx)(M,{title:null==c?void 0:c.text,footer:d,dataTestId:"storefront-categories-module",children:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"center",paddingY:6,wrap:!0,children:a.map(((e,t)=>{var o;const s=(0,l.Z)((null===(o=e.action)||void 0===o?void 0:o.url)||"",{source:n}),r={...e,action:{...e.action,url:s}};return(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(Z,{bubble:r,slotIndex:t,storyId:e.id,viewParameter:i,source:n,title:e.title.format})},e.id)}))})})})}var H=o(767449),V=o(623568),W=o(558774),K=o(35495);function $(e){const{data:t,isOwnProfile:o,merchant:i,source:s,storefrontResource:a}=e,{footer:c,title:d}=t,h=(0,F.Z)(s),p=(0,r.ZP)(),{logContextEvent:m}=(0,v.v)();(0,n.useEffect)((()=>{L.Z.StructuredFeed.PinsFeed.viewPinsFeed({id:null==d?void 0:d.id,OwnerUserId:i.id,pinsFeedTitle:null==d?void 0:d.text,source:s},m)}),[]);const g=e=>{const t={...(0,K.Zs)(e),board_owner_id:i.id,pin_is_promoted:(0,V.jL)(e)},o=(0,K.Sn)(t)||{};L.Z.StructuredFeed.PinsFeed.tapPin({commerceData:o,source:s},m)},f=c&&(0,_.jsx)(B,{text:c.text,url:(0,l.Z)(c.url,{storefront:1})}),x=d&&(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,_.jsx)(O.Z,{impressionType:"Story",viewType:h,viewParameter:3512,contextLogData:{story_id:d.id,story_type:"storefront_header"},children:(0,_.jsx)(u.xu,{children:d.text})}),d.allProductLink&&(0,_.jsx)(u.xu,{position:"absolute",paddingX:4,right:!0,children:(0,_.jsx)(u.zx,{accessibilityLabel:p._('Button to view all the merchant\'s products', 'MerchantStorefront.structuredFeed.shopAllProducts.accessibilityLabel', 'The accessibility label for the button to show the merchant "All Products" pins'),size:"lg",text:p._('Shop all products', 'MerchantStorefront.structuredFeed.shopAllProducts.text', 'Button to open a view with all the merchant\'s product pins'),role:"link",href:d.allProductLink||"",color:"transparent"})})]});return(0,_.jsx)(M,{title:x,footer:f,dataTestId:"storefront-pins-module",children:(0,_.jsx)(W.QI,{renderPin:({data:e,itemIdx:t})=>(0,_.jsx)(H.Z,{componentType:null,merchant:i,onClick:g,pin:e,slotIndex:t,surface:"pdp"===s?"ShoppingSquareGridStorefrontDomain":"ShoppingSquareGridStorefront",viewParameter:3512,viewType:h}),isGridCentered:!0,isOverview:!1,isOwnProfile:o,layout:"basicCentered",onClick:g,pins:a,surface:"ShoppingGridShippedMetadata",user:i,username:i.username})})}var Y=o(319915),q=o(140555),X=o(207112);function Q({children:e,onClick:t,productGroup:o,showControls:i,url:s,width:a}){const l=(0,r.ZP)(),c=(0,N.Z)({url:s})?"nofollow":"none",d=l._('Edit product group display', 'ProductGroup.editTooltip', 'Tooltip text for the edit product group button'),[h,p]=(0,n.useState)();return(0,_.jsxs)(u.Zb,{children:[(0,_.jsxs)(u.xu,{position:"relative",children:[(0,_.jsx)(u.iP,{role:"link",rel:c,onTap:t,href:s,children:(0,_.jsxs)(u.xu,{"data-test-id":`productGroup-${o.name}`,width:a,children:[(0,_.jsx)(u.xu,{position:"relative",children:e}),(0,_.jsx)(u.xu,{display:"flex",alignItems:"end",paddingY:1,children:(0,_.jsx)(u.xu,{padding:2,flex:"grow",overflow:"hidden",children:(0,_.jsx)(u.X6,{size:"400",children:(0,_.jsx)(X.Z,{maxHeightPx:70,children:o.name})})})})]})}),i&&(0,_.jsx)(u.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,_.jsx)(u.u,{text:d,idealDirection:"down",children:(0,_.jsx)(u.hU,{accessibilityLabel:d,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>p(!0),size:"lg"})})})]}),i&&h&&(0,_.jsx)(Y.Z,{name:"ProductGroupDetailsModal",children:(0,_.jsx)(q.Z,{onDismiss:()=>p(!1),onSubmit:()=>p(!1),productGroup:o})})]})}var J=o(701907),ee=o(755720);function te({onClick:e,productGroup:t,showControls:o,url:n}){return(0,_.jsx)(Q,{onClick:e,productGroup:t,url:n,width:320,showControls:o,children:(0,_.jsx)(J.Z,{height:213,numCols:ee.X,pins:t.preview_pins,rounding:4,width:320})})}var oe=o(27038),ne=o(487392),ie=o(784590),se=o(345221),re=o(281615),ae=o(217468),le=o(583421),ce=o(278380);const de={previewIndex:-1,sourceIndex:-1,target:null};function ue({merchantName:e,productGroup:t,showControls:o,source:i,isControlsExpEnabled:s}){const{logContextEvent:r}=(0,v.v)();(0,n.useEffect)((()=>{L.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:t.id,source:i},r)}),[]);const a=()=>L.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:t.id,source:i},r);return s?(0,_.jsx)(oe.Z,{onClick:a,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`}):(0,_.jsx)(te,{onClick:a,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`})}const _e=(0,se.Z)(le.y.Section)((function(e){const{logContextEvent:t}=(0,v.v)(),{data:o,merchantName:s,source:r,storefrontResource:a}=e,{footer:c,items:h,title:p}=o,[m,g]=(0,n.useState)(de),f=h.reduce(((e,t)=>({...e,[t.id]:t})),{}),[x,b]=(0,n.useState)(h.map((e=>e.id)));(0,n.useEffect)((()=>{b(h.map((e=>e.id)))}),[h]);const{ownerUserId:y}=(0,ne.Z)(),P=(0,ie.Z)({name:"ApiResource",options:{url:`/v3/business/users/${y}/storefront/settings/`}}),{merchantStorefrontSettings:{currentViewingLocale:{country:w,language:E}}}=(0,d.S)(),T=(0,ie.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}}),{country:j,locale:I}=T.data||{},S=`${w||j}/${(E||(0,A.Md)(I)).toUpperCase()}`,z=c&&(0,_.jsx)(O.Z,{contextLogData:{story_id:c.id,story_type:c.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,F.Z)(r),children:(0,_.jsx)(B,{onClick:()=>L.Z.StructuredFeed.ProductGroups.tapSeeMoreProductGroups({id:c.id,source:r},t),text:c.text,url:(0,l.Z)(c.url,{source:r})})});function k(e){g({previewIndex:e,sourceIndex:e,target:null})}function D(e){const o=m&&m.target;if(!e||!m||!o||o.index===m.sourceIndex){g(de);const e=[...h];if(P.data&&P.data[S].featured_product_groups){const t=P.data[S].featured_product_groups;e.sort(((e,o)=>{const n=t.indexOf(e.id),i=t.indexOf(o.id);return n===i?0:o.group_type===A.yh||-1===n?1:e.group_type===A.yh||-1===i?-1:n-i}))}return void b(e.map((e=>e.id)))}const{previewIndex:n}=m,{index:s}=o;g(de);const r=(0,re.zX)(x,n,s),l=new Set(P.data?P.data[S].featured_product_groups:[]),c={...P.data,[S]:{...P.data&&P.data[S]||{},featured_product_groups:r.concat([...l])}};i.ZP.create("ApiResource",{url:`/v3/business/users/${y}/storefront/settings/`,data:{settings:JSON.stringify(c)}}).callUpdate().then((()=>{P.refresh(),a.refresh()})),t({event_type:9869,component:14004})}function R(e,t){const o={itemIndex:e,regionWithinItem:(0,ce.TI)({hoverRelativePosition:t,centerEnabled:e!==m.previewIndex})},n={index:(0,ce.X3)({hoverLocation:o,sourceIndex:m.previewIndex})};n.index!==m.previewIndex?(g({...m,target:n,previewIndex:n.index}),b((0,re.zX)(x,m.previewIndex,n.index))):m.target&&m.target.index!==n.index&&g({...m,target:n})}const N=(0,C.N0)(),U=(0,ae.t)("web_merchant_success_storefront_controls")().anyEnabled,Z=(0,ae.t)("web_merchant_storefront_controls_international")().anyEnabled,G=U||Z;return(0,_.jsx)(M,{title:null==p?void 0:p.text,footer:z,dataTestId:"storefront-product-groups-module",children:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"center",marginBottom:8,wrap:!0,children:x.map((e=>f[e])).map(((e,t)=>e&&(0,_.jsx)(u.xu,{padding:2,children:N&&e.group_type!==A.yh?(0,_.jsx)(le.Z,{index:t,onDragBegin:k,onDragEnd:D,onDragHover:R,type:le.y.Section,children:(0,_.jsx)(ue,{merchantName:s,productGroup:e,showControls:N,source:r,isControlsExpEnabled:G})}):(0,_.jsx)(ue,{merchantName:s,productGroup:e,showControls:N,source:r,isControlsExpEnabled:G})},e.id)))})})}));var he=o(698726);const pe=(e,t)=>({ms:e._('Malay', 'merchantStorefront.hiddenShopBanner.language.Malay', 'The language name of the language code ms'),ru:e._('Russian', 'merchantStorefront.hiddenShopBanner.language.Russian', 'The language name of the language code ru'),en:e._('English', 'merchantStorefront.hiddenShopBanner.language.English', 'The language name of the language code en'),cs:e._('Czech', 'merchantStorefront.hiddenShopBanner.language.Czech', 'The language name of the language code cs'),nb:e._('Norwegian', 'merchantStorefront.hiddenShopBanner.language.Norwegian', 'The language name of the language code nb'),el:e._('Greek', 'merchantStorefront.hiddenShopBanner.language.Greek', 'The language name of the language code el'),pt:e._('Portuguese', 'merchantStorefront.hiddenShopBanner.language.Portuguese', 'The language name of the language code pt'),tr:e._('Turkish', 'merchantStorefront.hiddenShopBanner.language.Turkish', 'The language name of the language code tr'),te:e._('Telugu', 'merchantStorefront.hiddenShopBanner.language.Telugu', 'The language name of the language code te'),hi:e._('Hindi', 'merchantStorefront.hiddenShopBanner.language.Hindi', 'The language name of the language code hi'),zh:e._('Chinese', 'merchantStorefront.hiddenShopBanner.language.Chinese', 'The language name of the language code zh'),es:e._('Spanish', 'merchantStorefront.hiddenShopBanner.language.Spanish', 'The language name of the language code es'),hu:e._('Hungarian', 'merchantStorefront.hiddenShopBanner.language.Hungarian', 'The language name of the language code hu'),sk:e._('Slovak', 'merchantStorefront.hiddenShopBanner.language.Slovak', 'The language name of the language code sk'),fr:e._('French', 'merchantStorefront.hiddenShopBanner.language.French', 'The language name of the language code fr'),da:e._('Danish', 'merchantStorefront.hiddenShopBanner.language.Danish', 'The language name of the language code da'),ko:e._('Korean', 'merchantStorefront.hiddenShopBanner.language.Korean', 'The language name of the language code ko'),uk:e._('Ukrainian', 'merchantStorefront.hiddenShopBanner.language.Ukrainian', 'The language name of the language code uk'),fi:e._('Finnish', 'merchantStorefront.hiddenShopBanner.language.Finnish', 'The language name of the language code fi'),nl:e._('Dutch', 'merchantStorefront.hiddenShopBanner.language.Dutch', 'The language name of the language code nl'),de:e._('German', 'merchantStorefront.hiddenShopBanner.language.German', 'The language name of the language code de'),tl:e._('Tagalog', 'merchantStorefront.hiddenShopBanner.language.Tagalog', 'The language name of the language code tl'),pl:e._('Polish', 'merchantStorefront.hiddenShopBanner.language.Polish', 'The language name of the language code pl'),ro:e._('Romanian', 'merchantStorefront.hiddenShopBanner.language.Romanian', 'The language name of the language code ro'),ja:e._('Japanese', 'merchantStorefront.hiddenShopBanner.language.Japanese', 'The language name of the language code ja'),ar:e._('Arabic', 'merchantStorefront.hiddenShopBanner.language.Arabic', 'The language name of the language code ar'),bn:e._('Bangla', 'merchantStorefront.hiddenShopBanner.language.Bangla', 'The language name of the language code bn'),it:e._('Italian', 'merchantStorefront.hiddenShopBanner.language.Italian', 'The language name of the language code it'),id:e._('Indonesian', 'merchantStorefront.hiddenShopBanner.language.Indonesian', 'The language name of the language code id'),sv:e._('Swedish', 'merchantStorefront.hiddenShopBanner.language.Swedish', 'The language name of the language code sv'),vi:e._('Vietnamese', 'merchantStorefront.hiddenShopBanner.language.Vietnamese', 'The language name of the language code vi'),th:e._('Thai', 'merchantStorefront.hiddenShopBanner.language.Thai', 'The language name of the language code th')}[t]),me=()=>{const e=(0,r.ZP)(),[t,o]=(0,n.useState)(!1),{countries:i,feedProfiles:s,settings:a,userId:l,refresh:c}=(0,C.LO)(),{merchantStorefrontSettings:{currentViewingLocale:{country:h,language:p}},updateStorefrontLastUpdated:m}=(0,d.S)(),g=()=>{o(!0)};return!(0,A.c8)(a[[h||"",p||""].join("/").toUpperCase()])?(0,_.jsxs)(u.xu,{marginBottom:8,paddingX:8,width:"100%",display:"flex",justifyContent:"center",children:[(0,_.jsxs)(u.xu,{minHeight:134,paddingY:4,width:1496,dangerouslySetInlineStyle:{__style:{backgroundColor:"#FDF5EC"}},rounding:4,display:"flex",children:[(0,_.jsx)(u.xu,{height:"100%",marginStart:8,marginEnd:6,display:"flex",alignItems:"center",children:(0,_.jsx)(u.JO,{icon:"workflow-status-warning",accessibilityLabel:e._('Warning icon', 'merchantStorefront.hiddenShopBanner.warningIcon.accessibilityLabel', 'The accessibility label for the warning icon of the merchant storefront hidden shop banner'),color:"warning",size:32})}),(0,_.jsxs)(u.xu,{height:"100%",marginEnd:6,display:"flex",direction:"column",alignItems:"start",justifyContent:"center",maxWidth:1124,children:[(0,_.jsx)(u.xu,{marginBottom:2,children:(0,_.jsx)(u.X6,{size:"400",children:e._('Your shop is hidden in this region/language', 'merchantStorefront.hiddenShopBanner.heading', 'The heading of the merchant storefront hidden shop banner')})}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.xv,{size:"300",children:(0,b.nk)(e._('{{ language }} speaking people in the {{ country }} can\'t see your shop. You can preview the shop, but people in this region/language won\u2019t see it until you make the shop visible.', 'merchantStorefront.hiddenShopBanner.text', 'The body text of the merchant storefront hidden shop banner'),{language:pe(e,p),country:i[h]})})})]}),(0,_.jsx)(u.xu,{height:"100%",marginEnd:12,display:"flex",alignItems:"center",children:(0,_.jsx)(u.zx,{accessibilityLabel:e._('Manage shop visibility button', 'merchantStorefront.hiddenShopBanner.button.accessibilityLabel', 'The accessibilityLabel of the merchant storefront hidden shop banner button'),size:"lg",text:e._('Manage shop visibility', 'merchantStorefront.hiddenShopBanner.button.text', 'The text of the merchant storefront hidden shop banner button'),color:"white",onClick:g})})]}),t&&(0,_.jsx)(he.Z,{countries:i,feedProfiles:s,onDismiss:()=>o(!1),onSubmit:()=>{c(),m((new Date).getTime())},onUndo:g,settings:a,userId:l})]}):null};var ge=o(430323),fe=o(19121);const xe=function({merchant:e,source:t,storefrontData:o,storefrontResource:i}){const{explorearticle:s,pin:r,productgroup:a}=o,{id:l,username:c}=e,{logContextEvent:d}=(0,v.v)();(0,n.useEffect)((()=>{L.Z.StructuredFeed.viewStructuredFeed({merchantId:l,source:t},d)}),[]);const u=(0,fe.Z)(),h=u.isAuth&&u.username===c,p=h?3106:3107,m=!u.isLimitedLogin&&a&&(0,_.jsx)(_e,{data:a,merchantName:c,source:t,storefrontResource:i},"productGroupsModule"),g=s&&(0,_.jsx)(G,{data:s,source:t,viewParameter:p},"categoriesModule"),f=r&&(0,_.jsx)($,{data:r,isOwnProfile:h,merchant:e,source:t,storefrontResource:i},"pinsModule"),x=[m,g];x["pdp"===t?"unshift":"push"](f);const b=(0,C.t8)();return(0,_.jsx)(ge.Z,{component:237,view:4,viewParameter:p,children:(0,_.jsxs)(n.Fragment,{children:[b&&(0,_.jsx)(me,{}),x]})})};function be(e){return e.type===U.sy.story&&e.story_type===U.sy.header}function ve(e){return e.type===U.sy.story&&U.sy.footers.includes(e.story_type)}const ye=function(e){const t=[];for(const o of e)o.type===U.sy.story&&[U.sy.header,U.sy.bubblesStory].includes(o.story_type)||!t.length?t.push([o]):t[t.length-1].push(o);return t.map((e=>{let t;const o=e.find(ve);let n;o&&(t={id:o.id,story_type:o.story_type,text:o.button_text.format,url:o.action.url});const i=e.find(be);var s;i&&(n={id:i.id,text:i.title.format,allProductLink:null===(s=i.action)||void 0===s?void 0:s.url});let r,a=e.filter((e=>!be(e)&&!ve(e)));const l=e.find((e=>e.type===U.sy.story&&e.story_type===U.sy.bubblesStory));return l&&(n={text:l.title.format},a=a[0].objects,r=l.id),{footer:t,title:n,id:r,items:a,label:a[0].type}})).reduce(((e,t)=>{const{footer:o,title:n,id:i,items:s,label:r}=t;return{...e,[r]:{footer:o,id:i,title:n,items:s}}}),{})};var Pe=o(86551),we=o(357805);function Ae(){return(0,C.tt)(),null}function Ce({country:e,language:t,lastUpdated:o}){const{search:n}=(0,S.TH)(),{params:{username:i}}=(0,S.$B)(),s=(0,ae.t)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:r,group:a}=s({dangerouslySkipActivation:!0});a.includes("pwt")||s();const{data:l}=(0,Pe.Z)();(0,we.G)(i,3313);const{pin:c,search_query:d,source:h}=(0,D.Z)(n),m=(0,C.N0)(),g=(0,C.t8)(),f=g?{country:e,language:t}:{},x=(0,ie.Z)({name:"StoreFrontFeedResource",options:{field_set_key:r?"shopping_grid_item":"grid_item",pin:c,search_query:d,shop_source:c?"product_detail_page":null,source:h,userId:l?l.id:void 0,username:i,last_updated:o,...f}}),{data:b}=x;return l?(0,_.jsxs)(u.xu,{children:[(0,_.jsxs)(u.kC,{alignItems:"stretch",direction:"row",justifyContent:"between",children:[(0,_.jsx)(u.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:m&&(0,_.jsx)(p.Z,{})}),(0,_.jsx)(u.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:g&&(0,_.jsx)(k,{})})]}),b?(0,_.jsx)(xe,{merchant:l,source:c?"pdp":"profile",storefrontData:ye(b),storefrontResource:x}):null,g&&(0,_.jsx)(Ae,{})]}):null}function Ee(){const{merchantStorefrontSettings:{currentViewingLocale:{country:e,language:t},lastUpdated:o}}=(0,d.S)();return(0,_.jsx)(Ce,{country:e,language:t,lastUpdated:o})}const Te=()=>{const{params:{username:e}}=(0,S.$B)(),{data:t}=(0,Pe.Z)();return(0,we.S)(e,t?t.id:null,13670),null!=t&&t.has_catalog?(0,_.jsx)(Ee,{}):null}},117855:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var n=o(430323),i=o(883119),s=o(558774),r=o(785893);const a=function(e){const{isOwnProfile:t,user:o}=e,{username:a}=o,l=t?3106:3107;return(0,r.jsx)(n.Z,{view:4,viewParameter:l,component:13322,children:(0,r.jsx)(i.xu,{children:(0,r.jsx)(s.pP,{isOwnProfile:t,user:o,username:a})})})};var l=o(86551),c=o(19121),d=o(357805),u=o(925927);function _(e){const t=(0,u.$B)(),o=(0,c.Z)(),n=(0,l.Z)();(0,d.G)(t.params.username,3240);const i=o.isAuth&&o.username===t.params.username;return n&&n.data?(0,r.jsx)(a,{isOwnProfile:i,user:n.data}):null}},375553:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var n=o(430323),i=o(558774),s=o(785893);const r=function(e){const{isOwnProfile:t,user:o}=e,r=t?3106:3107;return(0,s.jsx)(n.Z,{view:4,viewParameter:r,component:13364,children:(0,s.jsx)(i.Ol,{isOwnProfile:t,user:o,username:o.username})})};var a=o(86551),l=o(19121),c=o(357805),d=o(925927);function u(e){const t=(0,d.$B)(),o=(0,a.Z)(),n=(0,l.Z)();(0,c.G)(t.params.username,3272);const i=n.isAuth&&n.username===t.params.username;return o&&o.data?(0,s.jsx)(r,{isOwnProfile:i,user:o.data}):null}},558774:(e,t,o)=>{o.d(t,{Ol:()=>w,QI:()=>y,ZP:()=>A,pP:()=>P});var n=o(667294),i=o(572551),s=o(301921),r=o(730320),a=o(104258),l=o(430323),c=o(784590),d=o(19121),u=o(444445),_=o(623568),h=o(232843),p=o(396704),m=o(898781),g=o(330899),f=o(883119),x=o(785893);function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class v extends n.Component{constructor(...e){super(...e),b(this,"masonryRef",{current:null}),b(this,"renderPin",(({data:e,itemIdx:t})=>{const{componentType:o,isOwnProfile:n,onClick:i,surface:r,user:a,viewParameter:l,viewType:c}=this.props;switch(e.type){case"module":return e.name===p.o?(0,x.jsx)(p.Z,{}):null;case"pin":default:const d=n?3106:3107;return(0,x.jsx)(f.iP,{onTap:()=>i&&i(e),children:(0,x.jsx)(s.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:null!=r?r:"UserProfilePinGrid",trackingParameters:{contextLogData:{commerce_data:{board_owner_id:null==a?void 0:a.id,pin_is_promoted:(0,_.jL)(e)}},componentType:void 0===o?237:o,slotIndex:t,viewParameter:l||d,viewType:c||4}})})}}))}componentDidUpdate(e){this.props.profilePinView!==e.profilePinView&&this.masonryRef.current&&this.masonryRef.current.reflow()}render(){var e;const{emptyState:t,isGridCentered:o,isOverview:n,isOwnProfile:s,layout:c,limit:d,nativePins:_,onload:p,pins:m,profilePinView:g,showNativePins:b,surface:v,user:y,username:P,renderPin:w}=this.props,{fetchMore:A,isAtEnd:C,isFetching:E,isLoaded:T}=m,j=(null!==(e=m.data)&&void 0!==e?e:[]).filter((e=>"pin"===(null==e?void 0:e.type)));if(T&&p&&p(j?j.length:0),T&&_&&!s&&(!j||!j.length))return null;let I,S;d||n?(I="gridCentered",S={marginTop:12}):o&&(b&&_||!b)?(I="gridCentered",S={marginTop:24}):o&&(I="gridCentered");let z=_?`${P}:pins`:`${P}:pins:native`;z=g?`${z}:${g}`:void 0;const k=s?3106:3107,D=d?()=>{}:A,R="OtherProfilePinGrid"===v||"dense"===g?2/3*u.yF:u.yF,O="OtherProfilePinGrid"===v||"dense"===g?2/3*16:16,L=w||this.renderPin,F=n?(0,x.jsx)(i.default,{cacheKey:z,columnWidth:R,comp:L,gutterWidth:O,isAtEnd:C,isFetching:E,isGridCentered:o,isLoaded:T,items:j,layout:c,loadItems:D,masonryRef:this.masonryRef,paddingStyle:"dense",serverRender:!1,virtualize:!1}):(0,x.jsx)(i.default,{cacheKey:z,columnWidth:R,comp:L,gutterWidth:O,isAtEnd:C,isFetching:E,isGridCentered:o,isLoaded:T,items:j,layout:c,loadItems:A,masonryRef:this.masonryRef}),M=t||(0,x.jsx)(r.Z,{marginTop:s?0:5,textSize:s?"sm":"md",children:(0,x.jsx)(a.Z,{subject:"pins",surface:"profile",user:y})});return(0,x.jsx)(l.Z,{component:210,view:4,viewParameter:k,children:(0,x.jsx)(h.H,{value:{onPinCreate:()=>{this.props.pins.refresh()},onPinDelete:()=>{this.props.pins.refresh()}},children:(0,x.jsxs)("div",{className:I,style:S,children:[T&&(j&&0!==j.length?null:M),T&&j?(0,x.jsx)(f.xu,{"data-test-id":"user-profile-pin-grid",children:F}):null,E&&(0,x.jsx)(f.xu,{paddingY:3,position:"relative",children:(0,x.jsx)(f.$j,{accessibilityLabel:this.props.i18n._('Loading Pins on profile', ' - ', ' -- '),show:b&&_||!b})})]})})})}}function y(e){var t,o;const n=(0,m.ZP)(),i=null!==(t=null===(o=(0,g.x)())||void 0===o?void 0:o.profilePinDensity)&&void 0!==t?t:"";return(0,x.jsx)(v,{...e,i18n:n,profilePinView:i})}function P(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserStoryPinsFeedResource",options:{exclude_add_pin_rep:!0,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(y,{...e,pins:o})}function w(e){var t;const o=(0,d.Z)(),n=(0,c.Z)({name:"UserVideoPinsFeedResource",options:{exclude_add_pin_rep:!0,username:null===(t=e.user)||void 0===t?void 0:t.username,field_set_key:o.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(y,{...e,pins:n})}function A(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserPinsResource",options:{is_own_profile_pins:e.isOwnProfile,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item",pin_filter:null}});return(0,x.jsx)(y,{...e,pins:o})}b(v,"defaultProps",{isGridCentered:!0})},460465:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(667294),i=o(406379),s=o(430323),r=o(784590),a=o(19121),l=o(558774),c=o(785893);function d({isOwnProfile:e,user:t}){const o=(0,a.Z)(),n=(0,r.Z)({name:"BusinessProfileUserPinsResource",options:{exclude_add_pin_rep:!0,username:t.username,is_own_profile_pins:e,user_id:t.id,field_set_key:o.isPartner&&e?"partner_grid_item":"grid_item"}});return!n.isLoaded||n.data&&0!==n.data.length?(0,c.jsx)(s.Z,{view:4,viewParameter:e?3106:3107,component:210,children:(0,c.jsx)(l.QI,{isOverview:!1,isOwnProfile:e,pins:n,showNativePins:!0,user:t,username:t.username})}):(0,c.jsx)(i.Z,{fullName:t.full_name,isOwnProfile:e,isPartnerProfile:!0})}var u=o(883119);const _=e=>{const{label:t,sublabel:o}=e;return(0,c.jsx)(u.xu,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:(0,c.jsxs)(u.xu,{children:[(0,c.jsx)(u.X6,{size:"400",children:t}),(0,c.jsx)(u.xu,{marginTop:1,children:(0,c.jsx)(u.xv,{children:o})})]})})};var h=o(898781),p=o(86551),m=o(184451),g=o(349700),f=o(357805),x=o(281180),b=o(925927);function v(e){var t,o,s,r;const v=(0,h.ZP)(),y=(0,a.Z)(),P=(0,b.$B)(),w=(0,p.Z)();(0,f.G)(P.params.username,74);const A=(0,x.kW)(),C=y.isAuth?A[y.id]:void 0,E=null!==(t=null==C?void 0:C.scheduled_pin_count)&&void 0!==t?t:null;if(!w.data)return null;const T=y.isAuth&&y.username===P.params.username,j=null!==(o=w.data)&&void 0!==o?o:{},I=E||j.scheduled_pin_count||0,S=T&&y.isPartner&&I>0,z=j.show_creator_profile&&y.isAuth;return(0,c.jsxs)(n.Fragment,{children:[S&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(m.Z,{username:null!==(s=P.params.username)&&void 0!==s?s:""}),(0,c.jsx)(u.W2,{children:(0,c.jsx)(_,{label:v._('Published Pins', 'title for published Pins', 'title for published Pins'),sublabel:(0,g.nk)(v.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null !== (r = j.pin_count) && void 0 !== r ? r : 0, 'Label for the number of pins a user has', 'Label for the number of pins a user has'),{pinCount:j.pin_count})})})]}),z?(0,c.jsx)(d,{isOwnProfile:T,user:j}):(0,c.jsx)(l.ZP,{emptyState:(0,c.jsx)(i.Z,{fullName:j.full_name,isOwnProfile:T}),isOwnProfile:T,showNativePins:!0,user:j,username:P.params.username||""})]})}},767449:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(301921),i=o(623568),s=o(372169),r=o(883119),a=o(785893);function l({commerceData:e,componentType:t,height:o=s.Je,merchant:l,onClick:c,pin:d,slotIndex:u,surface:_,viewParameter:h,viewType:p}){return(0,a.jsx)(r.xu,{height:o,margin:s.iO,width:s.jh,children:(0,a.jsx)(r.iP,{onTap:()=>c(d),children:(0,a.jsx)(n.default,{attributionOption:"hide",pin:d,pinId:d.id,surface:_||"ShoppingGridShippedMetadata",trackingParameters:{contextLogData:{commerce_data:{...e,board_owner_id:l.id,pin_is_promoted:(0,i.jL)(d)}},componentType:t,slotIndex:u,viewParameter:h,viewType:p}})})})}},396704:(e,t,o)=>{o.d(t,{Z:()=>u,o:()=>d});var n=o(898781),i=o(19121),s=o(444445),r=o(407043),a=o(946984),l=o(883119),c=o(785893);const d="AddPinRep";function u({ctaText:e,handleClick:t,height:o,iconSize:d,textSize:u}){const{logContextEvent:_}=(0,r.v)(),h=(0,n.ZP)(),p=(0,i.Z)(),m=(0,a.Z)({shouldStopEventPropagation:!1})((()=>{t&&t(),p.isPartner&&_({event_type:101,component:0,element:10643})}));return(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.iP,{role:"link",onTap:m,href:"/pin-builder/",children:(0,c.jsxs)(l.Zb,{children:[(0,c.jsx)(l.xu,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:o||s.yF,justifyContent:"center",rounding:2,width:o||void 0,children:(0,c.jsx)(l.xu,{color:"white",height:d||40,rounding:"circle",width:d||40,children:(0,c.jsx)(l.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:d||40})})}),(0,c.jsx)(l.xu,{padding:2,children:(0,c.jsx)(l.xv,{color:"subtle",size:u||"lg",weight:"bold",children:e||h._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},957885:(e,t,o)=>{function n(e,t){return e?t._('Title too long. Make sure all cards\' titles have less than 100 characters', 'Title entered is too long while editing a carousel pin and/or one of its pins', 'Title entered is too long while editing a carousel pin and/or one of its pins'):t._('Title too long. Make sure title has less than 100 characters', 'Title entered is too long while editing a pin', 'Title entered is too long while editing a pin')}function i(e,t){return e?t._('Description too long. Make sure all cards\' descriptions have less than 500 characters', 'Description entered is too long while editing a carousel pin and/or one of its pins', 'Description entered is too long while editing a carousel pin and/or one of its pins'):t._('Description too long. Make sure description has less than 500 characters', 'Description entered is too long while editing a pin', 'Description entered is too long while editing a pin')}function s(e,t){return t._('Too many mentions. Make sure you have at most 5.', 'editPinModal.errorMessages.userMentionOverLimit', 'Too many mentions used in the description')}function r(e,t){return e?t._('Need to provide a valid URL. Make sure all cards\' links are valid', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins'):t._('Need to provide a valid URL. Make sure the link is valid', 'Invalid URL/link provided while editing a pin', 'Invalid URL/link provided while editing a pin')}o.d(t,{MM:()=>i,Y8:()=>n,bl:()=>s,qj:()=>r})},623122:(e,t,o)=>{o.d(t,{I:()=>r,Z:()=>s});var n=o(784590);const i=({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:i})=>{const{data:s,isLoaded:r}=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),a=[{name:o,src:i,href:`/${t}/`,isDim:!1}];return r&&s&&s.length>0&&s.forEach((e=>{a.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),a},s=i;function r({children:e,...t}){return e(i(t))}},851942:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(898781),s=o(13788),r=o(883119),a=o(785893);function l({anchor:e,hideAddSectionTooltip:t}){const o=(0,i.ZP)();return(0,a.jsx)(r.mh,{children:(0,a.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,a.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:(0,a.jsx)(r.xu,{padding:4,children:(0,a.jsx)(r.xv,{color:"inverse",weight:"bold",children:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section')})})})})})}var c=o(217468);function d({anchor:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:l,onClose:d,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:h,surface:p,isWithinFixedContainer:m}){const g=(0,i.ZP)(),{anyEnabled:f}=(0,c.a)("web_story_pin_creator"),{anyEnabled:x}=(0,c.a)("web_idea_pin_pinner_rollout"),{anyEnabled:b}=(0,c.a)("web_sp2s"),v=(0,n.useMemo)((()=>({pin:g._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:b?g._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'):g._('Story Pin', 'BoardActionsButton.LegoFlyout.StoryPin', 'Option to create a Story Pin'),board:g._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:g._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:g._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:g._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:g._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')})),[g,b]);return(0,a.jsxs)(r.Lt,{id:"board_actions",anchor:e,idealDirection:t||"down",onDismiss:d,isWithinFixedContainer:m,children:[(0,a.jsx)(r.Lt.Section,{label:g._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[(0,a.jsx)(r.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{_(),d()},option:{label:v.pin,value:v.pin}},"actions-create-0"),h&&(f||x)&&(0,a.jsx)(r.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),d()},option:{label:v.rename,value:v.rename}},"actions-create-1"),"profileBoards"===p&&u&&(0,a.jsx)(r.Lt.Item,{dataTestId:"Create board",onSelect:()=>{u(),d()},option:{label:v.board,value:v.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,a.jsx)(r.Lt.Section,{label:g._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[o&&(0,a.jsx)(r.Lt.Item,{dataTestId:"addBoardNote",onSelect:()=>{o(),d()},option:{label:v.todos,value:v.todos},badge:{text:v.new,type:"info"}},"actions-add-0"),l&&(0,a.jsx)(r.Lt.Item,{dataTestId:"addSection",onSelect:()=>{l(),d()},option:{label:v.section,value:v.section}},"actions-add-1"),!!s&&(0,a.jsx)(r.Lt.Item,{onSelect:()=>{s(),d()},option:{label:v.date,value:v.date}},"actions-add-2")].filter(Boolean)})]})}var u=o(333312),_=o(806986);function h({anchor:e}){const t=(0,_.JI)();return(0,a.jsx)(r.mh,{children:(0,a.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,a.jsx)(u.Z,{anchor:e,experienceIds:[503447],idealDirection:"down",flyoutSize:"md",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function p({anchor:e}){return(0,a.jsx)(r.mh,{children:(0,a.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,a.jsx)(u.Z,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var m=o(424432);function g({children:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:c,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,onOpen:f=(()=>{}),surface:x,isWithinFixedContainer:b}){var v;const y=(0,i.ZP)(),{showCreateSectionTooltip:P,setShowCreateSectionTooltip:w}=null!==(v=(0,m.L)())&&void 0!==v?v:{},A=()=>w(!1),C=(0,n.useRef)(),[E,T]=(0,n.useState)(!1),j=()=>T(!1),I=()=>{E?j():(f(),P&&A(),T(!0))},S={board:y._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:y._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:y._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:y._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},z=e&&e({active:E,openFlyout:I})||(0,a.jsx)(r.hU,{accessibilityLabel:S[x],icon:"add",onClick:"section"===x?_:I,size:"lg"});let k;return E||"board"!==x||(P?k="addSectionTooltip":s&&(k="planningActionsExperience")),E||"profileBoards"!==x||(k="createBoardTooltip"),(0,a.jsxs)(r.xu,{"data-test-id":"boardActionsButton",children:[(0,a.jsx)(r.xu,{ref:C,children:z}),E&&(0,a.jsx)(d,{anchor:C.current,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:c,onClose:j,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,surface:x,isWithinFixedContainer:!!b}),"addSectionTooltip"===k&&(0,a.jsx)(l,{anchor:C.current,hideAddSectionTooltip:A}),"planningActionsExperience"===k&&(0,a.jsx)(p,{anchor:C.current}),"createBoardTooltip"===k&&(0,a.jsx)(h,{anchor:C.current})]})}},563126:(e,t,o)=>{o.d(t,{Z:()=>W});var n=o(667294),i=o(319915),s=o(947599),r=o(499128),a=o(898781),l=o(343341),c=o(883119),d=o(785893);const u=(0,n.lazy)((()=>o.e(4603).then(o.t.bind(o,774855,23))));function _({linkURL:e,onDidFocus:t,onDidClickCopyButton:o}){const n=(0,a.ZP)(),{showOneToast:_}=(0,l.F9)(),h=n._('Copy link', '[button] copy a URL link shown, to paste in another place', '[button] copy a URL link shown, to paste in another place');return(0,d.jsxs)(c.xu,{display:"flex",alignItems:"center",paddingX:4,children:[(0,d.jsx)(c.xu,{flex:"grow",marginEnd:2,children:(0,d.jsx)(c.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,d.jsx)(i.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,d.jsx)(s.Z,{fallback:(0,d.jsx)(c.zx,{text:h,disabled:!0}),children:(0,d.jsx)(u,{text:e,onCopy:(e,t)=>{t&&_((({hideToast:e})=>(0,d.jsx)(r.ZP,{onHide:e,text:n._('Link copied to clipboard!', 'toast message to confirm if users copied the url successfully', 'toast message to confirm if users copied the url successfully')}))),o()},children:(0,d.jsx)(c.zx,{text:h,size:"lg"})})})})]})}var h=o(412168),p=o(587857),m=o(407043),g=o(385551);const f=e=>({invite_category:4,invite_channel:12,object_type:p.d.BOARD,object_id:e}),x=e=>({component:13305,element:10921,object_id_str:e,view_type:5,view_parameter:3059});function b({boardId:e}){const{logContextEvent:t}=(0,m.v)(),[o,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(!s){const t=f(e),{cancel:o,promise:n}=(0,h.Z)(g.Z.createShareInviteData(t));return n.then((e=>r(e))),()=>{o()}}}),[]);const a=s?s.invite_url:"...",l=()=>{null===s||o||(i(!0),g.Z.logShareInvite(f(e),s))};return(0,d.jsx)(_,{linkURL:a,onDidClickCopyButton:()=>{t({event_type:101,...x(e)}),l()},onDidFocus:l})}var v=o(426151),y=o(116303),P=o(784590);function w({boardId:e,invitedUserId:t,isInvited:o,onClick:i,buttonSize:s="sm"}){const r=(0,a.ZP)(),l=(0,P.Z)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});(0,n.useEffect)((()=>{l.refresh()}),[]);const u={text:r._('Invite', '[button] invite someone to collaborate on a board', 'it appears in the list expanded when click invite button at the top of board page'),color:"red",disabled:!1};return l.isFetching&&(u.text=r._('Loading', '[button] disabled button status text when checking if the user has been invited', 'it appears in the list expanded when click invite button at the top of board page'),u.color="gray",u.disabled=!0),(o||l.isLoaded&&l.data)&&(u.text=r._('Invited', '[button] disabled button status text when a user has been invited to a board', 'it appears in the list expanded when click invite button at the top of board page'),u.color="gray",u.disabled=!0),(0,d.jsx)(c.zx,{fullWidth:!0,color:u.color,size:s,disabled:u.disabled,onClick:i,text:u.text})}var A=o(355600),C=o(209716),E=o(936776),T=o(172071),j=o(730447),I=o(412456);function S({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:o,shareSuggestions:i}){const{logContextEvent:s}=(0,m.v)(),r=(0,a.ZP)(),[l,u]=(0,n.useState)(""),[_,h]=(0,n.useState)([]),[p,g]=(0,n.useState)({}),[f,x]=(0,n.useState)({}),b=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||r._('On Pinterest', 'is a user of Pinterest', 'is a user of Pinterest');case"emailcontact":case"email_share_suggestion":return e.email||r._('Email Contact', 'invited user has an email', 'invited user has an email')}return""},v=(n,i)=>{const{id:r,full_name:a,debug_reason:c}=n;let d="";c&&(d=c.reason),((t,o)=>{s({event_type:101,component:13029,element:l?1044:1039,object_id_str:e,view_type:5,view_parameter:3059,aux_data:{entered_query:l,result_index:t+1,rs:o}})})(i,d);const u={...p};u[r]=!0,g(u),(0,I.pS)(e,[r]).then((()=>{o(a,!0)})).catch((e=>{o(a,!1,e);const t={...p};t[r]=!1,g(t)})).finally(t)};let P=i;return l&&(P=_),(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[(0,d.jsx)(c.xu,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:(0,d.jsx)(c.xu,{flex:"grow",children:(0,d.jsx)(j.Z,{onTypeaheadSuggestionsChange:e=>{T.Z.increment("web_contacts_search",1,{source:"board_invite"}),h(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:l,children:(0,d.jsx)(c.xu,{paddingX:4,children:(0,d.jsx)(c.Um,{accessibilityLabel:r._('Search for a name or email', 'accessible label for contact search input field', 'accessible label for contact search input field'),id:"search",onChange:({value:e})=>{u(e),s({event_type:4113,component:13029,element:1043,view_parameter:3059,aux_data:{entered_query:e}})},placeholder:r._('Search by name or email', 'search input field prompt for finding contacts', 'search input field prompt for finding contacts'),size:"lg",value:l})})})})}),(0,d.jsxs)(c.xu,{overflow:"scrollY",maxHeight:414,children:[P.map(((t,o)=>{const n=t.username?`/${t.username}/`:null;return(0,d.jsx)(c.xu,{children:(0,d.jsx)(A.Z,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:b(t),accessory:(0,d.jsx)(w,{boardId:e,invitedUserId:t.id,isInvited:(i=t.id,!!p[i]),onClick:()=>v(t,o),buttonSize:"lg"}),linkURL:n})},o);var i})),l&&((0,E.Z)(l)?(0,d.jsx)(A.Z,{name:l,title:l,accessory:(S=!!f[l],z=()=>{const n=l;if(!(0,E.Z)(n))return;const i={...f};i[n]=!0,x(i),(0,I.OA)(e,[n]).then((()=>{o(n,!0),u("")})).catch((e=>{o(n,!1,e);const t={...f};t[n]=!1,x(t)})).finally(t)},k="lg",(0,d.jsx)(c.zx,{fullWidth:!0,color:S?"gray":"red",disabled:!!S,size:k,onClick:z,text:S?r._('Invited', '[button] disabled button status text when a user has been invited to a board', '[button] disabled button status text when a user has been invited to a board'):r._('Invite', '[button] invite someone to collaborate on a board', '[button] invite someone to collaborate on a board')}))}):(0,d.jsx)(C.Z,{iconNode:(0,d.jsx)(y.Z,{name:l,size:"md"}),title:l,subtitle:r._('Keep typing!', 'boardCollabInviterForm.label', 'Message for user to keep typing')}))]})]});var S,z,k}var z=o(349700);function k({boardId:e}){const{logContextEvent:t}=(0,m.v)(),o=(0,a.ZP)(),i=(0,l.F9)(),{refresh:s}=(0,P.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},noCache:!0}),{refresh:u}=(0,P.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},noCache:!0}),{data:_,isLoaded:h}=(0,P.Z)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},noCache:!0});(0,n.useEffect)((()=>{t({event_type:7120,object_id_str:e,view_type:5,view_parameter:3059})}),[]),(0,n.useEffect)((()=>{if(h){const e=_&&_.length>0?7511:7512;t({event_type:e,component:13305,element:10592,view_type:5,view_parameter:3059})}}),[h]);const p=(e,t=!1)=>{i.showOneToast((({hideToast:o})=>(0,d.jsx)(r.ZP,{duration:3e3,onHide:o,text:e,variant:t?"error":void 0})))};return h?(0,d.jsx)(S,{boardId:e,onInvitesDidUpdate:()=>{s(),u()},onInviteDidComplete:(e,t,n)=>{t?p(o._('1 invite sent!', 'BoardCollabInviteFormContainer.showInviteSuccessToast.text', 'Toast for successfully sending invitation of collaborating a board')):((e,t)=>{const n=o._('Failed to invite {{userIdentifier}} to collaborate', 'Toast for failing to send invitation of collaborating a board', 'Toast for failing to send invitation of collaborating a board');p(t&&t.message?t.message:(0,z.nk)(n,{userIdentifier:e}).join(""),!0)})(e,n)},shareSuggestions:_||[]}):(0,d.jsx)(c.xu,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:(0,d.jsx)(c.$j,{accessibilityLabel:o._('Loading contacts', 'BoardCollab.BoardCollabInviteFormContainer', 'Accessibility label on loading spinner'),show:!0})})}const D="INVITE_SETTING",R="REQUEST_TO_JOIN_SETTING";function O({boldHeading:e,setting:t,viewerIsOwner:o}){const i=(0,a.ZP)(),s={0:{name:i._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},1:{name:i._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o?i._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):i._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab', 'Text explaining collaborator permission setting')},[D]:{name:i._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},[R]:{name:i._('Board requests', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('People can request to join this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}};return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xv,{color:"default",size:e?"300":"200",weight:e?"bold":"normal",children:s[t].name}),(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{color:"subtle",size:"lg",children:s[t].description})})]})}var L=o(573799),F=o(121151),M=o(19121),N=o(88301),B=o(925927),U=o(780280);function Z({board:e,currentPermissionLevel:t,fromBoardEditModal:o,navigateToPermissions:i,onDismiss:s}){var r;const l=(0,a.ZP)(),u="number"==typeof e.collaborator_count&&e.collaborator_count>0,[_,h]=(0,n.useState)(!u),p=(0,U.B)(),m=(0,M.Z)(),g=(0,B.k6)(),f=m.isAuth&&(null===(r=e.owner)||void 0===r?void 0:r.id)===m.id,x=f||e.collaborator_invites_enabled,y=_&&!u||!_;return(0,d.jsx)(N.k,{boardName:e.name,pendingOwnershipTransfer:e.pending_ownership_transfer,viewerIsOwner:f,children:(0,d.jsx)(F.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:_?l._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'):l._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),footer:x&&!_?(0,d.jsx)(c.iP,{onTap:()=>h(!0),rounding:8,children:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.hU,{accessibilityLabel:l._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'accessibility label on icon button'),icon:"add",bgColor:"red",iconColor:"white"}),(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.xv,{size:"300",weight:"bold",children:l._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Clickable text to show invite form')})})]})}):null,heading:(0,d.jsxs)(c.xu,{padding:8,children:[o&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!p.isRTL,right:p.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:l._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:_?l._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal'):l._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')})]}),onDismiss:s,children:(0,d.jsxs)(c.xu,{marginBottom:5,children:[y&&(0,d.jsxs)(c.xu,{paddingX:6,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:f?l._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting'):l._('You can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting')})}),(0,d.jsxs)(c.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,d.jsx)(c.xu,{width:"60%",children:(0,d.jsx)(O,{boldHeading:!0,viewerIsOwner:f,setting:t})}),f&&(0,d.jsx)(c.hU,{accessibilityLabel:l._('Edit board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on icon button'),icon:"arrow-forward",onClick:i})]})]}),_?(0,d.jsxs)(c.xu,{paddingX:2,children:[(0,d.jsx)(b,{boardId:e.id}),(0,d.jsx)(k,{boardId:e.id})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{paddingX:6,paddingY:5,children:(0,d.jsx)(c.xv,{size:"100",children:l._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Header before listing collaborators on a group board')})}),(0,d.jsx)(L.Z,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=m.isAuth?`/${m.username}`:"/";g.replace(e)},renderInvite:(e,t,o)=>{if(!e.invited_user)return null;const n={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,d.jsx)(v.Z,{...n})}})]})]})})})}var G=o(966338),H=o(683190);function V({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:o},currentPermissionLevel:i,navigateToCollaborators:s,onDismiss:r}){const{logContextEvent:l}=(0,m.v)(),u=(0,a.ZP)(),[_,h]=(0,n.useState)(i),[p,g]=(0,n.useState)(e),[f,x]=(0,n.useState)(t),[b,v]=(0,n.useState)(!1),y=(0,U.B)(),P=(0,G.useDispatch)();return(0,d.jsx)(F.ZP,{accessibilityModalLabel:u._('Board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!y.isRTL,right:y.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:u._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:y.isRTL,right:!y.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Close', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"cancel",iconColor:"darkGray",onClick:r})})]}),footer:(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:(0,d.jsx)(c.zx,{color:"red",disabled:b||_===i&&p===e&&f===t,onClick:()=>{v(!0);const n={id:o},s={view_type:5,view_parameter:3472};p!==e&&(n.collaborator_invites_enabled=p,l({event_type:p?106:107,element:11896,...s})),_!==i&&(n.collaborator_permissions_setting=_,l({event_type:8841,...s})),f!==t&&(n.collaborator_requests_enabled=f),P((0,H.wN)(n)).then((()=>r()))},size:"lg",text:u._('Done', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Submit button on a form')})}),onDismiss:r,children:(0,d.jsxs)(c.xu,{paddingX:12,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Permissions', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before listing possible board permissions')})}),(0,d.jsxs)(c.kC,{alignItems:"center",children:[(0,d.jsx)(c.EU,{checked:0===_,id:"ALL",onChange:()=>h(0),value:0}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:0})})]}),(0,d.jsxs)(c.xu,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[(0,d.jsx)(c.EU,{checked:1===_,id:"SAVE_ONLY",onChange:()=>h(1),value:1}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:1})})]}),(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Invitations', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before group board invitation permission form setting')})}),(0,d.jsxs)(c.xu,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[(0,d.jsx)(c.XZ,{checked:p,id:"inviteSetting",onChange:({checked:e})=>g(e)}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:D})})]}),(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.XZ,{checked:f,id:"inviteSetting",onChange:({checked:e})=>x(e)}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(O,{setting:R})})]})]})})}function W({board:e,fromBoardEditModal:t,onDismiss:o}){const[i,s]=(0,n.useState)("collaboratorsView"),{collaborator_permissions_setting:r}=e;return"collaboratorsView"===i?(0,d.jsx)(Z,{board:e,currentPermissionLevel:r,fromBoardEditModal:t,navigateToPermissions:()=>s("permissionsView"),onDismiss:o}):(0,d.jsx)(V,{board:e,currentPermissionLevel:r,navigateToCollaborators:()=>s("collaboratorsView"),onDismiss:o})}},13788:(e,t,o)=>{o.d(t,{Ev:()=>s,IK:()=>i,Oj:()=>r,bW:()=>a});var n=o(883119);const i=1,s=1,r=2,a=new n.Ry(5e3)},229448:(e,t,o)=>{o.d(t,{SE:()=>f,l:()=>x,Zl:()=>w,ZP:()=>C,EQ:()=>v,Bk:()=>A});var n=o(966338),i=o(343795),s=o(343341),r=o(667294),a=o(391254),l=o(50286),c=o(898781),d=o(883119),u=o(499128),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(){const e=(0,c.ZP)();return(0,_.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:[(0,_.jsx)(a.Z,{unsafeCSS:"\n@keyframes spin {\n  from {\n    opacity: 1;\n    transform: rotate(0deg);\n  }\n\n  to {\n    opacity: 1;\n    transform: rotate(360deg);\n  }\n}"}),(0,_.jsx)(d.xu,{display:"block",opacity:0,dangerouslySetInlineStyle:{__style:{animationDelay:"0.3s",animationDuration:"1.2s",animationIterationCount:"infinite",animationName:"spin",animationTimingFunction:"linear"}},children:(0,_.jsx)(d.JO,{accessibilityLabel:e._('board action pending', 'accessibility label for board action toast to indicate pending action', 'accessibility label for board action toast to indicate pending action'),color:"inverse",icon:"knoop",size:40})})]})}class m extends r.Component{constructor(...e){super(...e),h(this,"state",{hiding:!1,visible:!1}),h(this,"handleHide",(()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,u.Vg)})),h(this,"handleMouseEnter",(()=>{window.clearTimeout(this.timeout)})),h(this,"handleMouseLeave",(()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)}))}componentDidMount(){this.firstLine&&(window.setTimeout((()=>{this.setState({visible:!0})}),100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:o}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":return o?n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section'):n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":return o?n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section'):n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":return o?n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section'):n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){const{actionStatus:e,deviceType:t,location:o}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const s="inProgress"===e?`${o.name}...`:o.name;return(0,_.jsx)(d.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:{__style:(0,u.UZ)({deviceType:t,visible:n,hiding:i})},children:(0,_.jsx)(d.FN,{text:(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(d.xv,{children:this.firstLine}),(0,_.jsx)(d.xv,{weight:"bold",children:s})]}),thumbnail:"completed"===e?void 0:(0,_.jsx)(p,{})})})}}function g(e){const t=(0,l.ZP)(),o=(0,c.ZP)();return(0,_.jsx)(m,{...e,deviceType:t,i18n:o})}const f=2e3,x=5e3;const b=["merge","move_pins","create_section"];function v({blockingActions:e,actionType:t,boardId:o,sectionId:n}){return e.find((e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||b.includes(e.action_type)&&e.is_origin||e.board_id!==o||(n?n!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress)))}let y=0;const P={};function w({check:e,checkDelay:t,checkInterval:o,onComplete:n}){const i=`timeout${y}`;y+=1;const s=()=>{const t=Date.now();e().then((e=>{const r=Date.now()-t;e?(n(),delete P[i]):P[i]=setTimeout(s,Math.max(1e3,o-r))})).catch((()=>{delete P[i]}))};P[i]=setTimeout(s,t)}const A=(e,t,o,n)=>({hideToast:i})=>{var s;return(0,_.jsx)(g,{actionType:t,actionStatus:e,duration:"inProgress"===e?f:2e3,location:{name:n?n.title:null!==(s=o.name)&&void 0!==s?s:"",isSection:!!n},onHide:i})};function C(e){function t(t){const o=(0,n.useDispatch)(),{showToast:r}=(0,s.F9)();return(0,_.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:n})=>{r(A("inProgress",e,t,n)),w({check:()=>o((0,i.K)(t.id)).then((o=>!v({blockingActions:o,actionType:e,boardId:t.id,sectionId:n&&n.id}))),checkDelay:f,checkInterval:x,onComplete:()=>r(A("completed",e,t,n))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},431256:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(755742),s=o(694379),r=o(6637),a=o(492990),l=o(349700),c=o(898781),d=o(883119),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends n.Component{constructor(...e){super(...e),_(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(this,"onDismiss",(()=>{})),_(this,"mounted",!1),_(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),_(this,"handleKeyDown",(e=>{e.keyCode===i.Z.UP?this.handlePrevHashtag(e):e.keyCode===i.Z.DOWN?this.handleNextHashtag(e):e.keyCode===i.Z.ESCAPE?this.handleClose(e):e.keyCode===i.Z.ENTER&&this.handleSubmit(e)})),_(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),_(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),_(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),_(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),_(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(r.ZP.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:o}=this.state,{anchor:n,idealDirection:i}=this.props,r=e.filter((e=>e.query)),a=i||"down",c="flyout_"+r.length;return t&&r.length>0?(0,u.jsx)(d.J2,{anchor:n,idealDirection:a,onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(d.xu,{width:"100%",zIndex:new d.Ry(3),children:r.length>0?r.map(((e,t)=>(0,u.jsx)(d.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===o?"lightGray":"transparent",padding:1,children:[(0,u.jsx)(d.xu,{flex:"grow",children:(0,u.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(d.xu,{flex:"none",children:(0,u.jsx)(d.xv,{inline:!0,size:"100",children:(0,l.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(s.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query))):null})},c):null}}function p(e){const t=(0,c.ZP)(),o=(0,a.Z)();return(0,u.jsx)(h,{...e,makeCancelablePromise:o,i18n:t})}},807068:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(319915),s=o(947599),r=o(898781),a=o(883119),l=o(785893);const c=(0,n.lazy)((()=>o.e(61116).then(o.bind(o,331945))));function d(e){const t=(0,r.ZP)();return(0,l.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,l.jsx)(s.Z,{fallback:(0,l.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,l.jsx)(a.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,l.jsx)(c,{...e})})})}},587857:(e,t,o)=>{o.d(t,{d:()=>n});const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},631466:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(300267),s=o(259986),r=o(898781),a=o(883119),l=o(894350),c=o(785893);const d=(0,l.Z)((function({handleSendShareFlyoutButtonClick:e,isFlyoutOpen:t,useGestaltButton:o}){const n=(0,r.ZP)(),i=n._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label for button to send this profile');return o?(0,c.jsx)(a.zx,{accessibilityLabel:i,onClick:e,selected:t,size:"lg",text:n._('Share', 'sendProfileButton.button', 'Button to share user profile')}):(0,c.jsx)(s.Z,{accessibilityLabel:i,icon:"share",onClick:e,selected:t})}));var u=o(19121);function _({shownWithinProfileHeader:e,useGestaltButton:t,user:o}){var s;const[r,a]=(0,n.useState)(!1),l=(0,u.Z)(),_=(0,i.Z)({user:o,viewer:l});return(0,c.jsx)(d,{fullName:null!==(s=o.full_name)&&void 0!==s?s:"",gridDescription:"",imageSrc:o.image_large_url,isFlyoutOpen:r,isOwnProfile:_,onFlyoutDismiss:()=>a(!1),onToggleFlyout:()=>a(!r),profileUrl:`/${o.username}/`,sendType:"user",shownWithinProfileHeader:e,useGestaltButton:t,userId:o.id})}},372169:(e,t,o)=>{o.d(t,{Je:()=>n,dA:()=>s,iO:()=>r,jh:()=>a,s_:()=>i});const n=350,i=134,s=16,r=2,a=236},155582:(e,t,o)=>{o.d(t,{Z:()=>j});var n=o(667294),i=o(6637);var s=o(73803),r=o(966113),a=o(898781),l=o(19121),c=o(349700),d=o(129274),u=o(883119),_=o(785893);const h=r.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function p(e){return e.map((({full_name:e})=>e))}const m=function({users:e,onClose:t,onSubmit:o}){const n=(0,a.ZP)(),i=(0,_.jsx)("strong",{children:(0,s.Z)(p(e),n)},"userlist");return(0,_.jsxs)("form",{method:"post",children:[(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xv,{children:(0,c.nk)(n._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:i})}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)(u.xv,{children:(0,_.jsx)(u.rU,{inline:!0,href:h,underline:"hover",children:n._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",gap:1,children:[(0,_.jsx)(u.zx,{fullWidth:!0,onClick:t,text:n._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{o()},text:n._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})};var g=o(174798);const f=r.Z.settings.HELP_BLOCKING,x=r.Z.settings.POLICY_COMMUNITY_GUIDELINES,b=({board:e,flagReason:t,flagType:o,onClose:r,selectedReason:h,status:b,users:v})=>{const y=(0,a.ZP)(),[P,w]=(0,n.useState)({}),{setModalTitle:A,setStatus:C}=(0,d.d)(),E=(0,l.Z)(),{id:T}=E.isAuth?E:{},j=null==e?void 0:e.followed_by_me,I=v[0].explicitly_followed_by_me,S=v.filter((({id:e})=>P[e])),z=S.length>0;(0,n.useEffect)((()=>{(()=>{let e;[g.qb.SUBMITTED,g.qb.PROCESSING].includes(b)?e=y.ngettext('Block this person?', 'Block these people?', S.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):o===g.Vm.CONVERSATION&&(e=b===g.qb.COMPLETED?(0,c.nk)(y._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,s.Z)(p(S),y).join("")}).join(""):y._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),A(e)})()}),[b]),(0,n.useEffect)((()=>{C(z?g.qb.SELECTED:g.qb.STARTED)}),[P]);const k=v.filter((({id:e})=>e!==T)),D=[g.qb.STARTED,g.qb.COMPLETED].includes(b);return(0,_.jsx)("form",{method:"post",children:[g.qb.SUBMITTED,g.qb.PROCESSING].includes(b)?(0,_.jsx)(m,{onClose:()=>{C(g.qb.SELECTED)},onSubmit:()=>(C(g.qb.PROCESSING),Promise.all(Object.keys(P).filter((e=>P[e])).map((e=>function(e){return i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().then((()=>{}),(()=>{}))}(e)))).finally((()=>{C(g.qb.COMPLETED)}))),users:S}):(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xu,{children:b!==g.qb.COMPLETED?(()=>{let e,o;return"harassingOther"===h?e=(0,c.nk)(y._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,_.jsx)(u.rU,{inline:!0,href:x,underline:"hover",children:y._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===h?e=y._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===h?e=y._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(t)&&(e=y._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin')),o=j&&I?y._('You can also unfollow or block this person.', 'description to block or unfollow', 'description to block or unfollow'):y.ngettext('You can also block this person.', 'You can also block these people.', k.length, 'description to block people', 'description to block people'),(0,_.jsxs)(n.Fragment,{children:[e&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:e})}),(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:o})}),(0,_.jsx)(u.xu,{marginBottom:8,children:k.map((({id:e,full_name:t})=>(0,_.jsx)(u.XZ,{id:"blockPinner"+e,checked:Boolean(P[e]),label:(0,c.nk)(y._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...P,[e]:t})},subtext:y._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user')},e)))})]})})():z&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:y._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,_.jsxs)(u.xu,{children:[b!==g.qb.COMPLETED&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(y._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{inline:!0,href:f,underline:"hover",children:y._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:D?r:()=>{w(P),C(g.qb.SUBMITTED)},text:D?y._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):y._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function v({flagOptions:e,flow:t,handleClose:o,handleNext:n,selectedReason:i,showPrimaryAction:s,submitButton:r}){const l=(0,a.ZP)();if(t===g.Zw.REPORT){var c;if(g.qb.PROCESSING===status||null!==(c=e.getFlagOption(i))&&void 0!==c&&c.isTerminalReason)return r;if(s)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",disabled:void 0===i,onClick:n,text:l._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(t===g.Zw.END)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:o,text:l._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}var y=o(121151);const P=r.Z.settings.POLICY_COMMUNITY_GUIDELINES;function w({flow:e,flagReason:t}){const o=(0,a.ZP)();if(e===g.Zw.REPORT){if("attacks"===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:o._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===t)return(0,_.jsxs)("p",{children:[(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-adult-content",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-dangerous-goods-and-activities",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-violence",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?o._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):o._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function A(e,t,o){return e.map(((e,n)=>{const{condition:i}=e;return void 0===i||i?function(e,t,o,n){const{text:i,value:s,category:r}=e;return(0,_.jsx)("label",{htmlFor:s,children:(0,_.jsxs)(u.xu,{alignItems:"center",padding:2,display:"flex",children:[(0,_.jsx)(u.EU,{checked:o===s,id:s,onChange:({checked:e})=>t(e,s,r),name:"flagReason",value:s}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.xv,{size:"200",children:i})})]})},n)}(e,t,o,n):null}))}class C{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const o in e)e[o].forEach((e=>{const n=e.value;if(Object.prototype.hasOwnProperty.call(t,n))throw new Error("Duplicate key in FlagOptions config: "+n);t[n]=e,t[n].parentOption=o}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:o,selectedReason:n}=e;return A(this.config[t],o,n)}}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class T extends n.Component{constructor(...e){super(...e),E(this,"flagOptions",new C(this.props.flagOptionsConfig)),E(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:o,selectedReason:n}=this.props;return e||(t===g.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:o,selectedReason:n}):t===g.Zw.END?(0,_.jsx)(u.xv,{children:this.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:o,onCompletedBlock:n}=e;if(this.props.flow!==t)switch(t){case g.Zw.REPORT:o&&o();break;case g.Zw.BLOCK:n&&n()}}render(){const{accessibilityModalLabel:e,aggregated_rich_data_type:t,board:o,flagType:n,flow:i,status:s,modalTitle:r,onClose:a,pin:l,selectedReason:c,submitButton:d,flagReason:h,showPrimaryAction:p,users:m}=this.props;let f=t;if(!f&&l&&l.rich_metadata){const e=l.rich_metadata;["recipe","tutorial"].forEach((t=>{var o;e[t]&&e[t].from_aggregated_data&&null!==(o=e[t].additional_data)&&void 0!==o&&o.url&&(f=t)}))}return(0,_.jsx)(y.ZP,{accessibilityModalLabel:e,heading:r,onDismiss:a,size:"md",footer:i!==g.Zw.BLOCK?(0,_.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(w,{flagReason:h,flow:i})}),(0,_.jsx)(u.xu,{padding:1,children:i===g.Zw.REPORT?(0,_.jsx)(u.zx,{fullWidth:!0,onClick:void 0===h?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===h?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,_.jsx)(u.xu,{padding:1,children:(0,_.jsx)(v,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:c,showPrimaryAction:!!p,submitButton:d})})]}):void 0,children:(0,_.jsx)(u.xu,{children:i===g.Zw.BLOCK?(0,_.jsx)(b,{board:o,flagReason:h,flagType:n,onClose:a,selectedReason:c,status:s,users:m}):(0,_.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...f?{height:"389px"}:{}}},children:this.renderContent()})})})}}function j(e){const t=(0,a.ZP)();return(0,_.jsx)(T,{...e,i18n:t})}},129274:(e,t,o)=>{o.d(t,{N:()=>c,d:()=>l});var n=o(667294),i=o(425288),s=o(174798),r=o(785893);const{Provider:a,useHook:l}=(0,i.Z)("Flag"),c=({children:e})=>{const[t,o]=(0,n.useState)(),[i,l]=(0,n.useState)(s.Zw.REPORT),[c,d]=(0,n.useState)(s.qb.STARTED),[u,_]=(0,n.useState)(),[h,p]=(0,n.useState)(),m=(0,n.useMemo)((()=>({flagReason:h,flow:i,status:c,selectedReason:u,modalTitle:t,setFlagReason:p,setFlow:l,setModalTitle:o,setStatus:d,setSelectedReason:_})),[t,i,c,u,h]);return(0,r.jsx)(a,{value:m,children:e})}},428837:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(966338),s=o(794230),r=o(155582),a=o(966113),l=o(898781),c=o(690468),d=o(129274),u=o(883119),_=o(174798),h=o(785893);const p=a.Z.settings.ABOUT_DMCA_PIN_URL,m="policies";const g=(0,i.connect)(null,(function(e){return{reportDidIt:(t,o,n,i,s)=>e((0,c.Th)(t,o,n,i,s))}}))((({aggregatedPinDataId:e,didItDataId:t,onClose:o,pinId:i,reportDidIt:a,username:c,users:g})=>{const f=(0,l.ZP)(),[x,b]=(0,n.useState)([]),[v,y]=(0,n.useState)(),[P,w]=(0,n.useState)(),{flow:A,modalTitle:C,selectedReason:E,setFlow:T,setModalTitle:j,setSelectedReason:I,setStatus:S,status:z}=(0,d.d)();(0,n.useEffect)((()=>{j((()=>{if(A===_.Zw.REPORT)switch(P){case"attacks":return f._('What\'s going on?', 'title for report content flow', 'title for report content flow');case m:return f._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case"IP":return f._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return f._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(A===_.Zw.END&&x.includes("notUseful"))return f._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""})())}),[x,A,P]);const k=(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{if(S(_.qb.PROCESSING),"ignoreThisPin"===E)T(_.Zw.BLOCK),S(_.qb.STARTED);else{const o=[...x,E];b(o),a(e,o,t,v,c),x.includes("notUseful")?(T(_.Zw.END),S(_.qb.STARTED)):(T(_.Zw.BLOCK),S(_.qb.STARTED))}},text:f._('Report content', 'button to report content', 'button to report content')});return(0,h.jsx)(r.Z,{accessibilityModalLabel:f._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),content:"IP"===P?(0,h.jsx)(u.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,h.jsxs)(u.xu,{mdColumn:9,children:[(0,h.jsx)(u.xu,{padding:2,marginStart:2,children:(0,h.jsx)(u.xv,{align:"center",color:"default",weight:"bold",children:f._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.zx,{role:"link",href:(0,s.Z)(p,{pin_id:i,user_did_it_id:t}),color:"red",text:f._('File a report', 'link to DMCA form', 'link to DMCA form'),target:"blank"})})]})}):null,flagType:_.Vm.DID_IT,flow:A,modalTitle:C,onClose:o(!0),onNext:()=>{w(E),b([...x,E]),I()},onRevert:()=>{const e=x[x.length-1],t=x.slice(0,-1);I(e),w(t[t.length-1]),b(t),y(),S(void 0===e?_.qb.STARTED:_.qb.SELECTED)},onSelectReason:(e,t,o)=>{e&&(I(t),S(_.qb.SELECTED),y(o))},showPrimaryAction:"IP"!==P,submitButton:k,status:z,selectedReason:E,flagReason:P,users:g,flagOptionsConfig:{__default:[{text:f._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:f._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:m,isTerminalReason:!1},{text:f._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:f._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:f._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:f._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:f._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:f._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:f._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:f._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:f._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:f._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}))},174798:(e,t,o)=>{o.d(t,{Vm:()=>s,Zw:()=>n,qb:()=>i});const n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},s={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},674839:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(883119),s=o(785893);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const a={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends n.PureComponent{constructor(...e){super(...e),r(this,"state",{hovered:!1}),r(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),r(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{bold:e,icon:t,text:o,description:n,descriptionColor:r="default",compact:l}=this.props,c=Array.isArray(o)?o.join(""):o;return(0,s.jsx)(i.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,s.jsxs)(i.xu,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:c,children:[!l&&t&&(0,s.jsx)(i.xu,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?(0,s.jsx)(i.JO,{accessibilityLabel:"",color:"default",dangerouslySetSvgPath:a,size:16}):(0,s.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:t,size:16})}),(0,s.jsxs)(i.xu,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[(0,s.jsx)(i.xv,{color:"default",size:l?"100":"200",weight:e?"bold":"normal",children:o}),(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:!l&&n&&(0,s.jsx)(i.xu,{marginBottom:2,marginTop:1,children:(0,s.jsx)(i.xv,{color:r,overflow:"normal",size:"100",children:n})})})]})]})})}}r(l,"defaultProps",{bold:!0})},166047:(e,t,o)=>{o.d(t,{n:()=>u});var n=o(820384),i=o(6637),s=o(728686),r=o(281615),a=o(509453),l=o(690468),c=o(434190);const d={[c.o.aggregatedComment]:"AggregatedCommentReplyResource",[c.o.pin]:"AggregatedCommentResource",[c.o.didIt]:"DidItCommentsResource"};function u({fromUnifiedComment:e,objectId:t,objectType:o,pinId:c,replyToCommentId:u,tags:_,text:h}){return async p=>{const m=d[o],g={objectId:t,pinId:c,tags:_,text:h,replyToCommentId:u};let f=r.DV.AGGREGATED_COMMENTS;e&&(f="pin"===o?r.DV.UNIFIED_COMMENTS:r.DV.AGGREGATED_COMMENT_REPLIES);const x=await i.ZP.create(m,g).callCreate({showError:!1}),b=x.resource_response.data;return p(function(e,t){return{type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:e,aggregatedComment:t}}}(t,b)),p((0,n.Z)({feedType:f,feedId:t,itemIds:[b.id],itemType:b.type})),p("pin"===o&&c?(0,a.R)(c,1):"aggregatedComment"===o?(0,s.Z)(t,1):(0,l.L8)(t,1)),b.id||x}}},458237:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(674578),i=o(6637),s=o(728686),r=o(394107),a=o(281615),l=o(509453),c=o(690468);function d({aggregatedCommentId:e,aggregatedPinId:t,feedType:o,parentId:d,type:u,updateParentCommentCount:_}){return async h=>{const p=await i.ZP.create("AggregatedCommentResource",{commentId:e}).callDelete({showError:!1});return h((0,n.Z)({feedId:t||d,feedType:o||a.DV.AGGREGATED_COMMENTS,itemIds:[e],itemType:"aggregatedcomment"})),h(function(e,t){return{type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:e,aggregatedCommentId:t}}}(d,e)),_&&(u||0===u)&&(u===r.Rv.TOP?h((0,l.R)(d,-1)):u===r.Rv.REPLY_TO_AGGREGATED?h((0,s.Z)(d,-1)):h((0,c.L8)(d,-1))),p}}},910325:(e,t,o)=>{function n(e){return{type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:e}}}function i(e){return{type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:e}}}o.d(t,{V:()=>i,y:()=>n})},495855:(e,t,o)=>{o.d(t,{Pd:()=>r,SL:()=>i,f9:()=>s,nI:()=>l,rK:()=>a});var n=o(6637);function i({commentId:e,tags:t,text:o}){return i=>n.ZP.create("AggregatedCommentResource",{commentId:e,tags:t,text:o}).callUpdate({showError:!1}).then((n=>{const{tagged_users:s}=n.resource_response.data,r=s.map((e=>Object.assign({},e)));i({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:e,tagged_users:r,tags:JSON.parse(t),text:o}}})}))}function s({aggregatedCommentId:e,isLikedByMe:t}){return o=>{const i=n.ZP.create("AggregatedCommentLikeResource",{aggregatedCommentId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:e,reaction_by_me:t?0:1}}})}}function r({aggregatedCommentId:e,isMarkedHelpfulByMe:t}){return o=>{const i=n.ZP.create("HelpfulResource",{helpfulModelType:1,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:e,marked_helpful_by_me:!t}}})}}function a({aggregatedCommentId:e,pinId:t,isHighlighted:o}){return i=>{const s=n.ZP.create("AggregatedCommentHighlightResource",{aggregatedCommentId:e,pinId:t});return o?s.callDelete({showError:!1}):s.callCreate({showError:!1}),i({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:e,pin_id:t,is_highlighted:!o}}})}}function l({userId:e,featureMap:t}){return o=>{n.ZP.create("AggregatedCommentFeaturesResource",{userId:e,featureMap:t}).callUpdate({showError:!1}).then((({resource_response:{data:e}})=>{o(function(e){return{type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:e}}}({featureMap:e}))}))}}},728686:(e,t,o)=>{function n(e,t){return{type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:e}}}o.d(t,{Z:()=>n})},343795:(e,t,o)=>{o.d(t,{K:()=>i});var n=o(6637);function i(e){return t=>function(e){return n.ZP.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,o)=>{const n=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;n?t(n):o(new Error("No blocking actions found in the response"))}))))}(e).then((o=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:o}}),o)))}},412456:(e,t,o)=>{o.d(t,{Cf:()=>l,Jn:()=>a,OA:()=>i,pS:()=>s,q1:()=>r,xx:()=>c});var n=o(6637);function i(e,t){return n.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return n.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function r(e,t){return o=>n.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().catch((()=>{}))}function a(e,t,o){return async t=>{const{invited_user:i,status:s,board:{id:r}}=e;i&&await n.ZP.create("accepted"===s?"BoardCollaboratorResource":"BoardInviteResource",{ban:o,board_id:r,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}function l(e,t){return async o=>{await n.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),o(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function c(e,t){return async o=>{await n.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),o(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}},293880:(e,t,o)=>{o.d(t,{A8:()=>r,Cr:()=>a,ZP:()=>l,oG:()=>i,xQ:()=>s});var n=o(379725);const i=(e,t)=>o=>o((0,n.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})),s=e=>i(e,"pin_count"),r=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),a=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},683190:(e,t,o)=>{o.d(t,{Fi:()=>f,K8:()=>u,Tq:()=>c,YV:()=>m,eo:()=>h,oL:()=>d,wN:()=>_,xH:()=>g,xk:()=>p});var n=o(280773),i=o(6637),s=o(935409),r=o(281615),a=o(379725),l=o(501817);function c(e,t){return(0,a.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})}function d(e={},t,o){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:o}}function u(e){return t=>{e&&(0,l.Q)(e).forEach((e=>{t(e)}))}}function _(e,t){return o=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},r={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...t?{orbac_subject_id:t}:Object.freeze({}),...n};return o({type:"BOARD_UPDATE",payload:{boardUpdateOptions:r}}),i.ZP.create("BoardResource",r).callUpdate().then((t=>{const n=t&&t.resource_response&&t.resource_response.data||e;o((0,s.yT)(n))}))}}function h(e){return{type:"BOARD_DELETE",payload:{boardId:e}}}function p(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate())}function m(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.ZP.create("BoardArchiveResource",{boardId:e}).callDelete())}function g(e,t){return o=>i.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((()=>Promise.all([o(h(e)),o(c(t,"pin_count")),o((0,n.Z)(r.DV.BOARD_SECTIONS,t))])))}function f(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},39951:(e,t,o)=>{o.d(t,{Y:()=>s,w:()=>i});var n=o(6637);function i({didItDataId:e,isLikedByMe:t}){return o=>{const i=n.ZP.create("DidItLikeResource",{didItDataId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function s({didItDataId:e,isMarkedHelpfulByMe:t}){return o=>{const i=n.ZP.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}},280773:(e,t,o)=>{function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}o.d(t,{Z:()=>n})},993404:(e,t,o)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}o.d(t,{Z:()=>n})},820384:(e,t,o)=>{function n(e){return{type:"FEED_ITEMS_ADDED",payload:e}}o.d(t,{Z:()=>n})},674578:(e,t,o)=>{function n(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}o.d(t,{Z:()=>n})},273022:(e,t,o)=>{function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>i,m:()=>n})},509453:(e,t,o)=>{function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}o.d(t,{R:()=>n})},260923:(e,t,o)=>{o.d(t,{Q:()=>s,a:()=>i});var n=o(6637);function i(e,t){return async o=>{const{resource_response:i}=await n.ZP.create("ApiResource",{url:`/v3/storypins/${e}/mentions/`}).callDelete();return o(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),i}}function s(e){return async t=>{const{resource_response:o}=await n.ZP.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:i}=o;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(i.id,i.tagged_users)),o}}},551154:(e,t,o)=>{function n(e){return{type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:e}}}function i(){return{type:"VIEWED_OWN_PROFILE"}}o.d(t,{ab:()=>n,wM:()=>s,z5:()=>i});const s=e=>({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:e}})},310214:(e,t,o)=>{function n(e,t){let o="PIN_SHOW_SUGGESTED_CREATOR_RECS";return"profile"===t&&(o="USER_SHOW_SUGGESTED_CREATOR_RECS"),{type:o,payload:{id:e,value:!0}}}o.d(t,{V:()=>n})},690468:(e,t,o)=>{o.d(t,{DD:()=>d,lg:()=>u,Th:()=>h,IU:()=>_,L8:()=>c});var n=o(820384),i=o(674578),s=o(6637);const r={USER_DID_IT_DATA_CREATE:"USER_DID_IT_DATA_CREATE",USER_DID_IT_DATA_DELETE:"USER_DID_IT_DATA_DELETE",USER_DID_IT_DATA_UPDATE:"USER_DID_IT_DATA_UPDATE",USER_DID_IT_DATA_UPDATE_COMMENT_COUNT:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",USER_DID_IT_DATA_FETCH:"USER_DID_IT_DATA_FETCH"};var a=o(281615);function l(e){return{type:r.USER_DID_IT_DATA_DELETE,payload:{id:e}}}function c(e,t){return{type:r.USER_DID_IT_DATA_UPDATE_COMMENT_COUNT,payload:{id:e,increment:t}}}function d({aggregatedPinDataId:e,details:t,fromUnifiedComment:o,image_signatures:i,pin_id:l,username:d,updateParentDidItCount:u}){const _={aggregatedPinDataId:e,details:t,image_signatures:i,pin_id:l};return t=>s.ZP.create("DidItActivityResource",_).callCreate().then((i=>{const s=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:r.USER_DID_IT_DATA_CREATE,payload:{user_did_it_data:s}}),t((0,n.Z)({feedId:e,feedType:o?a.DV.UNIFIED_COMMENTS:a.DV.USER_DID_IT_DATA,itemIds:[s.id],itemType:s.type})),t((0,n.Z)({feedId:d,feedType:a.DV.USER_DID_IT_DATA,itemIds:[s.id],itemType:s.type})),u&&t(c(e,1))}),(()=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:o,isOwnedByMe:n,pinId:r,username:d,updateParentDidItCount:u}){return _=>{s.ZP.create("DidItActivityResource",{user_did_it_data_id:o,pinId:r}).callDelete().then((s=>{n&&_(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(r)),_(l(o)),_((0,i.Z)({feedId:null!=e?e:"",feedType:t||a.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,i.Z)({feedId:d,feedType:a.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,i.Z)({feedId:d,feedType:a.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&_(c(o,-1))}),(()=>{}))}}function _({id:e,details:t,image_signatures:o,pinId:n}){const i={details:t,image_signatures:o,user_did_it_data_id:e,pin_id:n};return e=>{s.ZP.create("DidItActivityResource",i).callUpdate().then((t=>{const o=t.resource_response.data;e(function(e){return{type:r.USER_DID_IT_DATA_UPDATE,payload:{user_did_it_data:e}}}(o))}),(()=>{}))}}function h(e,t,o,n,r){const c={reason:n,detailed_reasons:t,user_did_it_data_id:o};return t=>{s.ZP.create("DidItActivityFlagResource",c).callCreate().then((()=>{t(l(o)),t((0,i.Z)({feedId:e,feedType:a.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),t((0,i.Z)({feedId:r,feedType:a.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"}))}),(()=>{}))}}},434190:(e,t,o)=>{o.d(t,{Z:()=>u,o:()=>l});var n=o(618446),i=o.n(n),s=o(682492),r=o.n(s),a=o(338739);const l={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},c={feature_map:{}},d=(e,t)=>{const o={...r()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return i()(e,o)?e:o},u=(e=c,t)=>{if(t.type===a.zP||t.type===a.aW){const{payload:{resource:o}}=t,n=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===o||"AggregatedCommentReplyFeedResource"===o||"DidItCommentsResource"===o){const t=(n||[]).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&n&&n.length>0){const t=n.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&n&&n.length>0){const t=n[0].aggregated_comment,o=t?{[t.id]:d(e[t.id],t)}:{},i=n[0].creator_reply,s=i?{[i.id]:d(e[i.id],i)}:{};return{...e,...o,...s}}if("AggregatedCommentFeaturesResource"===o&&n&&Object.keys(n).length>0)return{...e,feature_map:n}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:o}}=t;return{...e,[o.id]:o}}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:o}}=t,n={...e};return delete n[o],n}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==o})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:o}}=t;return{...e,[o.id]:d(e[o.id],o)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.reaction_counts[1]||0,s={1:o.reaction_by_me?i+1:i-1},r={...n,reaction_by_me:o.reaction_by_me,reaction_counts:s};return{...e,[o.id]:r}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.helpful_count||0,s=o.marked_helpful_by_me?i+1:i-1,r={...n,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:s};return{...e,[o.id]:r}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:o}}=t,n={...e[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:n}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e.feature_map,...o}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:o,id:n}}=t,i=e[n],s={...i,comment_count:i.comment_count+o};return{...e,[n]:s}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:o,tagged_users:n}}=t,i={...e[o],tagged_users:n};return{...e,[o]:i}}}return e}},281615:(e,t,o)=>{o.d(t,{DV:()=>a,ZP:()=>u,zX:()=>d});var n=o(467119),i=o(648284),s=o(588028),r=o(338739);const a={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregatedCommentReplies",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},l={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:a.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?a.AGGREGATED_COMMENT_REPLIES:a.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:(0,s.O)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:o,filters:s,query_pin_sigs:r,query:l,user:c},response:d})=>{var u;return{type:a.SEARCH_PINS,id:(0,i.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:s,query:l,selectedPinImgSig:r,scope:o,user:c}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,n.LM)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},c={aggregatedComments:{},aggregatedCommentReplies:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function d(e,t,o){const n=[...e],i=n.splice(t,1)[0];return n.splice(o,0,i),n}const u=(e=c,t)=>{switch(t.type){case r.zP:case r.aW:{var o;const{payload:n}=t,i=n.response.resource_response.data;if(null===(o=n.options)||void 0===o||!o.redux_normalize_feed)return e;const s=l[n.resource](n);if(s){const{type:o,id:n,items:l,reversed:c}=s;let d=(l||i||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,o)));c&&(d=d.reverse());const u=e[o][n];if(u||t.type!==r.aW){const i=u||[];let s=d;return t.type===r.aW&&(s=c?d.concat(i):i.concat(d)),{...e,[o]:{...e[o],[n]:s}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:o,feedId:n,itemType:i,targetItemId:s,sourceItemId:r}}=t,l=e[o]||{},c=l[n]||[];let u=-1,_=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(o)&&(u=c.findIndex((e=>e.type===i&&e.id===r)),_=c.findIndex((e=>e.type===i&&e.id===s))),-1!==u&&-1!==_)return{...e,[o]:{...l,[n]:d(c,u,_)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:o,feedId:n,inverseSelection:i,itemType:s,itemIds:r=[]}}=t,l=e[o]||{},c=l[n];if(c&&c.length>0&&(o===a.SECTION_PINS||o===a.BOARD_PINS)){const t=c.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&(i&&!t||!i&&t))})),a=!!t.find((e=>"pin"===e.type));return{...e,[o]:{...l,[n]:a?t:[]}}}if(c&&c.length>0&&o===a.BOARD_SECTIONS){const t=c.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&t)}));return{...e,[o]:{...l,[n]:t}}}if(c&&c.length>0&&(o===a.AGGREGATED_COMMENTS||o===a.BOARDLESS_PINS||o===a.CREATED_TAB_ACTIVITY_PINS_FEED||o===a.CREATED_TAB_STORY_PINS_FEED||o===a.UNIFIED_COMMENTS||o===a.USER_DID_IT_DATA||o===a.STORY_PIN_DATA)){const t=c.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&t)}));return{...e,[o]:{...l,[n]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:o,feedId:n,itemType:i,itemIds:s=[],prepend:r}}=t,l=e[o]||{},c=l[n];if(c&&(o===a.SECTION_PINS||o===a.BOARD_PINS||o===a.BOARDLESS_PINS)){const t=s.map((e=>({id:e,type:i})));let r=0;"story"===(c[0]||{}).type&&(r=1),"story"===(c[1]||{}).type&&(r=2);const a=[...c.slice(0,r),...t,...c.slice(r)];return{...e,[o]:{...l,[n]:a}}}if(c&&o===a.BOARD_SECTIONS){const t=[...s].reverse().map((e=>({id:e,type:"board_section"}))),i=c?[...t,...c]:[...t];return{...e,[o]:{...l,[n]:i}}}if(o===a.AGGREGATED_COMMENTS||o===a.AGGREGATED_COMMENT_REPLIES||o===a.CREATED_TAB_ACTIVITY_PINS_FEED||o===a.CREATED_TAB_STORY_PINS_FEED||o===a.UNIFIED_COMMENTS){const t=s.map((e=>({id:e,type:i}))),a=c?[...r?t:c,...r?c:t]:t;return{...e,[o]:{...l,[n]:a}}}if(o===a.USER_DID_IT_DATA){const t=s.map((e=>({id:e,type:i}))),r=c?[...t,...c]:t;return{...e,[o]:{...e[o],[n]:r}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:o,feedId:n}}=t,i=e[o]||{};if(i[n])return{...e,[o]:{...i,[n]:null}};break}}return e}},588028:(e,t,o)=>{o.d(t,{M:()=>i,O:()=>n});const n=(e,t)=>`${e}:${t||""}`,i=(e,t)=>e.feeds.profileBoards[n(t.username,t.boardOrder)]},217508:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:o,size:r=20}){const a=(0,n.ZP)();return(0,s.jsx)(i.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:r,height:r,rounding:"circle",justifyContent:"center",children:(0,s.jsx)(i.JO,{accessibilityLabel:a._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=o?o:r/2})})}},27255:(e,t,o)=>{o.d(t,{Z:()=>n});const n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},155378:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(319915),s=o(172071),r=o(707853),a=o(6637),l=o(947599),c=o(941646),d=o(499128),u=o(50286),_=o(898781),h=o(784590),p=o(19121),m=o(349700),g=o(798748),f=o(407043),x=o(343341),b=o(883119),v=o(785893);const y=(0,n.lazy)((()=>Promise.all([o.e(80582),o.e(13047)]).then(o.bind(o,380582)))),P=new b.H3([r.Z]);function w({handleComplete:e,isNag:t}){const o=(0,u.ZP)(),r=(0,p.Z)(),{logContextEvent:w}=(0,f.v)(),A=(0,_.ZP)(),[C,E]=(0,n.useState)(!0),[T,j]=(0,n.useState)(!1),{showOneToast:I}=(0,x.F9)(),S=(0,h.Z)({name:"UserResource",options:{user_id:r.id||""}}),z="desktop"===o;(0,n.useEffect)((()=>{w({event_type:13,component:13716,view_type:474})}),[]);const k=(0,v.jsxs)(b.xv,{align:z?"start":"center",children:[A._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,m.nk)(A._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,v.jsx)(b.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(b.rU,{href:g._I,inline:!0,target:"blank",underline:"hover",children:A._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),D=(0,v.jsxs)(b.kC,{direction:z?"row":"column",gap:z?2:4,children:[(0,v.jsx)(b.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,view_type:474,element:11984}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}),a.ZP.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}).callUpdate().then((()=>{S.refresh(),I((({hideToast:e})=>(0,v.jsx)(d.ZP,{duration:3e3,onHide:e,text:A._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:z?"lg":"md",text:A._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,v.jsx)(b.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,view_type:474,element:11985}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}),a.ZP.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}).callUpdate().then((()=>{S.refresh(),I((({hideToast:e})=>(0,v.jsx)(d.ZP,{duration:3e3,onHide:e,text:A._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:z?"lg":"md",text:A._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,v.jsx)(b.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,view_type:474,element:11986}),j(!0),z||E(!1)},size:z?"lg":"md",text:A._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,v.jsxs)(n.Fragment,{children:[C&&(z?(0,v.jsx)(b.xu,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:t?2:0,children:(0,v.jsxs)(b.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:t?0:6,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,children:[(0,v.jsx)(b.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:k}),(0,v.jsx)(b.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:D})]})}):(0,v.jsx)(b.mh,{zIndex:P,children:(0,v.jsx)(b.xu,{bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,v.jsxs)(b.xu,{alignItems:"center",borderStyle:"shadow",color:"white",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[k,(0,v.jsx)(b.xu,{marginTop:4,minWidth:240,children:D})]})})})),T&&(0,v.jsx)(i.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,v.jsx)(l.Z,{children:(0,v.jsx)(c.Z,{id:"settings-modal",children:(0,v.jsx)(y,{dismissIcon:"cancel",onClose:()=>j(!1),handleComplete:e})})})})]})}},918301:(e,t,o)=>{o.d(t,{CB:()=>h,y9:()=>_});var n=o(667294),i=o(121151),s=o(6637),r=o(898781),a=o(883119),l=o(785893);const c=({onConfirm:e})=>{const t=(0,r.ZP)(),[o,c]=(0,n.useState)(!1),d=()=>{c(!0),s.ZP.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,l.jsx)(i.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,l.jsxs)(a.kC,{justifyContent:"end",gap:2,children:[o?(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:o,onClick:d}):(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:o,onClick:d}),(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:e})]}),role:"alertdialog",children:(0,l.jsx)(a.xu,{padding:8,children:(0,l.jsx)(a.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};var d=o(425288);const{Provider:u,useHook:_}=(0,d.Z)("EmailVerificationReminderModal");function h({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showEmailVerificationReminderModal:()=>{o(!0)}})),[]);return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(u,{value:i,children:e}),t&&(0,l.jsx)(c,{onConfirm:()=>{o(!1)}})]})}},558068:(e,t,o)=>{o.d(t,{H:()=>l,n:()=>u});var n=o(667294),i=o(425288),s=o(925927),r=o(785893);const{Provider:a,useHook:l}=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var o;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(o=e.current)||void 0===o?void 0:o.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u({children:e}){const t=(0,s.k6)(),o=(0,s.TH)(),i=(0,s.$B)(),l={forward:[],current:{action:t.action,location:o,match:i},previous:[]},[c,u]=(0,n.useReducer)(d,l);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:o,match:i})}),[o]),(0,r.jsx)(a,{value:c,children:e})}},77601:(e,t,o)=>{o.d(t,{Z:()=>i});const n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function i({window:e,duration:t,run:o}){const i=n();let s=0,r=null;const a=()=>{const l=n()-i,c=l-s;if(t===1/0)o(0,l,c);else{const e=l/t;if(e>=1)return void o(1,l,c);o(e,l,c)}s=l,r=e.requestAnimationFrame(a)};return{start:()=>{r=e.requestAnimationFrame(a)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},366284:(e,t,o)=>{o.d(t,{G6:()=>s,i7:()=>r,oi:()=>n,u$:()=>i,un:()=>l,vU:()=>a});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>{switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function s(e){return i(e)===n.SAFARI}function r(e){return i(e)===n.CHROME}function a(e){return i(e)===n.FIREFOX}function l(e){return i(e)===n.EDGE}},752403:(e,t,o)=>{o.d(t,{Bu:()=>b,Dm:()=>a,Fp:()=>p,I:()=>P,NG:()=>g,QP:()=>u,S4:()=>c,Xe:()=>_,_f:()=>f,eT:()=>v,hm:()=>y,k$:()=>h,lz:()=>m,st:()=>d,yQ:()=>l,ym:()=>A});var n=o(642345);const i=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),s=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),a=[...Object.keys(i).map((e=>i[e])),...Object.keys(s).map((e=>s[e]))],l=[...Object.keys(r).map((e=>r[e]))],c=3,d=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],_={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},h="storefront_inspirational_badges_web",p="storefront_inspirational_badges_colors",m="merchant_storefront_api_profile_badges",g="https://help.pinterest.com/article/merchant-details",f="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile",x=["US"];function b({areBadgesEnabled:e,country:t,verifiedMerchant:o}){var n,i;const s=null==o?void 0:o.isVerifiedMerchant,r=null==o||null===(n=o.inspirational_signal)||void 0===n?void 0:n.is_inspirational,a=null==o||null===(i=o.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(e&&s&&r&&a&&!!t&&x.includes(t.toUpperCase()))}function v(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function y(e){return e.profile_badges||[]}function P(e,t,o){return t&&o?t.map((e=>o.find((t=>t.id===e.trim())))).filter(Boolean):[]}function w(e){const t=(0,n.oo)(e);if(!t)return"white";const[o,i,s]=t;return(0,n.DW)(o,i,s)<=n.I?"white":"black"}function A(e){const t=e||u[0];return{backgroundColor:t,color:w(t)}}},834911:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(835209),i=o(341732);function s({pin:e,shouldUnifyImageSizes:t,additionalImages:o}){const s=(0,n.Z)({richPinData:(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary)});return s&&o&&o.length>0?(0,i.Z)(null,o,e.carousel_data&&e.carousel_data.index,t,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,i.Z)(e.images,s.additional_images,e.carousel_data&&e.carousel_data.index,t,s.id):e&&e.carousel_data}},642345:(e,t,o)=>{o.d(t,{DW:()=>a,I:()=>r,oo:()=>s,vq:()=>i});const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},i=(e,t,o)=>"#"+n(e)+n(t)+n(o),s=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,a=(e,t,o)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(o/255)**2.2},367216:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(391254),s=o(898781),r=o(883119),a=o(785893);function l({onClick:e,onAnchorRefSet:t,isEmojiTrayOpen:o}){const[l,c]=(0,n.useState)(!1),d=(0,r.JZ)(),u=(0,s.ZP)(),_=l&&!d?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"};return(0,a.jsx)(r.xu,{display:"flex",justifyContent:"center",color:o?"lightGray":"transparent",rounding:"circle",children:(0,a.jsxs)(r.iP,{accessibilityLabel:u._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button'),rounding:"circle",onTap:()=>{null==e||e()},fullWidth:!1,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:[(0,a.jsx)(i.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,a.jsx)(r.xu,{ref:t,display:"flex",alignContent:"center",dangerouslySetInlineStyle:{__style:_},width:24,height:30,children:"😃"})]})})}},81636:(e,t,o)=>{o.d(t,{Q:()=>a,Z:()=>l});var n=o(667294),i=o(112690),s=o(780280),r=o(385740);function a(e,t){const{setViewContextData:o}=(0,r.sV)(),{requestIdentifier:a}=(0,s.B)(),l=(0,i.Z)();(0,n.useEffect)((()=>{var t;e&&(o({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),l({...e,event_type:13,request_identifier:a}))}),[t])}function l(e){const{children:t,log:o}=e;return a(o),t||null}},385740:(e,t,o)=>{o.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("View");let l;function c(){return l}function d({children:e,initialState:t={}}){const[o,i]=(0,n.useState)(t),a=(0,n.useCallback)((()=>{l={},i({})}),[]),c=(0,n.useCallback)((e=>{l={...l,...e},i((t=>({...t,...e})))}),[]),d=(0,n.useMemo)((()=>({viewContextData:o,clearViewContextData:a,setViewContextData:c})),[o,c,a]);return(0,s.jsx)(n.Fragment,{children:(0,s.jsx)(r,{value:d,children:e})})}function u(){const{viewContextData:e}=a();return e}},782534:(e,t,o)=>{o.d(t,{Z:()=>r,k:()=>i.k});var n=o(780280),i=o(451820),s=o(785893);const r=({dateFormatType:e,useUTC:t=!0,value:o})=>(0,s.jsx)(n.LC,{children:n=>(0,i.Z)(n.locale,o,e,t)})},202139:(e,t,o)=>{o.d(t,{DH:()=>n,F4:()=>r,FS:()=>i,N1:()=>d,N9:()=>l,UK:()=>s,VL:()=>a,v6:()=>c});const n=1e3,i=60*n,s=60*i,r=24*s,a=7*r,l=30*r,c=31*r,d=365*r},451820:(e,t,o)=>{o.d(t,{Z:()=>i,k:()=>n});const n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"};function i(e,t,o,i=!0){const s=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(o);i&&(s.timeZone="UTC");return new Intl.DateTimeFormat(e,s).format(t)}},966476:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);const i=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(973935);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class r extends n.Component{constructor(...e){super(...e),s(this,"observer",null),s(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const a=r},11363:(e,t,o)=>{o.d(t,{Bx:()=>i,N4:()=>r,is:()=>a,lt:()=>n,oM:()=>s});const n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),a=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},780679:(e,t,o)=>{o.d(t,{g:()=>r,t:()=>s});var n=o(667294);const i=(0,n.createContext)(null),s=i.Provider,r=()=>(0,n.useContext)(i)},946984:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(11363),s=o(154391);const r=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:o,limitedLoginModalSubheader:r}=(0,s.H)(),{shouldStopEventPropagation:a}=e,l="AUTH"===o.type,c=(0,n.ZP)();return l?e=>e:(e,o)=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),a&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0),r&&(o?r.setText(o):r.setText((0,i.lt)(c)))}}},274319:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(223815),s=o(934523),r=o(77601),a=o(883119),l=o(785893);function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{animation:null,visible:!1}),c(this,"setRef",(e=>{this.element||(this.element=e,null==e||e.addEventListener("dragover",this.handleDragOver),null==e||e.addEventListener("dragleave",this.handleDragLeave))})),c(this,"handleDragOver",(()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,o=(0,r.Z)({window,duration:1/0,run:(e,o,n)=>{const i=o<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+i*t*n)}});o.start(),this.setState({animation:o})}})),c(this,"handleDragLeave",(()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))})),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout((()=>this.setState({visible:!0})),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:o}=this.state;return(0,l.jsx)(a.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:s.hu;return(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.mh,{children:(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(d,{placement:"top",height:120+t}),(0,l.jsx)(d,{placement:"bottom",height:120})]})})})}},583421:(e,t,o)=>{o.d(t,{Z:()=>d,y:()=>a});var n=o(667294),i=o(60598),s=o(708206),r=o(785893);const a={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const l={hover:({index:e,onDragHover:t},o,n)=>{t(e,function(e,t){const o=t.targetEl;if(!(o&&o instanceof HTMLElement))return null;const{x:n,y:i}=e.getClientOffset(),{left:s,right:r,top:a,bottom:l,width:c,height:d}=o.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(s+r)/2,y:i-(a+l)/2},boundingBox:{width:c,height:d}}}(o,n))}};class c extends n.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:o,isDragging:n,isDraggingInternal:i}=this.props;return t(o((0,r.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:n||i?0:1},children:e})))}}const d=(0,s.compose)((0,i.GR)((e=>e.type),l,(e=>({connectDropTarget:e.dropTarget()}))),(0,i.Ej)((e=>e.type),{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},((e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}))))(c)},278380:(e,t,o)=>{o.d(t,{Lz:()=>n,TI:()=>i,X3:()=>s});function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function i({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:o}){const n=o?.5*t:0;return Math.abs(e)<n/2?"center":e<0?"left":"right"}function s({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:o}){if("center"===t||e===o)return e;const n="left"===t;return e<o===n?e:n?e-1:e+1}},345221:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(60598),i=(o(583421),o(266898)),s=o(708206);const r=e=>t=>(0,s.compose)(i.Z,(0,n.GR)(e,{},((e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}))))(t)},121093:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(966338),s=o(332611),r=o(242923);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends n.Component{constructor(...e){super(...e),a(this,"state",{hasCompleted:[],hasDismissed:[]}),a(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:o,viewExperience:n,viewExperienceObject:i}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",i(e)):o?n(e.placement_id,e.experience_id,o):n(e.placement_id,e.experience_id))})),a(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:o,experience:n,isBackendExperience:i,preventRemoval:s,targeting:r}=this.props,a=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:l}=n||{},c=s||2===a;(1===a||c)&&e&&l&&(i?o(n,c):r?t(e,l,c,r):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),a(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:o,isBackendExperience:n,preventRemoval:i,targeting:s}=this.props,{placement_id:r,experience_id:a}=o||{};o&&!this.state.hasDismissed.includes(a)&&(n?t(o):s?e(r,a,!!i,s):e(r,a,!!i),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),a(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:o,predicate:n,transitionType:i}=this.props,{experience_id:s,type:r}=e;if(t&&t.includes(s))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(o&&o.includes(r))return!0;if(i&&i===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,o=this.props.experience;o&&this.shouldRenderExperience()&&(t&&t.experience_id===o.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:o}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...o?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}a(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,i.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,o,n,i)=>e((0,s.CK)(t,o,n,!1,{},i)),completeExperienceObject:(t,o)=>e((0,r.Tl)(t,o)),dismissExperience:(t,o,n,i)=>e((0,s.Qu)(t,o,n,void 0,i)),dismissExperienceObject:t=>e((0,r.CF)(t)),viewExperience:(t,o,n)=>e((0,s.UT)(t,o,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,r.dy)(t))})))(l)},701500:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(249647),s=o(570470),r=o(883119),a=o(785893);class l extends n.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:o,zIndex:n}=this.props;return(0,a.jsx)(s.Z,{anchor:e,onTouch:t,onMouseEnter:o,zIndex:n})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:o,handleComplete:n}=this.props;if(!t)return null;const{cancelButtonText:i,confirmButtonText:s,mainText:l,idealDirection:c="down"}=t,d=i&&o&&s&&n;return(0,a.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:c,onDismiss:o,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,a.jsxs)(r.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,a.jsx)(r.xv,{color:"inverse",overflow:"breakWord",weight:"bold",children:l}),d?(0,a.jsxs)(r.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,a.jsx)(r.xu,{column:6,marginEnd:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>o(e),size:"md",text:String(i)})}),(0,a.jsx)(r.xu,{column:6,children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"white",size:"md",text:String(s),onClick:n})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var c=o(70061),d=o(764990),u=o(123159);function _({anchor:e,anchorElementRef:t,children:o,containerBoxConfig:s,experience:_,isHidden:h,onCompleteClick:p,zIndex:m}){var g;const{completeExperience:f,dismissExperience:x,experiences:b,viewExperience:v}=(0,u.M)(),y=(({anchor:e,anchorExperiences:t,passedExperience:o})=>o||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(b).reduce(((e,t)=>(8===t.type&&(e[(0,d.A0)(t)]=t),e)),{}),passedExperience:_}),P=(null==y||null===(g=y.display_data)||void 0===g?void 0:g.delay)||0,[w,A]=(0,n.useState)(!!P);if((0,n.useEffect)((()=>{if(P>0&&w){const e=setTimeout((()=>{A(!1)}));return()=>clearTimeout(e)}return()=>{}}),[P,w]),(0,n.useEffect)((()=>{!w&&y&&v(y.placement_id,y.experience_id)}),[w,y]),!y||w||h)return n.Children.only(o);const C=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,i.Z)(c.Z,!0)(t)})(y),E=()=>{var e;null!==(e=y.display_data)&&void 0!==e&&e.complete_on_hover&&f(y.placement_id,y.experience_id)};return(0,a.jsxs)(r.xu,{position:"relative",height:null==s?void 0:s.height,display:null==s?void 0:s.display,children:[(0,a.jsx)(r.iP,{onMouseEnter:E,onTap:()=>{p&&p(),C.skipComplete||f(y.placement_id,y.experience_id)},children:n.Children.only(o)}),(0,a.jsx)(l,{anchor:t||null,handlePulsarCompleteOnHover:E,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),x(y.placement_id,y.experience_id)},pulserOnly:!!C.pulserOnly,tooltip:C.tooltip,tooltipOnly:!!C.tooltipOnly,zIndex:m})]})}},123159:(e,t,o)=>{o.d(t,{F:()=>_,M:()=>u});var n=o(667294),i=o(966338),s=o(708206),r=o(957191),a=o(425288),l=o(332611),c=o(785893);const{Provider:d,useHook:u}=(0,a.Z)("ExperienceContext");function _({children:e}){const[t,o]=(0,n.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const o={...e};return delete o[t.payload],o}return e}),{}),a=(0,i.useDispatch)(),u=(0,i.useSelector)((e=>e.experiences)),_=(0,n.useMemo)((()=>{const e=(0,s.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:r.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},a);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),o({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{o({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[a,o]),h=(0,n.useMemo)((()=>({experiences:u,mountedPlacements:t,..._})),[u,t,_]);return(0,c.jsx)(d,{value:h,children:e})}},35396:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(155378),s=o(249647),r=o(6663),a=o(898781),l=o(785893);const c=function({color:e="default",handleDismiss:t=(()=>{}),header:o="",headerSubtitle:n="",dismissButtonText:i=""}){const s=(0,a.ZP)();return(0,l.jsx)(r.Z,{message:`${o} ${n}`,dismissButtonText:i||s._('Got it', 'dismissButton.hero.dismissText', 'Dismissing the Hero banner'),onDismiss:t,color:e})};var d=o(121093);const u=()=>{};function _({color:e,completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,dismissButtonText:i,handleComplete:s=u,handleDismiss:c=u,header:d="",headerSubtitle:_=""}){const h=(0,a.ZP)();return(0,l.jsx)(r.Z,{message:(d+" "+_).trim(),dismissButtonText:i||h._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),completeButtonText:t||h._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:s,onDismiss:c,external:n,color:e})}var h=o(391254);const p=function({color:e="default",completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,handleComplete:i=(()=>{}),header:s="",headerSubtitle:c=""}){const d=(0,a.ZP)();return(0,l.jsx)(r.Z,{message:(s+" "+c).trim(),completeButtonText:t||d._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:i,external:n,color:e})};var m=o(70061),g=o(116303),f=o(19121),x=o(349700),b=o(883119);function v({completeButtonText:e,headerSubtitle:t,handleComplete:o,handleDismiss:n}){const i=(0,a.ZP)(),s=(0,f.Z)(),{firstName:r,imageLargeUrl:c}=s.isAuth?s:{};return(0,l.jsx)(b.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,l.jsxs)(b.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,l.jsxs)(b.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(b.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,l.jsx)(g.Z,{name:r,src:c,size:"lg",outline:!0})}),(0,l.jsxs)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,l.jsx)(b.xu,{marginBottom:2,children:(0,l.jsx)(b.X6,{size:"400",children:(0,x.nk)(i._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:r})})}),(0,l.jsx)(b.xv,{children:t})]})]}),(0,l.jsx)(b.xu,{marginEnd:4,children:(0,l.jsx)(b.zx,{color:"white",size:"lg",text:e,onClick:o})}),(0,l.jsx)(b.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,l.jsx)(b.hU,{accessibilityLabel:i._('Close', 'accessible label for close button', 'accessible label for close button'),iconColor:"darkGray",icon:"cancel",onClick:n,size:"sm"})})]})})}var y=o(615071),P=o(780280);function w({completeButtonUrl:e,onDismiss:t,placementId:o}){const[r,a]=(0,n.useState)(!1),u=(0,P.B)();return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(h.Z,{unsafeCSS:"\n.ExperienceHero-enter {\n  opacity: 0;\n  transform: translateY(-50px);\n}\n\n.ExperienceHero-enter-active {\n  opacity: 1;\n  transform: none;\n  transition: all 400ms ease-out;\n}\n\n.ExperienceHero-exit {\n  opacity: 1;\n}\n\n.ExperienceHero-exit-active {\n  opacity: 0;\n  transition: opacity 400ms ease-out;\n}\n"}),(0,l.jsx)(d.Z,{placementId:o,eligibleTypes:[13],children:({complete:o,dismiss:n,experience:{display_data:d,experience_id:h}})=>{e&&(d.complete_button_url=e);const g=(e=>{switch(e){case 502597:return i.default;case 500863:return v;case 501153:case 501487:return p;case 504681:return c;default:return _}})(h),f={requestContext:u,experienceId:h,handleComplete:o,handleDismiss:()=>{t&&t(),n()},color:g===c?"darkGray":"blue",...(0,s.Z)(m.Z)(d)};return r||a(!0),(0,l.jsx)(y.Z,{in:r,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:(0,l.jsx)(b.xu,{marginBottom:4,children:(0,l.jsx)(g,{...f})})})}})]})}},333312:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(121093),s=o(570470),r=o(883119),a=o(785893);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class c extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:o,idealDirection:n}=this.props,i=o.slice(-3);return(0,a.jsx)(r.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((e=>(0,a.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(r.zd,{rounding:2,height:60,children:(0,a.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,o){return t&&e.text.replace("{boardName}",t),o?o(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:o,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:_=!0,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:x,positionRelativeToAnchor:b,shouldTimeoutDismiss:v,showCaret:y,textAlign:P,textOverflow:w,textOverrideFn:A,textWeight:C,customizedComplete:E,pulsarZIndex:T}=this.props,j=t||(({children:e})=>p?(0,a.jsx)(r.mh,{children:e}):e),I="blue";return(0,a.jsx)(i.Z,{eligibleIds:o,placementId:x,eligibleTypes:[8],children:({complete:t,dismiss:o,experience:{display_data:i}})=>(this.setDefaultPulsarTooltip(i),i.has_pulsar||i.has_tooltip?(v&&i.disappearTime&&i.disappearTime>0&&(this.timer=setTimeout((()=>(o(),null)),i.disappearTime)),(0,a.jsxs)(n.Fragment,{children:[i.has_pulsar&&(0,a.jsx)(s.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(i.has_tooltip,t),paused:this.state.paused,zIndex:T&&T.index()}),i.has_tooltip&&(!i.has_pulsar||this.state.paused)&&(i.thumbnail_urls?(0,a.jsx)(c,{anchor:e,dismiss:o,idealDirection:h||"down",text:i.text,thumbnails:i.thumbnail_urls}):(0,a.jsx)(j,{children:(0,a.jsx)(r.J2,{anchor:e,color:I,idealDirection:h||"down",onDismiss:m?()=>{}:o,positionRelativeToAnchor:!p&&b,shouldFocus:!1,showCaret:y,size:d,children:(0,a.jsxs)(r.xu,{column:12,padding:3,children:[(0,a.jsx)(r.xv,{align:"right"===P?"end":P,color:"inverse",overflow:w,size:u,weight:C||"bold",children:this.getText(i,l,A)}),i.sub_text&&(0,a.jsx)(r.xu,{paddingY:2,children:(0,a.jsx)(r.xv,{color:"inverse",size:u,children:i.sub_text})}),(i.dismiss_button_text||i.complete_button_text)&&(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[i.dismiss_button_text&&(0,a.jsx)(r.xu,{marginEnd:1,column:6,children:(0,a.jsx)(r.zx,{fullWidth:_,color:I,onClick:()=>{f&&f(),o()},size:"md",text:i.dismiss_button_text})}),i.complete_button_text&&(0,a.jsx)(r.xu,{column:i.dismiss_button_text?6:12,children:E?(0,a.jsx)(r.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,a.jsx)(r.xu,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(r.xv,{color:"shopping",weight:"bold",children:i.complete_button_text})})}):(0,a.jsx)(r.kC,{justifyContent:"center",children:(0,a.jsx)(r.zx,{fullWidth:_,color:"white",href:i.complete_button_cta_url,role:i.complete_button_cta_url?"link":"button",size:"md",target:i.complete_button_cta_url?"blank":null,text:i.complete_button_text,onClick:()=>{t(),g&&g()}})})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},636803:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(121093),i=o(839534),s=o(785893);const r=({anchors:e,idealDirection:t,onCompleteByAnchor:o,placementId:r,positionRelativeToAnchor:a,touchToDismiss:l,useMasonryFlyout:c})=>(0,s.jsx)(n.Z,{placementId:r,predicate:t=>{const{display_data:o}=t;if(2===(null==o?void 0:o.component_type)){const{anchors_by_platform:t}=o;if(null!=t&&t.web){const{anchor:o,placement:n}=t.web;return n===r&&o in e}}return!1},children:({complete:n,dismiss:r,experience:d})=>(0,s.jsx)(i.Z,{anchors:e,complete:n,dismiss:r,displayData:d.display_data,idealDirection:t,onCompleteByAnchor:o,platform:"web",positionRelativeToAnchor:a,touchToDismiss:l,useMasonryFlyout:c})})},332611:(e,t,o)=>{o.d(t,{CK:()=>_,N:()=>f,Qu:()=>h,UT:()=>u,YX:()=>g,d9:()=>p,fO:()=>l,kd:()=>m,pz:()=>c});var n=o(6637),i=o(764990),s=o(172071),r=o(957191);let a;const l=(e,t)=>o=>{const i=t?{extra_context:e,targeting:t}:{extra_context:e};return n.ZP.create("UserExperiencePlatformResource",i).callGet().then((e=>e.resource_response?o((0,r.OD)(e.resource_response.data)):void 0))},c=(e,t,o,s)=>(l,c)=>{if(t)return Promise.resolve();if(s&&(a=s),1===e.length){const t=e[0],n=c().experiences[t],s=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(s)===JSON.stringify(o)||(0,i.E3)(n)&&!(o&&Object.keys(o).length>0))return Promise.resolve()}return n.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:o||null,targeting:s}).callGet().then((e=>e.resource_response?l((0,r.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(o,i,s,c=!1,d,u)=>(_,h)=>{const{experiences:p,experiencesMulti:m}=h();let g=null,f=!0;var x;c||(f=p[o]&&p[o].experience_id===i,g=f?p[o]:Array.isArray(m[o])&&(null===(x=m[o])||void 0===x?void 0:x.find((e=>e.experience_id===i))));if(g&&g.experience_id===i||c&&o&&i){const c=n.ZP.create(e,{placed_experience_id:`${o}%3A${i}`,extra_context:null!=d?d:{},targeting:u}),h=f?r.Yb:r.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{_(h(o,i,t)),_(l(void 0,a))}));case"completed":return c.callUpdate().then((()=>{s||(_(h(o,i,t)),_(l(void 0,a)))}));case"viewed":return _(h(o,i,t)),c.callUpdate().then((()=>{1000162===o&&_(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{s||_(h(o,i,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),_=d("UserExperienceCompletedResource","completed"),h=d("UserExperienceResource","dismissed"),p=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(o,i)=>{const{experiences:r}=i(),a=r[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((o=>{const[,i]=o.split(":");let r=t;a.metadata&&a.metadata[i]&&(r=Object.assign({},t,a.metadata[i])),n.ZP.create("UserExperienceTriggerResource",{placed_experience_id:o.replace(":","%3A"),extra_context:r}).callUpdate().then((()=>{((e,t,o={})=>{s.Z.increment(`${e}.${t}`,1,o)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})}))}))},g=e=>(t,o)=>{t(m(e));const{experiences:n}=o();return n[e]},f=(e,t,o)=>n=>{o&&(a=o),n(m(e,t)),t&&Object.keys(t).length>0&&n(c([e],!1,t,o))}},242923:(e,t,o)=>{o.d(t,{CF:()=>a,Tl:()=>r,dy:()=>l});var n=o(6637),i=o(332611);const s=(e,t)=>(o,s)=>r=>{if(o&&o.id){const a=n.ZP.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{r((0,i.fO)())}));break;case"completed":a.callUpdate().then((()=>{s||r((0,i.fO)())}));break;case"viewed":a.callUpdate()}}},r=s("UserExperienceCompletedResource","completed"),a=s("UserExperienceResource","dismissed"),l=s("UserExperienceViewedResource","viewed")},764990:(e,t,o)=>{function n(e){return!!e&&0!==e.type}o.d(t,{A0:()=>s,E3:()=>n,MQ:()=>i});const i=(e,t,o)=>{const i=e[o];return t[o]&&n(i)?i:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,o)=>{o.d(t,{$S:()=>n,V$:()=>i,_4:()=>r,iY:()=>a,mR:()=>s});const n="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},957191:(e,t,o)=>{o.d(t,{NW:()=>r,OD:()=>l,Yb:()=>a,cL:()=>c,xW:()=>s});var n=o(6637),i=o(207737);const s=(e,t,o)=>({type:i.V$,payload:{placementId:e,experienceId:t,status:o}}),r=e=>t=>n.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:i.$S,payload:{experiencesMulti:o}})):void 0;var o})),a=(e,t,o)=>({type:i.iY,payload:{placementId:e,experienceId:t,status:o}}),l=e=>({type:i._4,payload:{experiences:e}}),c=e=>({type:i.mR,payload:{experiences:e}})},570470:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(883119),s=o(785893);function r({anchor:e,children:t,zIndex:o}){const r=(0,n.useRef)(null),[a,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),{height:u,width:_}=e.getBoundingClientRect();return(0,n.useEffect)((()=>{const{current:t}=r;if(e&&t){const{height:e,width:o}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:i}=((e,t,o,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(o/2-e/2)}))(u,_,e,o);l(n),d(i)}})),(0,s.jsx)(i.xu,{position:"absolute",zIndex:o?new i.Ry(o):void 0,dangerouslySetInlineStyle:{__style:{left:a,top:c}},ref:r,children:t})}const a=function(e){const{anchor:t,onTouch:o,onMouseEnter:n,paused:a,size:l,zIndex:c}=e;return t?(0,s.jsx)(r,{anchor:t,zIndex:c,children:(0,s.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>o(e),onMouseEnter:n,rounding:"circle",children:(0,s.jsx)(i.o3,{paused:a,size:l})})}):null}},839534:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(570470),s=o(883119),r=o(785893);const a=new s.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},c=({anchors:e={},complete:t,dismiss:o,displayData:c,idealDirection:d,onCompleteByAnchor:u={},platform:_,positionRelativeToAnchor:h=!0,touchToDismiss:p=!0,useMasonryFlyout:m=!1})=>{var g;const{anchors_by_platform:f={},button_text:x,button_uri:b,display_type:v,flyout_direction:y,scroll_to_dismiss:P,scroll_to_dismiss_delay_in_seconds:w=0,text:A}=c||{},C=null===(g=f[_])||void 0===g?void 0:g.anchor,E=e[C],T=(0,n.useCallback)((()=>{P&&(window.removeEventListener("scroll",T),window.removeEventListener("touchmove",T)),p&&E&&E.removeEventListener("click",T),setTimeout((()=>o()),1e3*w)}),[E]);if((0,n.useEffect)((()=>{E&&(P&&(window.addEventListener("scroll",T),window.addEventListener("touchmove",T)),p&&E.addEventListener("click",T))}),[E]),!E)return null;const{FLYOUT:j,PULSAR:I}={FLYOUT:1,PULSAR:2},S=({children:e})=>{if(m)return(0,r.jsx)(s.mh,{zIndex:a,children:e});if(v===I){const t={};if(h)t.top=E.offsetTop,t.left=E.offsetLeft,t.width=E.offsetWidth,t.height=E.offsetHeight;else{const e=E.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,r.jsx)(s.xu,{position:"absolute",top:!0,left:!0,zIndex:a,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,r.jsx)(s.xu,{zIndex:a,children:e})},z=l[y],k=b&&(b.startsWith("https://")||b.startsWith("http://")),D=(u||{})[C],R=()=>{P&&(window.removeEventListener("scroll",T),window.removeEventListener("touchmove",T)),p&&E.removeEventListener("click",T),t()};return(0,r.jsxs)(n.Fragment,{children:[v===I&&(0,r.jsx)(S,{children:(0,r.jsx)(i.Z,{anchor:E,onTouch:()=>{R(),D?D():E instanceof HTMLElement&&E.click()},zIndex:670})}),v===j&&(0,r.jsx)(S,{children:(0,r.jsx)(s.J2,{anchor:E,color:"blue",idealDirection:z||d||"down",onDismiss:T,positionRelativeToAnchor:!m&&h,shouldFocus:!1,showCaret:!0,size:"md",children:(0,r.jsxs)(s.xu,{padding:4,width:"220px",children:[(0,r.jsx)(s.xv,{align:"center",color:"inverse",weight:"bold",children:A}),x?(0,r.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,r.jsx)(s.xu,{column:8,children:b?(0,r.jsx)(s.zx,{fullWidth:!0,color:"white",href:b,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),R()},role:"link",size:"md",target:k?"blank":null,text:x}):(0,r.jsx)(s.zx,{fullWidth:!0,color:"white",onClick:R,size:"md",text:x})})}):null]})})})]})}},497529:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=(o(957191),o(764990)),s=o(123159);o(332611);function r(e){const{mountedPlacements:t,completeExperience:o,dismissExperience:r,experiences:a,fetchAllExperiences:l,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_}=(0,s.M)(),h=e?(0,i.MQ)(a,t,e):null;return(0,n.useMemo)((()=>({completeExperience:o,dismissExperience:r,experienceForPlacement:h,fetchAllExperiences:l,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_})),[o,r,h,l,c,d,u,_])}},784450:(e,t,o)=>{o.d(t,{ZP:()=>p});var n=o(667294),i=o(966338),s=o(618446),r=o.n(s),a=o(764990),l=o(123159),c=o(332611),d=o(780280),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},o)=>s=>{const p=function(e){return t=>({experience:t.experiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);o={...h,...o};const m=function(e,t,o=!0,s=!0,h=!1,p){class m extends n.Component{constructor(e){super(e),_(this,"state",{extraContext:void 0}),_(this,"setExtraContextState",(e=>{r()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(o,n){const{dispatch:i,experience:s,requestContext:a}=this.props;let l=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(l=t(o,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!r()(l,d)&&i((0,c.pz)([e],a.isBot,d)),!s||o.experience&&s.id===o.experience.id||i((0,c.kd)(e,d))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){const o="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},n=h&&null!=o&&o.advertiser_id?{advertiserId:o.advertiser_id}:void 0;this.props.mountPlacement(e,o,n)}render(){const{experience:e,experiencesMulti:t}=this.props,o={[h?"advertiserExperience":"experience"]:(0,a.E3)(e)?e:null};return(0,u.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...o,experiencesMulti:t})}}function g(e){const t=(0,d.B)(),o=(0,i.useDispatch)(),{mountPlacement:n,unmountPlacement:s}=(0,l.M)();return(0,u.jsx)(m,{...e,dispatch:o,mountPlacement:n,requestContext:t,unmountPlacement:s})}return g.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,g}(e,t,o.shouldUsePlacedExperience,o.dispatchMountActionDuringSSR,o.isAdvertiserPlacement,s);return(0,i.connect)(p)(m)}},572551:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var n=o(667294),i=o(319915),s=o(757184),r=o(317254),a=o(463076);function l(e=300,t=16,o=2){let n=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:(i-1)*e}px) and (max-width: ${i*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${i}) !important;\n  }\n}\n`}return n}var c=o(391254),d=o(883119),u=o(444445),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:o,paddingBottom:n}=this.getGutters();return(0,_.jsx)("div",{style:{paddingBottom:n,paddingLeft:o/2,paddingRight:o/2},children:(0,_.jsx)(t,{...e})})}))}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,o="simplified"===t,n=o?u.oX:e,i=o?16:6;return{gutterWidth:null!=n?n:u.ZZ,paddingBottom:i}}render(){const{columnWidth:e,flexible:t,items:o,layout:n,loadItems:i,masonryRef:s,measurementStore:r,scrollContainerRef:h,serverRender:p,virtualize:m,isGridCentered:g,minCols:f}=this.props,{gutterWidth:x}=this.getGutters(),b=p?"serverRenderedFlexible":"flexible";let v;g&&(v="gridCentered");const y=()=>(null==h?void 0:h.current)||window;return(0,_.jsxs)("div",{className:v,children:[p&&(0,_.jsx)(c.Z,{unsafeCSS:t?l((e||u.yF)+x,o.length||u.g5,f||u.yc):(0,a.Z)((e||u.yF)+x,o.length||u.g5,f||u.yc)}),(0,_.jsx)(d.Rk,{columnWidth:e+x,comp:this.renderItem,gutterWidth:0,layout:t?b:null!=n?n:"basic",items:o,loadItems:i,measurementStore:r,minCols:f,ref:e=>{s&&(s.current=e)},scrollContainer:y,virtualize:m})]})}}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}h(p,"defaultProps",{gutterWidth:u.ZZ,isGridCentered:!0,minCols:u.yc,paddingStyle:"simplified",virtualize:!0});class g extends n.Component{constructor(...e){super(...e),m(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,_.jsx)(i.Z,{name:"MasonryPerfTimingItem",children:(0,_.jsx)(t,{...e})})})),m(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:o,gutterWidth:n,isGridCentered:i,items:r,layout:a,masonryRef:l,minCols:c,paddingStyle:d,scrollContainerRef:u,serverRender:h,virtualize:m}=this.props;return(0,_.jsx)(p,{columnWidth:t,comp:this.renderItem,flexible:o,gutterWidth:n,isGridCentered:i,items:r,layout:a,loadItems:this.loadItems,masonryRef:l,measurementStore:(0,s.Z)(e),minCols:c,paddingStyle:d,scrollContainerRef:u,serverRender:h,virtualize:m})}}function f({cacheKey:e,columnWidth:t,comp:o,flexible:n,gutterWidth:i,isAtEnd:s,isFetching:a,isGridCentered:l=!0,isLoaded:c,items:d,pinData:u,layout:h,loadItems:p,masonryRef:m,minCols:f,paddingStyle:x,scrollContainerRef:b,serverRender:v=!0,virtualize:y=!0,includeBackgroundImages:P,includeVideos:w}){return(0,_.jsx)(r.Z,{isAtEndOfFeed:s,pinData:u,itemCount:d.length,includeBackgroundImages:P,includeVideos:w,children:(0,_.jsx)(g,{cacheKey:e,columnWidth:t,comp:o,flexible:n,gutterWidth:i,isFetching:a,isGridCentered:l,items:d,layout:h,loadItems:p,masonryRef:m,minCols:f,paddingStyle:x,scrollContainerRef:b,serverRender:v,virtualize:y})})}},757184:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119);const i={};function s(e){if(null!=e)return i[e]&&i[e].screenWidth===window.innerWidth||(i[e]={screenWidth:window.innerWidth,cache:n.Rk.createMeasurementStore()}),i[e].cache}},463076:(e,t,o)=>{function n(e=236,t=16,o=2){let n="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:i*e}px) and (max-width: ${(i+1)*e-1}px) {\n  .gridCentered {\n    width: ${i*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return n}o.d(t,{Z:()=>n})},694379:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(892819),i=o(780280),s=o(785893);const r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:o,shortform:r,shortformMaximumFractionDigits:a,formatStyle:l,uplimit:c,value:d})=>{const u=(0,n.Z)();return(0,s.jsx)(i.LC,{children:n=>u(n.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:o,shortform:r,shortform_maximum_fraction_digits:a,style:l,uplimit:c})})}},890087:(e,t,o)=>{o.d(t,{$m:()=>d,ak:()=>c,j3:()=>l,yv:()=>a});var n=o(898781),i=o(883119),s=o(780280),r=o(785893);function a(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function l(){const{country:e=""}=(0,s.B)();return a(e)}function c(){const e=(0,n.ZP)();return e._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}function d(e){return(0,r.jsx)(i.xv,{...e,children:c()})}},298361:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(349700),s=o(202139);function r(){const e=(0,n.ZP)();return function(t,o){const n=new Date(t),r=new Date-n,a=Math.floor(r/s.FS),l=Math.floor(r/s.UK),c=Math.floor(r/s.F4),d=Math.floor(r/s.VL),u=Math.floor(r/s.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', a, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),f=e.ngettext('{{ minutes }}m', '{{ minutes }}m', a, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),b=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),y=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,i.nk)(o?y:g,{years:u}).join(""):d>0?(0,i.nk)(o?v:m,{weeks:d}).join(""):c>0?(0,i.nk)(o?b:p,{days:c}).join(""):l>0?(0,i.nk)(o?x:h,{hours:l}).join(""):a>0?(0,i.nk)(o?f:_,{minutes:a}).join(""):e._('Just now', ' - ', ' -- ')}}},892819:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(66699),i=o(898781);const s=(e,t)=>{const o=t||0,n=10**o,i=+(o?e*n:e).toFixed(8),s=Math.floor(i),r=i-s,a=r>.5-1e-8&&r<.5+1e-8?s%2==0?s:s+1:Math.round(i);return o?a/n:a},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function a(){const e=(0,i.ZP)();return(t,o,i)=>{let a=0,l=0;const c=i&&i.style||void 0,d=i&&i.shortform||!1,u=i&&i.uplimit||void 0,_=i&&i.currency||void 0,h=!!u&&o>=u,p=u&&h?u:o;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:o}=((e,t)=>{if(t){const{minimumFractionDigits:o,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==o&&void 0!==n)return{minimumFractionDigits:o,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,_);a=void 0===i||void 0===i.maximum_fraction_digits?o:i.maximum_fraction_digits,l=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else a=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,l=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(d&&p>999&&(a=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,l=0),a<l)return String(p);let m=p,g="";const f=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],b=/^zh|ja|ko/.test(t);if(d&&p>999){const e=b?f:x;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],n=e[t][o].value;if(p>=n){m=s(p/n*Math.pow(10,a))/Math.pow(10,a),g=e[t][o].localeKey;break}}}if(null==m)return"";const v=m.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:n})=>{const i={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...i,style:o,..."currency"===o?{currency:n,currencyDisplay:"symbol"}:{}}:i})({maximumFractionDigits:a,minimumFractionDigits:l,currency:_,style:c}));return(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:v,numberSuffix:g})+(h?"+":"")}}},366428:(e,t,o)=>{o.d(t,{F:()=>d,Z:()=>c});var n=o(667294),i=o(834911),s=o(124580),r=o(407043),a=o(802201);const l={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9975}};function c({closeupImpressionType:e,closeupNavigationType:t,componentType:o,contextLogData:c,elementType:d,impressionAuxFields:u,inImpressionExp:_,impressionType:h,impressionsFramework:p,isPaused:m,loggingId:g,objectIdStr:f,slotIndex:x,trackCarousel:b,viewData:v,viewParameter:y,viewType:P}){const{logContextEvent:w}=(0,r.v)(),A=(0,a.AF)(),C=g?A[g]:{},E=(0,i.Z)({pin:C}),T=p||s.Z,j=(0,n.useRef)(null),I=n=>{const i=l[h],s=i.idType,r={endTime:n.endTime,[s]:g,slotIndex:x,time:n.startTime,renderDuration:n.endTime-n.startTime,type:e,...u,forcedExit:"removed"===n.forcedExit?0:void 0},a={component:o,object_id_str:f,view_type:P,view_data:v||{},view_parameter:y};if(b){if(E){var _,p,m;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...r,carouselDataId:Number(E.id),carouselSlotId:(null===(_=E.carousel_slots)||void 0===_?void 0:_[null!==(p=E.index)&&void 0!==p?p:0])&&Number(E.carousel_slots[null!==(m=E.index)&&void 0!==m?m:0].id),slotIndex:E.index}]},...a,aux_data:{...c}})}}else w({event_type:i.eventType,...a,element:d,event_data:{[i.impressionType]:[r]},aux_data:{closeup_navigation_type:t,...c}})},S=(0,n.useCallback)((()=>{try{j.current instanceof HTMLElement&&T.start(j.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[j.current]);(0,n.useEffect)((()=>(_&&!T.inExperiment&&T.setExperimentStatus(!0),m||S(),()=>{j.current instanceof HTMLElement&&T.stop(j.current)})),[S]);const z=(0,n.useRef)(m);return(0,n.useEffect)((()=>{z.current&&!m&&S(),z.current=m}),[m,S]),j}const d=({children:e,...t})=>e({impressionTrackerRef:c(t)})},349700:(e,t,o)=>{function n(e,t,o){return e.split(o).map((e=>{if(e.match(o)){const o=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,o))return t[o]}return e}))}o.d(t,{Wc:()=>r,bF:()=>l,nk:()=>s});const i=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return n(e,t,i)}function r(e,t){return n(e,t,i).join("")}const a=/(\{\s*\w+\s*\})/g;function l(e,t){return n(e,t,a)}},965261:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(6637);const i=e=>n.ZP.create("InviteAttributionResource",{invite_code:e}).callCreate();var s=o(826067);const r=(e=(e=>{}))=>{const t=(0,s.mB)(window.location.search),o=t.invite_code;o?i(o):e(t)}},249647:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(968630),i=o.n(n);function s(e,t=!1){return o=>{if(!i()(o))return t&&Array.isArray(o)?o.map(s(e,t)):o;const n={};return Object.keys(o).forEach((r=>{const a=e(o[r],r);i()(o[r])||t&&Array.isArray(o[r])?n[a]=s(e,t)(o[r]):n[a]=o[r]})),n}}function r(e,t=!1){const o=(t,o)=>e(o);return e=>s(o,t)(e)}},567450:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>r});const i=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},s=e=>{if(e.isHidden){const{reason:t}=e;i.onPauseListeners.forEach((e=>e(t)))}else i.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>s({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>s({isHidden:!1}))),window.addEventListener("blur",(()=>s({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>s({isHidden:!1}))),window.addEventListener("pagehide",(()=>s({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const r=i},307061:(e,t,o)=>{o.d(t,{Z:()=>n});const n=function(e){return function(t){return null!=t?e(t):null}}},802933:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},584595:(e,t,o)=>{o.d(t,{$j:()=>k,Bb:()=>A,Cx:()=>F,D4:()=>I,E6:()=>E,H9:()=>L,Jt:()=>O,Jw:()=>s,NF:()=>a,OW:()=>c,Pv:()=>D,RL:()=>v,V4:()=>y,ZP:()=>N,Zn:()=>w,_K:()=>h,aG:()=>_,an:()=>T,at:()=>R,bd:()=>l,cZ:()=>d,dO:()=>u,hU:()=>m,iK:()=>x,iZ:()=>z,lg:()=>p,nY:()=>f,nf:()=>b,oP:()=>g,pH:()=>n,qF:()=>M,rM:()=>S,rm:()=>j,tL:()=>r,tz:()=>i,xN:()=>C,yV:()=>P});const n=101,i=93,s=117,r=116,a=111,l=9,c=8,d=16,u=12,_=3,h=18,p=105,m=79,g=78,f=77,x=76,b=1402,v=85,y=82,P=88,w=1201,A=86,C=30,E=84,T=83,j=2901,I=2904,S=2905,z=95,k=19,D=113,R=91,O=2501,L=3050,F=[c,l],M=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[p,"FACEBOOK_ACCOUNT_NOT_LINKED"],[u,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[d,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[f,"INVALID_PASSWORD_FB_USER"],[g,"INVALID_PASSWORD_ERROR_CODE"],[m,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[y,"LOGIN_DEACTIVATED_USER"],[T,"LOGIN_POLICY_VIOLATION_USER"],[v,"AUTO_PASSWORD_RESET_ERROR_CODE"],[A,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[i,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[r,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[c,"API_LIMIT_EXCEEDED_ERROR"],[l,"API_EVENT_BLOCKED_ERROR"],[k,"USER_IN_SAFE_MODE"],[E,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[v,"LOGIN_BAD_PASSWORD_ASK_RESET"],[w,"LOGIN_MFA_REQUIRED"],[C,"LOGIN_USER_NOT_FOUND"],[P,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[j,"SAR_DOWNLOAD_LIMIT"],[I,"SAR_EMAIL_UNVERIFIED"],[S,"SAR_EMAIL_MISSING"]]),N=[c,l,k,T,v,P]},79830:(e,t,o)=>{o.d(t,{I6:()=>h,Ib:()=>g,PF:()=>_,Tr:()=>f,W7:()=>s,YC:()=>l,a2:()=>u,a7:()=>d,h5:()=>n,hC:()=>r,lA:()=>x,n$:()=>i,oo:()=>p,s7:()=>c,vI:()=>a,vq:()=>m});const n="MULTIPLE_ACCOUNTS",i="MULTIPLE_ACCOUNTS_GROUP",s="account_switcher_flyout",r="account_switcher_modal",a="vmp_account_switcher_modal",l="account_recovery",c="closeup",d="google_one_tap_modal",u="hybrid_clickthrough",_="pin_image",h="response_flyout",p="unauth_header",m="facebook",g="twitter",f="google",x="microsoft"},760372:(e,t,o)=>{o.d(t,{X:()=>n});const n="favorited"},648492:(e,t,o)=>{o.d(t,{Z:()=>i});const n=new function(){function e(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:o}function t(e,t,n){let l;for(e=n?Math.floor(e/i):e>>1,e+=Math.floor(e/t),l=0;e>(o-s)*r>>1;l+=o)e=Math.floor(e/(o-s));return Math.floor(l+(o-s+1)*e/(e+a))}this.utf16={encode:function(e){for(var t,o=[],n=0,i=e.length;i>n;){if(55296==(63488&(t=e[n++])))throw!0;t>65535&&(t-=65536,o.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),o.push(String.fromCharCode(t))}return o.join("")}};var o=36,i=700,s=1,r=26,a=38,l=2147483647;this.decode=function(n,i){let a,c,d,u,_,h,p,m,g,f,x,b,v,y=[],P=[],w=n.length;for(a=128,d=0,u=72,_=n.lastIndexOf("-"),0>_&&(_=0),h=0;_>h;++h){if(i&&(P[y.length]=n.charCodeAt(h)-65<26),n.charCodeAt(h)>=128)throw!0;y.push(n.charCodeAt(h))}for(p=_>0?_+1:0;w>p;){for(m=d,g=1,f=o;;f+=o){if(p>=w)throw!0;if(x=e(n.charCodeAt(p++)),x>=o)throw!0;if(x>Math.floor((l-d)/g))throw!0;if(d+=x*g,b=f>u?u+r>f?f-u:r:s,b>x)break;if(g>Math.floor(l/(o-b)))throw!0;g*=o-b}if(c=y.length+1,u=t(d-m,c,0===m),Math.floor(d/c)>l-a)throw!0;a+=Math.floor(d/c),d%=c,i&&P.splice(d,0,n.charCodeAt(p-1)-65<26),y.splice(d,0,a),d++}if(i)for(d=0,v=y.length;v>d;d++)P[d]&&(y[d]=String.fromCharCode(y[d]).toUpperCase().charCodeAt(0));return this.utf16.encode(y)},this.toUnicode=function(e){for(var t=e.split("."),o=[],i=0;i<t.length;++i){const e=t[i];o.push(e.match(/^xn--/)?n.decode(e.slice(4)):e)}return o.join(".")}};function i(e){try{return n.toUnicode(e)}catch(t){return e}}},813401:(e,t,o)=>{o.d(t,{kf:()=>g,l5:()=>p,of:()=>_,xC:()=>m,yz:()=>h});var n=o(667294),i=o(172071),s=o(829407),r=o(807609),a=o(30287),l=o(425288),c=o(785893);const{Provider:d,useMaybeHook:u}=(0,l.Z)("PwaContext"),_=({children:e,initialContext:t})=>{const[o,r]=(0,n.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,s.Z)((()=>{const e=(0,a.FB)(window)||"unknown";r(e),u!==e&&i.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const _="unknown"===u&&o?o:u,h=l.twaType,p=(0,n.useMemo)((()=>({pwaType:_,twaType:h})),[_,h]);return(0,c.jsx)(d,{value:p,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},p=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},m=()=>"android-twa"===h(),g=()=>{const e=h(),t=(0,r.Z)();return"unknown"===e&&t?null:"windows"===e}},335972:(e,t,o)=>{o.d(t,{Z:()=>$});var n=o(667294),i=o(317672),s=o(790348);const r=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const o=t.name.replace(".jpg","").split("/");return{[o[o.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const o=e.src.replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]){var s;const o=(null===(s=(0,i.rZ)(e))||void 0===s?void 0:s.width)||1,r=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const o=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]&&e instanceof HTMLDivElement){var s;const o=(null===(s=(0,i.rZ)(e))||void 0===s?void 0:s.width)||1,r=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:o,fileName:n,downloadedSize:i}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*o)/10,tags:{fileName:`${i}_${n}`}})}))};var a=o(860273),l=o(543059),c=o(607150);const d=({constraintMap:e,initialNavTiming:t,annotations:o})=>({...o,...(0,c.jh)("constraint_",e),...(0,c.jh)("mark_",(0,l.gQ)()),...(0,c.jh)("browser_",{...t?(0,c.D3)(t):{},...(0,c.rX)()})});var u=o(358864),_=o(505771),h=o(156381);const p=(e,t)=>{const{firstInputDelay:o}=(0,h.v2)();return[...e.map((e=>(0,_.Z)(e,t))).filter(Boolean),...o?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:o.startTime,endTime:o.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var m=o(22773),g=o(453821),f=o(638089);const x=({annotateExperiments:e,annotations:t,binaryAnnotations:o,constraintMap:n,endTime:i,imageTimings:s,metricId:r,pwtStaticContext:l,startTime:c,traceId:u,spans:_})=>{const h=(0,m.Cg)();let x;"initial_app_load"===r.navigationType&&(x=(0,a.Z)());const b=s.map((({name:e})=>e)),v=h.map((e=>(0,g.p)(e,b))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},o)=>e>o.endTime||!!t&&t<o.startTime||e<o.startTime-100)(e,{startTime:c,endTime:i})));return{type:"COMPLETE",traceId:u,startTime:c,endTime:i,spans:p(v,u).concat(_),annotationMap:d({constraintMap:n,initialNavTiming:x,annotations:t}),binaryAnnotationMap:(0,f.rA)({annotateExperiments:e,binaryAnnotations:o,entries:h,metricId:r,performanceResources:v,pwtEndTime:i,pwtStaticContext:l})}};let b=!1;const v=(e,t)=>e&&t?b?((0,s.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(b=!0,t):(0,u.Z)();var y=o(883119),P=o(226464),w=o(785893);function A({children:e,heading:t}){return(0,w.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,w.jsx)("thead",{children:(0,w.jsx)("tr",{children:(0,w.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,w.jsx)(y.xv,{weight:"bold",align:"center",children:t})})})}),(0,w.jsx)("tbody",{children:e})]})}function C({name:e,children:t}){return(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:(0,w.jsx)(y.xv,{weight:"bold",children:e})}),(0,w.jsx)("td",{children:"string"==typeof t?(0,w.jsx)(y.xv,{children:t}):t})]})}function E({result:e}){return"ABORT"===e.type?(0,w.jsx)(C,{name:"Abort Reason",children:e.reason}):(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(C,{name:"PWT (ms)",children:(0,w.jsx)(y.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,w.jsx)(C,{name:"PinTrace",children:(0,w.jsx)(y.xv,{italic:!0,children:(0,w.jsx)(y.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:"Open in a new tab"})})})]})}function T({data:e}){const{metricId:t,constraints:o,constraintMap:n,startTime:i,result:s}=e;return(0,w.jsxs)(y.xu,{children:[(0,w.jsxs)(A,{heading:(0,P.KJ)(t),children:[(0,w.jsx)(C,{name:"Thrift Id",children:String((0,P.Rp)(t))}),(0,w.jsx)(C,{name:"Surface",children:t.surface}),(0,w.jsx)(C,{name:"Navigation Type",children:t.navigationType}),(0,w.jsx)(C,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,w.jsx)(A,{heading:"Constraints",children:o.map((e=>(0,w.jsx)(C,{name:e,children:(0,w.jsx)(y.xv,{align:"end",children:n[e]?Math.round(n[e]-i):"pending..."})},`constraint_${e}`)))}),(0,w.jsx)(A,{heading:"Result",children:s?(0,w.jsx)(E,{result:s}):(0,w.jsx)(C,{name:"result",children:(0,w.jsx)(y.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var j=o(223815);const I=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function S({data:e}){const[t,o]=(0,n.useState)(!1);return(0,w.jsx)(j.Z,{children:(0,w.jsxs)(y.mh,{children:[(0,w.jsx)(y.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,w.jsx)(y.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:I(e),icon:"flash",size:"lg",onClick:()=>o(!0)})}),t&&(0,w.jsx)(y.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,w.jsx)(y.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>o(!1),footer:null,size:"sm",children:(0,w.jsx)(y.xu,{padding:6,children:(0,w.jsx)(T,{data:e})})})})]})})}var z=o(558775);const k=(e,t)=>{const o=(0,n.useRef)(e);(0,n.useEffect)((()=>{o.current=e}),[e]);const i=(0,n.useRef)(t);(0,n.useEffect)((()=>{i.current=t}),[t]),(0,n.useEffect)((()=>()=>i.current(o.current)),[])},D=(e,t)=>{const[o,i]=(0,n.useState)(t);return{state:o,dispatch:t=>i((o=>e(o,t)))}};var R=o(985271),O=o(7789),L=o(383434),F=o(567450),M=o(276602),N=o(404646);const B=["initial_app_load","client_route_push"],U=(0,L.X)("PwtSurface"),Z="NavigationComplete",G="VisuallyComplete",H=(e,t)=>{e.isSampled&&(0,z.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},V=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var o;const{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:a},annotations:l,binaryAnnotations:c,constraintMap:d,startTime:u,imageTimings:_,isSampled:h,spans:p}=e,m=v("initial_app_load"===n.navigationType,null===(o=i.serverData)||void 0===o?void 0:o.trace_id),g=x({annotateExperiments:a,annotations:l,binaryAnnotations:c,constraintMap:d,endTime:t,imageTimings:_,metricId:n,pwtStaticContext:i,startTime:u,traceId:m,spans:p});h&&(0,z.Z)({metricId:n,pwtStaticContext:i,result:g});try{r(String(g.binaryAnnotationMap["metricId.surface"].value))}catch(f){(0,s.H)("image_ratio_check_error",{error:f})}return{...e,result:g,status:"DONE"}})(e,t)}return e},W=(e,t)=>{const{constraint:o,time:n}=t,i=(0,P.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find((e=>e===o))?e.constraintMap[o]?(U(`constraint "${o}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:o,action:i}),e):(U(`marking constraint "${o}" as complete`),(0,l.ZP)(`constraint_${o}_is_complete`),V({...e,constraintMap:{...e.constraintMap,[o]:n||R.Z.now()}})):(U(`marked constraint "${o}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:i}),e)},K=(e,t)=>{if(U("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:o,startTime:n,isSampled:i}=t;if("TIMING"===e.status&&n!==e.startTime&&H(e,"routeUpdatedOnSameSurface"),!o)return{status:"DISABLED",metricConfig:null};const r=(0,P.KJ)(o.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap.NavigationComplete?((0,s.H)("duplicated_init_route_action",{action:r}),e):("Other"===o.pwtStaticContext.browserName&&!1===o.metricId.isAuthenticated&&"initial_app_load"===o.metricId.navigationType?((0,s.A9)(`TIMING.${r}`,{tags:{userAgent:null===(a=window)||void 0===a||null===(l=a.navigator)||void 0===l?void 0:l.userAgent}}),(0,s.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(d=c.navigator)||void 0===d?void 0:d.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${r}`),(0,s.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),W({status:"TIMING",metricConfig:o,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:Z}));var a,l,c,d})(e,t.payload);if("TIMING"!==e.status)return U(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":H(e,t.reason);const o={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:o};case"ANNOTATE":const{name:n}=t.payload;if(!R.Z)return e;const i=R.Z.now();return U(`adding annotation {${n}: ${i}}`),{...e,annotations:{...e.annotations,[n]:i}};case"BINARY_ANNOTATE":const{name:r,value:a,annotationType:l}=t.payload;return U(`adding binary annotation {${r}: ${a}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:a,type:l}}};case"MARK_CONSTRAINT_COMPLETE":return W(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!R.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}U(`removing constraint "${t}"`);const o=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:n,...i}=e.constraintMap;return V({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:o}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!R.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}U(`updating pwt segment to "${t}"`);const o={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:o}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:o}}=t;if(0===o.length){H(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const n=Math.max(...o.map((e=>e.responseEnd||0)));return W({...e,imageTimings:o},{constraint:G,time:n})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:_,endTime:h,annotations:p,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:d,id:(0,u.Z)(),startTime:_||c,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const f=e.spans.findIndex((e=>e.name===t.payload.name));return f>-1?(e.spans[f].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[f].annotationMap={...e.spans[f].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[f].binaryAnnotationMap={...e.spans[f].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const x=(0,P.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:x}),e}};function $({children:e,...t}){var o;const i=(0,N.fM)(),r=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(i),a=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth",...null!==(o=t.annotateExperiments)&&void 0!==o?o:[]],l={...t,annotateExperiments:a,navigationInfo:{navigationType:r,clientNavigation:i}},{state:c,context:d}=(({surface:e,constraints:t,segment:o,measureGridVisuallyComplete:i,annotateExperiments:s,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:a,navigationType:l},sampleRate:c})=>{const d=(0,n.useRef)("NOT_SET"),u=(0,N.N5)(),{state:_,dispatch:h}=D(K,{status:"DISABLED",metricConfig:null});if(d.current!==a&&(d.current=a,u)){const{isAuthenticated:n}=u,d=r||B,_=e&&l&&d.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:n,segment:o},annotateExperiments:s,constraints:[Z,...t||[],...i?[G]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:_,startTime:a?a.time:0,isSampled:!c||Math.random()<c}})}if((0,n.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};F.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{F.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),k(_,(e=>{U("handling unmount",e),"TIMING"===e.status&&H(e,"unmount")})),"TIMING"!==_.status||!_.constraintMap.NavigationComplete)return{state:_,context:null};const{startTime:p,metricConfig:m}=_;return{state:_,context:{id:p,metricId:m.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,o)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:o}}),setVisuallyCompleteResult:m.constraints.includes(G)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,o,n={},i={},s=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:s}}),startSubspan:(e,t={},o={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}}),stopSubspan:(e,t={},o={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}})}}})(l);return(()=>{const e=(0,M.EV)(),t=!!e;(0,n.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,P.KJ)(e.metricId):null;(0,s.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(M.Sb,{value:d,children:e}),O.DQ&&"DISABLED"!==c.status&&(0,w.jsx)(S,{data:{metricId:c.metricConfig.metricId,constraints:c.metricConfig.constraints,constraintMap:c.constraintMap,startTime:c.startTime,result:"DONE"===c.status?c.result:null}})]})}},317254:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(969853),i=o(667294),s=o(276602),r=o(543059);function a({children:e,isAtEndOfFeed:t,pinData:o,itemCount:a,includeBackgroundImages:l=!1,includeVideos:c=!1}){return(0,n.Z)({pinData:o,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:c}),function(e){const t=(0,s.EV)(),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{e!==o.current&&(o.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(a),e}},528961:(e,t,o)=>{o.d(t,{cC:()=>s,jy:()=>i,qr:()=>a,sk:()=>r});const n=e=>"number"==typeof e?Math.round(e):e,i=e=>({type:"I16",value:n(e)}),s=e=>({type:"I32",value:n(e)}),r=e=>({type:"STRING",value:e}),a=e=>({type:"BOOL",value:e})},311560:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},505920:(e,t,o)=>{o.d(t,{UZ:()=>c,Z8:()=>d});var n=o(667294),i=(o(966338),o(6637)),s=o(425288),r=o(785893);const{Provider:a,useHook:l}=(0,s.Z)("ResourceContext");function c({children:e}){const[t,o]=(0,n.useReducer)(((e,t)=>{var o;switch(t.type){case"addListener":const n=[...null!==(o=e[t.payload.name])&&void 0!==o?o:[],t.payload.handler];return{...e,[t.payload.name]:n};case"removeListener":if(!e[t.payload.name])return e;const i=e[t.payload.name].filter((e=>e!==t.payload.handler));return{...e,[t.payload.name]:i};default:return e}}),{});i.ZP.fetchCompleteCallback=({resource:e,options:o,response:n,normalizedResponse:i,refresh:s,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:s,normalizedResponse:i,options:o,schema:r,resource:e,response:n})))};const s=(0,n.useMemo)((()=>({listenerDispatch:o})),[]);return(0,r.jsx)(a,{value:s,children:e})}function d(e,t){const{listenerDispatch:o}=l();(0,n.useEffect)((()=>(o({type:"addListener",payload:{name:e,handler:t}}),()=>{o({type:"removeListener",payload:{name:e,handler:t}})})))}},857079:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({accessibilityLabel:e}){return(0,i.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294);const i=(0,n.createContext)();var s=o(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:o=!1}){const r=t||null;(0,n.useContext)(i);return(0,s.jsx)(n.Suspense,{fallback:r,children:e})}},947599:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(497997).Z},304903:(e,t,o)=>{function n(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function s(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function r(e){return e===window?i():e.scrollTop}function a(){window&&window.scroll(0,0)}o.d(t,{MX:()=>r,S$:()=>i,Uy:()=>n,aZ:()=>s,vM:()=>a})},730447:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(254469);function s({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:o,resourceName:s,resourceOptions:r,value:a}){const l=(0,i.Z)({allowSearchOnMount:e,resourceName:s,resourceOptions:r,value:a});return(0,n.useEffect)((()=>{null!=l&&l.length&&o(l)}),[l]),t||null}},864537:(e,t,o)=>{o.d(t,{Jc:()=>a,NO:()=>r,R3:()=>s,ge:()=>d,th:()=>l});var n=o(643913);const i=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],s={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function r(e){return(e||"").trim().replace(/\s+/g," ")}function a({type:e,term:t="",index:o}){switch(e){case s.USER_INPUT:case s.AUTO_COMPLETE_HASHTAG:case s.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case s.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${o}`;case s.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${o}`;case s.AUTO_COMPLETE_TRENDING:return`${t}|trending|${o}`;case s.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${o}`;case s.SEARCH_GUIDE:return`${t}|guide|word|${o}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,n.Z)({term_meta:e.map((e=>a(e)))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>i.includes(e.toLowerCase())))?[e]:t}return[]}function d({type:e,query:t="",index:o}){switch(e){case s.USER_INPUT:case s.AUTO_COMPLETE_HASHTAG:case s.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map((t=>({index:o,term:t,type:e})));case s.AUTO_COMPLETE_RECENT_SEARCH:case s.AUTO_COMPLETE_RECOMMENDED_SEARCH:case s.AUTO_COMPLETE_TRENDING:case s.AUTO_COMPLETE_DEFAULT:return c(t).map((t=>({term:t,type:e,index:o})));default:return[]}}},254469:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},s=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};s.prototype.set=function(e,t){let o=this._uidToData[e];o||(o=new i(e,t),this._uidToData[e]=o,this._numItems+=1),this._moveToFront(o),this._numItems>this._maxNumItems&&this._evict()},s.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},s.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},s.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},s.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const r=s;var a=o(6637);function l({resourceName:e,resourceOptions:t}){const o={...t,count:"count"in t?t.count:5},n=a.ZP.create(e,o),i=new r,s=()=>{n.abort()};return async function(e,t){const o=i.get(`${t}-${e}`);if(o){const t=o.items;if(t&&t.length){s();return{hint:o.hint,items:t,term:e}}}return e.length>=0?(async(e,t)=>{var o;if(n.isCalling()){var r,a;const o=null===(r=n.options)||void 0===r?void 0:r.term,i=null===(a=n.options)||void 0===a?void 0:a.pin_scope;if(e===o&&t===i)return;s()}const{bookmarks:l,...c}=n.options||{};n.options={...c,term:e,pin_scope:t};const d=null===(o=(await n.callGet({showError:!1})).resource_response)||void 0===o?void 0:o.data,u=null==d?void 0:d.items,_=(null==d?void 0:d.hint)||{},h={hint:_,items:u};return i.set(`${t}-${e}`,h),{term:e,items:u,hint:_}})(e,t):{hint:{},items:[],term:e}}}function c({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:o={},value:i}){const s=(0,n.useRef)(!1),r=(0,n.useRef)({}),[a,c]=(0,n.useState)([]),d=function({resourceName:e,resourceOptions:t}){const o=(0,n.useRef)();return o.current||(o.current=l({resourceName:e,resourceOptions:t})),o.current}({resourceName:t,resourceOptions:o}),u=o.pin_scope||"pins",_=`${u}-${i}`;return(0,n.useEffect)((()=>{(async()=>{if(null!=i&&(e||s.current))if(_ in r.current)c(r.current[_]);else try{const e=await d(i,u);if(e){const{items:t}=e;r.current[_]=t,c(t)}}catch(t){if("Resource call aborted"===t)return;throw t}s.current||(s.current=!0)})()}),[i,u,_]),a}},909499:(e,t,o)=>{o.d(t,{Hd:()=>r,_R:()=>i,lw:()=>n,wF:()=>s});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},i=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},s=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},r=e=>{switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},648284:(e,t,o)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:o,query:n,scope:i,selectedPinImgSig:s,user:r}){const a=[i,o,e,r,s,n].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function i({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:o=null,filters:n=null,query:i=null,rs:s="direct_navigation",scope:r="pins",selectedPinImgSig:a=null,sourceId:l=null,user:c}){return{article:o,appliedProductFilters:t,auto_correction_disabled:e,corpus:a?"personalize":null,customized_rerank_type:a?"manas_graph_sage_only_wand_rewrite":null,filters:n,query:i,query_pin_sigs:a,redux_normalize_feed:!0,rs:s,scope:r,source_id:l,user:c}}function s(e){const{autoCorrectionDisabled:t,appliedProductFilters:o,filters:n,selectedPinImgSig:s,query:r,rs:a,scope:l,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:i({autoCorrectionDisabled:!!t,appliedProductFilters:o,filters:n,query:r,rs:a,scope:l,selectedPinImgSig:s,bubbleId:c,user:d})}}o.d(t,{Ht:()=>s,Tb:()=>n,dM:()=>i})},487116:(e,t,o)=>{o.d(t,{D:()=>r,N:()=>s});var n=o(172071);const i=.1;async function s(){const e=navigator.serviceWorker;if(n.Z.increment("web_service_worker.update",i),e&&e.getRegistration){const o=await e.getRegistration();if(!o)return n.Z.increment("web_service_worker.update.registration.not_exist",i),await async function(){const e=navigator.serviceWorker;if(n.Z.increment("web_service_worker.install",i),e&&e.register)try{const t=await e.register("/sw.js");return n.Z.increment("web_service_worker.install.success",i),t}catch(t){throw n.Z.increment("web_service_worker.install.error",i),t}}();n.Z.increment("web_service_worker.update.registration.exist",i);try{return await o.update(),n.Z.increment("web_service_worker.update.success",i),o}catch(t){throw n.Z.increment("web_service_worker.update.fail",i),t}}}async function r(e){const t=navigator.serviceWorker;if(n.Z.increment("web_service_worker.unregister",i,{source:e||"unknown"}),t&&t.getRegistration)try{const o=await t.getRegistration();o?(n.Z.increment("web_service_worker.unregister.registration.exist",i,{source:e||"unknown"}),await o.unregister(),n.Z.increment("web_service_worker.unregister.success",i,{source:e||"unknown"}),async function(e){const t=navigator.serviceWorker;if(n.Z.increment("web_service_worker.clear_app_shell",i,{source:e||"unknown"}),t&&window.caches){const t=(await window.caches.keys()).find((e=>e.startsWith("workbox-precaching")));t?(n.Z.increment("web_service_worker.clear_app_shell.precache.exist",i,{source:e||"unknown"}),(await window.caches.open(t)).delete("/sw-shell.html"),n.Z.increment("web_service_worker.clear_app_shell.delete",i,{source:e||"unknown"})):n.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",i,{source:e})}}(e)):n.Z.increment("web_service_worker.unregister.registration.not_exist",i,{source:e||"unknown"})}catch(o){n.Z.increment("web_service_worker.unregister.fail",i,{source:e||"unknown"})}}},835209:(e,t,o)=>{function n({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}o.d(t,{Z:()=>n})},458882:(e,t,o)=>{o.d(t,{l:()=>s,r:()=>r});var n=o(667294);const i=(0,n.createContext)(null),s=()=>(0,n.useContext)(i),r=i.Provider},667679:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(458882),i=o(780679);const s=()=>{const e=(0,i.g)(),t=(0,n.l)();return o=>{const{mobileOptions:n,desktopOptions:i,reason:s,attributionLabel:r}=o;var a;e?e.showDesktopSignupModal({modalType:null!==(a=null==i?void 0:i.modalType)&&void 0!==a?a:"signup",reason:s,attributionLabel:r,...null==i?void 0:i.modalOptions}):t&&t.showMobileSignupModal({reason:s,attributionLabel:r,headingType:null==n?void 0:n.headingType})}}},70061:(e,t,o)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}o.d(t,{Z:()=>n})},430323:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(722767),s=o(706922),r=o(245474),a=o(558068),l=o(780280),c=o(790123),d=o(425288);const{Provider:u,useMaybeHook:_}=(0,d.Z)("timeSpentContext");var h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class m extends n.Component{constructor(e){super(e),p(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),p(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:o,objectId:n,timeSpentContext:i,view:s,viewParameter:r}=this.props;return{view:s||i&&i.view,viewParameter:r||i&&i.viewParameter,component:t||i&&i.component,element:o,objectId:n||i&&i.objectId,clientTrackingParams:e||i&&i.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),p(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),p(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),p(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),p(this,"getTimedPair",(()=>this.state.timedPair)),p(this,"setTimedPair",(e=>this.setState({timedPair:e}))),p(this,"isRegistered",!1),p(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),p(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),p(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:o,left:n,right:i,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===o&&0===n&&0===i&&0===s?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(u,{value:this.getContext(),children:(0,h.jsx)(i.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function g(e){var t;const o=(0,a.H)(),i=_(),s=(0,c.w)(),{requestIdentifier:r=""}=(0,l.B)(),d={app_instance_id:r.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==s||s.setHistoryStackContext(o)}),[o,s]),s?(0,h.jsx)(m,{...e,auxData:d,timeSpentContext:i,timeSpentManager:s,children:e.children}):e.children}g.displayName="TimeSpent";const f=g},433780:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(172071),i=o(245474);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r="ACTIVE",a="PAUSED",l=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",c=({flushEvents:e,shouldShowLogStatements:t=!1,track:o})=>{const c=new Map,d=t?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};console.group||(d.group=(...e)=>console.log(...e),d.groupEnd=(...e)=>{});return new class{constructor(){s(this,"appTimedPair",null),s(this,"clickthroughProperties",null),s(this,"historyStackContext",null),s(this,"offsiteTimedPair",null),s(this,"offsiteTimedPairForegroundId",null),s(this,"addEventListeners",(()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");const o=t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()};t&&document.addEventListener(t,o,!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",(e=>this.unregisterApp(!1,void 0,e)));const i=(e=>{let t=!1;return(...o)=>{t||(t=!0,e(...o))}})((e=>this.unregisterApp(!0,void 0,e)));window.addEventListener("beforeunload",i),window.addEventListener("pagehide",i);const s=navigator&&navigator.userAgent.toLowerCase();s&&s.includes("macintosh")&&s.includes("chrome")&&window.addEventListener("popstate",(t=>{document.hasFocus()||document[e]||n.Z.increment("chrome_mac_back_forward_button",1)}))})),s(this,"storeClickthroughProperties",(e=>{this.clickthroughProperties&&n.Z.increment("webapp.metrics.clickthroughs.overwritten",1,{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}),this.clickthroughProperties=e})),s(this,"clearClickthroughProperties",(()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null})),s(this,"registerApp",(()=>{d.group("App Foreground",l()),null==this.appTimedPair?(this.appTimedPair=new i.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&o({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext)):d.error("TimedPair already exists for app."),d.groupEnd()})),s(this,"unregisterApp",((t=!1,n=!1,i)=>{d.group("App Background",l());const s=this.appTimedPair;if(null!=s){this._pauseAllComponents();const e=s.end();this._startOffsiteTimedPair(),o({event_type:4701,duration_ns:e,pair_id:s.uuid},this.historyStackContext),this.appTimedPair=null}else d.error("No TimedPair found for app.");const r=["beforeunload","pagehide"],a=r.includes(null==i?void 0:i.type),c=r.includes(null==i?void 0:i.pauseReason);(a||c)&&this._endOffsiteTimedPair(),n||e(null!=t&&t,void 0,i),d.groupEnd()})),s(this,"_activateComponent",(e=>{d.group("Activating component",l()),t&&d.log(e.getContext());const n=e.getTimedPair();if(n){n.start();const{view:t,viewParameter:i,component:s,element:r,objectId:a,clientTrackingParams:l}=e.getLoggerContext();o({event_type:4702,view_type:t,view_parameter:i,component:s,element:r,object_id_str:a,view_data:e.props.viewData,pair_id:n.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext)}d.groupEnd()})),s(this,"_deactivateComponent",(e=>{d.group("Deactivating component",l()),t&&d.log(e.getContext());const n=e.getTimedPair();if(n){const{view:t,viewParameter:i,component:s,element:r,objectId:a,clientTrackingParams:l}=n,c=n.end();o({event_type:4703,view_type:t,view_parameter:i,component:s,element:r,object_id_str:a,view_data:e.props.viewData,duration_ns:c,pair_id:n.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext)}d.groupEnd()})),s(this,"_startOffsiteTimedPair",(()=>{const{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new i.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,o({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext))})),s(this,"_endOffsiteTimedPair",(()=>{const{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){const n=e.end();o({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:n},this.historyStackContext),this.clearClickthroughProperties()}})),s(this,"_pauseAllComponents",(()=>{d.group("Pause all components"),c.forEach(((e,t,o)=>{e===r&&this._deactivateComponent(t),o.set(t,a)})),d.groupEnd()})),s(this,"_unpauseAllComponents",(()=>{d.group("Unpause all components"),c.forEach(((e,t)=>{t.setTimedPair(new i.Z(t.getLoggerContext()))})),c.forEach(((e,t)=>{c.set(t,r),this._activateComponent(t)})),d.groupEnd()}))}setHistoryStackContext(e){this.historyStackContext=e}registerComponent(e){null===this.appTimedPair?c.set(e,a):(c.set(e,r),this._activateComponent(e))}unregisterComponent(e){c.get(e)===r&&(this._deactivateComponent(e),e.setTimedPair(new i.Z(e.getLoggerContext()))),c.delete(e)}size(){return c.size}}}},790123:(e,t,o)=>{o.d(t,{j:()=>i,w:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("TimeSpentManagerContext")},245474:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(172045),i=o(17314);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const a=class{constructor(e){s(this,"start",(()=>(this.startTime=r(),this.startTime))),s(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,o)=>{o.d(t,{E5:()=>c,T7:()=>n,Yj:()=>r,pe:()=>a,xt:()=>l});o(883119);function n(e,t,o){const n=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),i=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${n}/${encodeURIComponent(i)}/${o}/`}const i={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},s={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},r=(e,t)=>{const o=s[e];return!(null===o||o!==t&&!t.startsWith(o))},a=e=>i[e],l=(e,t,o)=>e||(t||o||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},758127:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>r});var n=o(883119),i=o(785893);const s=", ";function r(){return(0,i.jsx)(n.xu,{display:"visuallyHidden",children:s})}},6663:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(391254),i=o(416403),s=o(898781),r=o(486840),a=o(883119),l=o(785893);function c({color:e,completeButtonText:t,completeUrl:o,dismissButtonText:c,experienceId:d,external:u,message:_,onComplete:h,onDismiss:p}){const m=(0,r.Z)(),g=(0,s.ZP)(),f=({event:e})=>{10202===d&&m(),h&&h(e)},x=({event:e})=>{p&&p(e)},b=_&&!t,v=500735===d,y=t&&(!o||v)&&(0,l.jsx)(a.zx,{color:"white",onClick:f,text:t}),P=t&&o&&(0,l.jsx)(i.Z,{accessibilityLabel:t,rounding:6,url:o,onClick:e=>f({event:e}),external:u,children:(0,l.jsx)(a.xu,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:(0,l.jsx)(a.xv,{align:"center",color:e,weight:"bold",children:t})})},"naglink"),w=c&&p&&(0,l.jsx)(a.xu,{mdPaddingX:2,children:(0,l.jsx)(a.zx,{color:e&&"default"!==e?"white":"gray",onClick:x,text:c})}),A=b&&!v&&p&&!c&&(0,l.jsx)(a.hU,{accessibilityLabel:g._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",onClick:x,icon:"cancel"});return(0,l.jsxs)(a.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(a.xu,{column:12,smColumn:b?11:8,children:(0,l.jsxs)(a.xv,{color:"inverse",weight:v?"normal":"bold",children:[(0,l.jsx)(n.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,l.jsx)("div",{className:"Banner--message",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:_}})})]})}),(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"end",children:[w,y||P,A]})]})}},416403:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(701500),s=o(883119),r=o(785893);function a(e,t){return e||("transparent"===t?"rgba(0, 0, 0, 0.06)":"red"===t?"rgba(207, 0, 31, 1)":"darkGray"===t?"#333333":"rgb(226, 226, 226)")}function l(e){const{active:t=!1,borderRadius:o,children:n,focused:i=!1,justBgFocused:l=!1,hovered:c=!1,rounding:d,hoverBgColor:u,bgColor:_="transparent",size:h="lg"}=e,p=t?{backgroundColor:"transparent"===_?"rgba(0, 0, 0, 0.1)":"rgb(218, 218, 218)"}:null,m=!c||i||t?null:{backgroundColor:a(u,_)},g=i?{backgroundColor:a(u,_),outline:"0",...l?{}:{boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)"}}:null;let f;if("circle"===d)switch(h){case"xs":f=24;break;case"sm":f=32;break;case"md":f=40;break;case"lg":f=48;break;case"xl":f=56;break;default:f=48}const x=f,b={backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)",red:"#e60023",darkGray:"#111111"}[_],...m,...p,...g,...o?{borderRadius:o}:{}};return(0,r.jsx)(s.xu,{rounding:d,dangerouslySetInlineStyle:{__style:b},height:f,width:x,children:n})}var c=o(287072),d=o(48714);function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=({anchorElementRef:e,children:t,experienceAnchor:o})=>o?(0,r.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t;class h extends n.Component{constructor(...e){super(...e),u(this,"state",{active:!1,focused:!1,hovered:this.props.isInitiallyHovered||!1}),u(this,"anchorElementRef",(0,n.createRef)()),u(this,"handleBlur",(()=>this.setState({focused:!1}))),u(this,"handleFocus",(()=>this.setState({focused:!0}))),u(this,"handleMouseDown",(()=>this.setState({active:!0}))),u(this,"handleMouseEnter",(()=>{const{handleMouseEnter:e}=this.props;e&&e(),this.setState({hovered:!0})})),u(this,"handleMouseLeave",(()=>{const{handleMouseLeave:e}=this.props;e&&e(),this.setState({active:!1,hovered:!1})})),u(this,"handleMouseUp",(()=>this.setState({active:!1})))}render(){const{accessibilityLabel:e,experienceAnchor:t,external:o,children:n,onClick:i,onNavigationHandler:a,rounding:c="pill",tabIndex:d=0,url:u}=this.props,{active:h,focused:p,hovered:m}=this.state,g="pill"===c?2:1,f="circle"===c?48:"";return(0,r.jsx)(_,{anchorElementRef:this.anchorElementRef,experienceAnchor:t,children:(0,r.jsx)(s.iP,{accessibilityLabel:e,href:u,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==i||i(e),a({event:e})},rel:o?"nofollow":"none",ref:this.anchorElementRef,role:"link",rounding:c,tabIndex:d,children:(0,r.jsx)(l,{active:h,focused:p,justBgFocused:!0,hovered:m,rounding:c,children:(0,r.jsx)(s.xu,{alignItems:"center",display:"flex",direction:"pill"===c?void 0:"column",height:f,justifyContent:"center",padding:g,position:"relative",rounding:c,width:f,children:n})})})})}}function p(e){const t=(0,c.Z)({href:e.url,onHistoryChange:d.Jd});return(0,r.jsx)(h,{...e,onNavigationHandler:t})}},237900:(e,t,o)=>{o.d(t,{q:()=>s});var n=o(188682),i=o.n(n);const s=(e,t)=>{if(t){let t=e;return/.*?:\/\//.test(e)||(t="http://"+t),t=i()(t),t.host}return e=(e=e.replace(/.*?:\/\//g,"")).replace(/\/$/,"")}},887831:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294);let i=null,s=!1,r=0;const a=()=>{i&&clearTimeout(i),s=!0,i=setTimeout((()=>{s=!1}),100)},l=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)((()=>(0===r&&window.addEventListener("scroll",a),r+=1,()=>{o.current&&clearTimeout(o.current),r-=1,r||window.removeEventListener("scroll",a)})),[]);const i=e=>{o.current&&clearTimeout(o.current),o.current=e&&s?setTimeout((()=>i(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},50286:(e,t,o)=>{o.d(t,{HG:()=>a,Wb:()=>r,ZP:()=>l,ml:()=>s});var n=o(780280);const i=()=>{const e=(0,n.B)(),{isMobile:t,isTablet:o}=e.userAgent;return o?"tablet":t?"phone":"desktop"},s=()=>"phone"===i(),r=()=>"tablet"===i(),a=()=>"desktop"===i(),l=i},311541:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){const o=(0,n.useRef)([]),[i,s]=(0,n.useState)(),[r,a]=(0,n.useReducer)(null!=i?i:()=>t,t),l=(0,n.useCallback)((t=>{i?a(t):(o.current.length||e().then((e=>{s((()=>e.default))})),o.current=[...o.current,t])}),[e,i]);return(0,n.useEffect)((()=>{i&&(o.current.forEach(a),o.current=[])}),[i]),[r,l]}},215292:(e,t,o)=>{o.d(t,{Z:()=>r,q:()=>s});var n=o(667294);const i=()=>{const[e,t]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1);return{active:e,focused:o,hovered:s,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){return e(i())}const r=i},807609:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(411465),i=o(966476);const s=()=>{const e=(0,n.Z)(),t=(0,i.Z)();return e&&!t}},411465:(e,t,o)=>{o.d(t,{G:()=>a,Z:()=>l});var n=o(667294),i=o(925927),s=o(785893);const r=(0,n.createContext)(!0);function a({children:e}){const t=(0,i.TH)(),[o,a]=(0,n.useState)(!0),l=(0,n.useRef)(t);return(0,n.useEffect)((()=>{l.current!==t&&(l.current=t,a(!1))}),[t]),(0,s.jsx)(r.Provider,{value:o,children:e})}function l(){return(0,n.useContext)(r)}},134906:(e,t,o)=>{o.d(t,{Bh:()=>d,CU:()=>r,FU:()=>C,G$:()=>x,GT:()=>a,Gy:()=>m,J_:()=>P,Jx:()=>h,MZ:()=>g,VC:()=>_,VG:()=>l,ZA:()=>c,Zt:()=>p,a3:()=>E,aH:()=>s,nw:()=>b,oR:()=>v,qA:()=>u,qp:()=>w,sG:()=>f,vd:()=>A,xk:()=>y});var n=o(89254);const i=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},o=String(e).split("");return o.forEach(((e,n)=>{const i=t[e];i&&(o[n]=i)})),o.join("")};function s(e){return function(t,o){const n=[];t&&/\S/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}const r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function a(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(r)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function l(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function c(e){return function(t,o){const n=[];t&&(Number.isNaN(parseInt(t))&&n.push(e.invalidAgeString),e.ageTooShortString&&t<10&&n.push(e.ageTooShortString),t<=0||t>=300?n.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<13&&n.push(e.checkUnderAgeWithString));const i={errors:n,warnings:[]};return o&&o(i),i}}function d(e){return function(t,o){const n=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],s=!1!==e.checkLength&&n.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!s||i.push(e.message);const r={errors:i,warnings:[]};return o&&o(r),r}}function u(e){return function(t,o){const n=/^\d+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function _(e){return function(t,o){const n=/^[\d\ -]+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function h(e){return function(t,o){const n=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function p(e){return function(t,o){const i=[];if(t)try{const o=(0,n.Z)(t);o&&o.protocol&&("http"!==o.protocol||"localhost"===o.hostname)||i.push(e.message)}catch(r){i.push(e.message)}const s={errors:i,warnings:[]};return o&&o(s),s}}function m(e){return function(t,o){const n=[];(e.should_trim||!1)&&(t=t&&t.trim());const i=t.length;e.min&&i<e.min?n.push(e.minErrorString):e.max&&i>e.max&&n.push(e.maxErrorString);const s={errors:n,warnings:[]};return o&&o(s),s}}function g(e){return function(t,o){const n=!e.checkExclusion,i=e.substrings,s=[];(n&&!i.some((e=>t.includes(e)))||!n&&i.some((e=>t.includes(e))))&&s.push(e.message);const r={errors:s,warnings:[]};return o&&o(r),r}}function f(e){return function(t,o){const n=[];t!==(e&&e.targetValue)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function x(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<=e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function b(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function v(e){return function(t,o){const n=[];/^[\040-\176]*$/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function y(e){return function(t,o){let n=2;if(e.hasFractionalCents)n=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();n=t}const i=new RegExp(n?`^\\d*(\\.\\d{1,${n}})?$`:"^\\d*$"),s=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function P(e){return function(t,o){t=t&&t.trim();const n=[],i=new Date(t);t&&!i.getTime()&&n.push(e.message);const s={errors:n,warnings:[]};return o&&o(s),s}}function w(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function A(e){return function(t,o){const n=[];e.pattern.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function C(e,t){const o=e.map((e=>e(t).errors));return[].concat(...o)}function E(e,t){let o="";return t.some((t=>{const n=t(e);return n.errors.length>0&&(o=n.errors[0],!0)})),o}},868565:(e,t,o)=>{function n(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}o.d(t,{Z:()=>n})},121630:(e,t,o)=>{o.d(t,{c:()=>i,e:()=>n});const n=e=>{if("undefined"==typeof window)return"";let t=0;const o=document.querySelector('[data-test-id="header"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:o}=e.getBoundingClientRect();t+=o}break;case"SearchItem":const o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},i=e=>e&&e.length>5&&"1"===e.substr(e.length-5,1)?e.substr(0,e.length-5)+"0"+e.substr(e.length-4):e},905723:(e,t,o)=>{o.d(t,{Z:()=>n});const n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},319825:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i="normal",s=({className:e,type:t="text",animation:o="pulse",hasChildren:n=!1,hideChildren:s=!0,enableAnimation:r=!0,color:a=("wave"===o?"rgba(239, 239, 239, 0.2)":"#ebebeb"),highlightColor:l="#EFEFEF",height:c,width:d,borderRadius:u,duration:_=1.5,direction:h="normal"})=>{const p="rtl"===h?"reverse":i,m="number"==typeof _?`${_}s`:"1.5s";return`\n@keyframes pulseAnimation {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes waveAnimation {\n  0% {\n    transform: translateX(-100%);\n  }\n  50% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n}\n\n.${e} {\n  background-color: ${a};\n  display: block;\n  line-height: 1;\n  ${"text"===t?"\n  margin-top: 0;\n  margin-bottom: 0;\n  height: auto;\n  transform-origin: 0 55%;\n  transform: scale(1, 0.6);\n  ":""}\n  ${"circle"===t?"\n  border-radius: 50%;\n  ":""}\n  ${n&&!d?"\n  max-width: fit-content;\n  ":""}\n  ${n&&!c?"\n  height: auto;\n  ":""}\n  ${r&&"pulse"===o?`\n  animation-name: pulseAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  `:""}\n  ${r&&"wave"===o?"\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n\n  --webkit-mask-image: radial-gradient(white, black);\n  mask-image: radial-gradient(white, black);\n  ":""}\n  ${"circle"!==t&&"number"==typeof u||"string"==typeof u?`\n  border-radius: ${u}${"number"==typeof u?"px":""};\n  `:""}\n  ${"number"==typeof d||"string"==typeof d?`\n  width: ${d}${"number"==typeof d?"px":""};\n  `:""}\n  ${"number"==typeof c||"string"==typeof c?`\n  height: ${c}${"number"==typeof c?"px":""};\n  `:""}\n}\n${"text"===t?`\n.${e}:empty:before {\n  content: "\\00a0";\n}\n`:""}\n${n&&s?`\n.${e} > * {\n  visibility: hidden;\n}\n`:""}\n${r&&"wave"===o?`\n.${e}::after {\n  content: ' ';\n  animation-name: waveAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n\n  background-repeat: no-repeat;\n  background-image: linear-gradient(\n    90deg,\n    ${a},\n    ${l},\n    ${a}\n  );\n  border-radius: 100px;\n  position: absolute;\n  transform: translateX(-100%);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n`:""}\n`};var r=o(391254),a=o(883119),l=o(785893);function c({id:e,type:t="text",animation:o="pulse",children:i,...c}){const d=(0,a.JZ)(),u=Boolean(i),_=`catalog-loading-skeleton-${e}`,h=s({className:_,type:t,animation:o,hasChildren:u,enableAnimation:!d,...c});return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(r.Z,{unsafeCSS:h}),(0,l.jsx)("span",{className:_,"data-test-id":_,children:u?i:(0,l.jsx)(n.Fragment,{children:"‌"})})]})}},487392:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(784590),i=o(19121),s=o(780280);function r(){var e;const t=(0,s.B)(),o=(0,i.Z)(),{advertiser:r}=t,a=(0,n.Z)({name:"UserResource",options:{user_id:r?r.owner_user_id:o.isAuth&&o.id,field_set_key:"merchant_summary"},dangerouslyDisableFetch:!(null==r||!r.merchant_id)});return{merchantId:(null==r?void 0:r.merchant_id)||(null===(e=a.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==r?void 0:r.id)||"",ownerUserId:(null==r?void 0:r.owner_user_id)||(o.isAuth?o.id:""),advertiser:r}}},183051:(e,t,o)=>{o.d(t,{C:()=>i,O:()=>n});const n=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155"],i=()=>["108","114","115","116","117","118","119","121","123","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","4029","4043","4055"]},699639:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(618446),s=o.n(i);const r=e=>"object"!=typeof e?e:Array.isArray(e)?[...e]:{...e};var a=o(785893);function l(e,t,o){const i=(0,n.createContext)(),l=function(e){let t=e.slice(1);return t=t.endsWith("Context")?t:`${t}Context`,`${e[0].toUpperCase()}${t}`}(e);i.displayName=l;const c=({children:e})=>{const l=function(e,t){const[o,i]=(0,n.useReducer)(e,t),a=(0,n.useRef)([]),l=(0,n.useRef)([]),c=(0,n.useRef)(o),d=(0,n.useCallback)((()=>c.current),[]);(0,n.useEffect)((()=>{s()(o,c.current)||(c.current=r(o))}),[o]);const u=(0,n.useCallback)((e=>{a.current=l.current.slice();const t=a.current.slice();for(const o of t)o({action:e})}),[]),_=(0,n.useCallback)((()=>{l.current===a.current&&(l.current=a.current.slice())}),[]),h=(0,n.useCallback)((e=>{let t=!0;return _(),l.current=[...l.current.slice(),e],()=>{if(!t)return;t=!1,_();const o=l.current.indexOf(e);l.current=l.current.filter(((e,t)=>t!==o)),a.current=[]}}),[_]),p=(0,n.useCallback)(((e,t=s())=>{const o=()=>e(d());let n=r(o());return e=>({action:i})=>{const s=r(o());if(!t(n,s)){const t=n;n=s,e({action:i,state:s,prevState:t})}}}),[d]),m=(0,n.useCallback)((e=>{i(e),setTimeout((()=>u(e)),0)}),[i,u]);return(0,n.useMemo)((()=>({state:o,dispatch:m,watchChanges:p,subscribe:h,getState:d})),[o,m,p,h,d])}(t,o());return(0,a.jsx)(i.Provider,{value:l,children:e})},d=({children:e})=>{const t=(0,n.useContext)(i);if(void 0===t)throw new Error(`${l}Consumer must be used within a ${l}Provider.`);return e(t)};return c.displayName=`${l}Provider`,d.displayName=`${l}Consumer`,{Provider:c,Consumer:d,useStateStoreContext:()=>{const e=(0,n.useContext)(i);if(!e)throw new Error(`use${l} must be used within a ${l}Provider.`);return e}}}},497020:(e,t,o)=>{o.d(t,{Bc:()=>v,Di:()=>A,Dy:()=>m,Hc:()=>x,I5:()=>T,Qv:()=>c,Sx:()=>I,Vn:()=>w,Yy:()=>h,bD:()=>y,bQ:()=>l,d9:()=>C,f7:()=>d,gP:()=>E,h$:()=>b,hW:()=>_,p6:()=>p,qH:()=>f,v6:()=>g});var n=o(66699),i=o(183051),s=(o(883119),o(749385)),r=o(451820),a=o(488177);const l=({feedProfile:e,workflows:t})=>{if(t.length){var o;const n=t[0].workflowStatus,i=a.EF.includes(n);return n===a.qN.DISAPPROVED?a.yn.DISABLED:(null==e?void 0:e.feedStatus)===a.Hm.INACTIVE?a.yn.PAUSED:n===a.qN.UNDER_REVIEW||n===a.qN.UNDER_APPEAL||i&&(null==e||null===(o=e.lastSuccessfulIngestion)||void 0===o?void 0:o.workflowStatus)!==a.qN.COMPLETED?a.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?a.yn.ACTIVE:a.yn.INACTIVE}return null},c=(e,t=null)=>0===e&&(t===s.$o.PENDING||t===s.$o.APPEAL_PENDING),d=e=>({[a.yn.PENDING]:{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')},[a.yn.ACTIVE]:{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')},[a.yn.PAUSED]:{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')},[a.yn.DISABLED]:{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')},[a.yn.INACTIVE]:{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce"},_=(e,t,o)=>{if(o&&o in u)return u[o];if(!t)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');const n=t.split("/");if(1===n.length)return t;const i=n.pop();return i.length>15?"../"+i.slice(i.length-15):"../"+i},h=(e,t,o,i,s)=>`${(0,n.Z)(i.ngettext('{{ count }} error', '{{ count }} errors', t, ' - ', ' -- '),{count:s(e,t)})} | ${(0,n.Z)(i.ngettext('{{ count }} alert', '{{ count }} alerts', o, ' - ', ' -- '),{count:s(e,o)})}`,p=(e,t,o,n)=>o.toDateString()===t.toDateString()?n._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,r.Z)(e,t,r.k.NUMERIC),m=(e,t)=>{if(!e)return"-";const o=t[e]||e;return o.length>17?o.substring(0,14)+"...":o},g=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),f=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),x=e=>({warningStats:g(e),errorStats:f(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),b=(e,t)=>Object.keys(e).length>0||Object.keys(t).length>0,v=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function y(e){return e.filter((({workflowStatus:e})=>e===a.qN.COMPLETED||e===a.qN.COMPLETED_EARLY)).some((e=>Object.values(a.aE).some((({name:t})=>e[t]&&0!==e[t]))))}function P(e){const t="128",o="1008";return Object.keys(e).every((e=>[t,o].includes(e)))}function w(e,t){return P(t)&&0===Object.keys(e).length||P(t)&&!function(e){return Object.keys(e).some((e=>(0,i.C)().includes(e)))}(e)}function A(e){const{feed_format:t,feed_default_currency:o,default_availability_type:n,id:i,location_config:s,feed_username:r,feed_has_password:a,feed_status:l,preferred_schedule:c,locale:d,country:u,display_name:_,last_successful_ingestion:h,integration_platform_type:p,created_at:m,domain:g}=e||{};return{id:i,url:s?s.full_feed_fetch_location:"",format:t,defaultCurrency:o,defaultAvailability:n,feedStatus:l,feedPreferredScheduleTime:c?c.time:void 0,feedPreferredScheduleTimezone:c?c.timezone:void 0,feedProfileName:_,integrationPlatformType:p,locale:d,country:u,credential:{username:r,hasPassword:a},lastSuccessfulIngestion:(f=h,f?{workflowStatus:f.workflow_status,workflowId:f.feed_fetch_workflow_id,productCount:f.product_count,inStockProductCount:f.in_stock_product_count,outOfStockProductCount:f.out_of_stock_product_count,preorderProductCount:f.preorder_product_count,originalProductCount:f.original_product_count,dateModified:f.created_at,originalUrl:f.original_url,s3SourceUrl:f.s3_source_url,s3ValidationUrl:f.s3_validation_url,validationStatsWarnings:f.validation_stats_warnings||{},validationStatsErrors:f.validation_stats_errors||{},ingestionStatsWarnings:f.ingestion_stats_warnings||{},ingestionStatsErrors:f.ingestion_stats_errors||{},ingestionStatsInfo:f.ingestion_stats_info||{},lastSuccessfulWorkflowId:f.last_successful_workflow_id}:null),createdAt:m,domain:g};var f}function C(e){return(e||[]).map((e=>A(e)))}function E(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function T(e,t){return e.find((e=>E(t,e)))}const j=(e,t)=>({[a.ul.IN_STOCK]:t._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type'),[a.ul.OUT_OF_STOCK]:t._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type'),[a.ul.PREORDER]:t._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')}[e]),I=e=>[{value:"NONE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')},...Object.keys(a.ul).map((t=>{var o;return{value:t,label:(null!==(o=j(a.ul[t],e))&&void 0!==o?o:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))]},951729:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(306732),s=o(785893);function r({children:e,width:t="100%",height:o=i.kc}){return(0,s.jsx)(n.kC,{alignItems:"stretch",direction:"column",height:o,justifyContent:"center",width:t,children:e})}},677581:(e,t,o)=>{o.d(t,{O:()=>x,ZP:()=>b,rS:()=>v});var n=o(667294),i=o(951729),s=o(6637),r=o(319825),a=o(487392),l=o(708032),c=o(139195),d=o(407043),u=o(529590),_=o(925927),h=o(898781),p=o(306732),m=o(400264),g=o(883119),f=o(785893);const x=(e,t)=>{switch(e){case p.EK.MAX_GROUPS_FEATURED:return t._('No more than 8 product groups can be featured', 'ProductGroupTableFeatureCell.Flyout.maxGroupsFeatured', '[Catalogs] a tootip saying you can\'t feature that group');case p.EK.TOO_MANY_PRODUCTS:return t._('Product groups with more than 500 items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooManyProducts', '[Catalogs] a tootip saying you can\'t feature that group');case p.EK.TOO_FEW_PRODUCTS:return t._('Product groups with less than 10 items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooFewProducts', '[Catalogs] a tootip saying you can\'t feature that group');case p.EK.TOO_FEW_UNIQUE_PRODUCTS:return t._('To feature this product group, make sure it contains at least 10 in stock items. Product group changes may take up to 24 hours to appear in Catalogs.', 'ProductGroupTableFeatureCell.Flyout.tooFewUniqueProducts', '[Catalogs] a tootip saying you can\'t feature that group');default:return""}};function b({productGroup:{id:e,featureStatus:t,featuredPosition:o},onFeaturedButtonClick:s,enableFeaturedButton:a=!1}){const{logContextEvent:l}=(0,d.v)(),c=(0,h.ZP)(),[u,_]=(0,n.useState)(!1),m=(0,n.useRef)(),b=null!=o,v=t===p.EK.FEATURING,y=t===p.EK.FEATURED,P=t===p.EK.CAN_FEATURE,w=y||!b&&v,A=x(t,c),C=(0,f.jsx)(g.hU,{accessibilityLabel:w?c._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):c._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:y?"darkGray":"gray",onClick:()=>{l({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205}),s&&s(e)},disabled:!a||v});return(0,f.jsxs)(i.Z,{children:[P||v||y?(0,f.jsx)("div",{className:w?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:a&&!v?(0,f.jsx)(g.u,{inline:!0,idealDirection:"down",text:w?c._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):c._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:C}):(0,f.jsx)(r.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:C})}):(0,f.jsx)(g.xu,{position:"relative",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),ref:m,children:(0,f.jsx)(g.Sj,{icon:"alert",size:"lg"})}),u&&A&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(50),children:(0,f.jsx)(g.J2,{anchor:m.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",children:(0,f.jsx)(g.xu,{padding:3,children:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",children:A})})})})]})}function v({id:e,onFeaturedPgError:t}){const{logContextEvent:o}=(0,d.v)(),b=(0,h.ZP)(),[v,y]=(0,n.useState)(!1),[P,w]=(0,n.useState)(!0),[A,C]=(0,n.useState)(!1),E=(0,n.useRef)(),{state:{batchProductGroupsMap:T,featuredProductGroupsSet:j},dispatch:I}=(0,u.n)(),{advertiserId:S,merchantId:z}=(0,a.Z)(),{params:{feed_profile_id:k}}=(0,_.$B)();(0,n.useEffect)((()=>{if(!T)return()=>{};const e=setTimeout((()=>{w(!1)}),p.iu);return()=>{clearTimeout(e)}}),[T,w]);const{isLoaded:D,data:R,refresh:O}=(0,m.G7)({advertiserId:S,feedProfileId:k,productGroupsIds:(null==T?void 0:T[e])||[e]},P),L=null==R?void 0:R.find((t=>t.id===String(e))),F=L&&L.featured_position,M=D?(0,l._c)(R||[],String(e),""):"",N=null!=F,B=j?j.has(String(e)):M===p.EK.FEATURED;(0,n.useEffect)((()=>{j&&(j.has(String(e))&&M!==p.EK.FEATURED||!j.has(String(e))&&M===p.EK.FEATURED)&&(O(),C(!1))}),[j,O,M,e]);const U=M===p.EK.CAN_FEATURE,Z=x(M,b),G=(0,f.jsx)(g.hU,{accessibilityLabel:B?b._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):b._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:B?"darkGray":"gray",onClick:()=>{o({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205});const n=s.ZP.create("FeaturedProductGroupsResource",{productGroupId:e,advertiserId:S,merchantId:z,feedProfileId:k}),i=B?n.callDelete():n.callCreate();C(!0),i.then((()=>{I((0,c.Oh)({featuringProductGroupIds:B?[]:[String(e)],unFeaturingProductGroupIds:B?[String(e)]:[]}))})).catch((()=>{t(),C(!1)}))},disabled:!(D||j)||A});return(0,f.jsxs)(i.Z,{children:[U||B||N||A||!D?(0,f.jsx)("div",{className:B?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:!D&&!j||A?(0,f.jsx)(r.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:G}):(0,f.jsx)(g.u,{inline:!0,idealDirection:"down",text:B?b._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):b._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:G})}):(0,f.jsx)(g.xu,{position:"relative",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),ref:E,children:(0,f.jsx)(g.Sj,{icon:"alert",size:"lg"})}),v&&Z&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(50),children:(0,f.jsx)(g.J2,{anchor:E.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",children:(0,f.jsx)(g.xu,{padding:3,children:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",children:Z})})})})]})}},306732:(e,t,o)=>{o.d(t,{Be:()=>l,Bm:()=>P,CN:()=>$,DD:()=>C,EK:()=>c,Eo:()=>m,F$:()=>Y,KO:()=>D,MD:()=>L,MU:()=>F,PD:()=>N,QE:()=>T,R0:()=>Q,Tj:()=>x,V0:()=>f,Vw:()=>K,WH:()=>k,XT:()=>y,bS:()=>g,cU:()=>E,cm:()=>Z,d0:()=>A,eu:()=>h,g2:()=>j,gd:()=>I,gw:()=>W,h8:()=>r,hL:()=>S,hh:()=>w,iN:()=>p,iu:()=>J,j1:()=>B,kc:()=>_,kl:()=>u,kq:()=>U,l5:()=>b,pF:()=>M,pM:()=>R,pV:()=>v,ps:()=>a,q9:()=>d,qB:()=>V,r2:()=>q,rC:()=>O,ul:()=>s,wZ:()=>H,yA:()=>G,yq:()=>z,zq:()=>X});var n=o(225643),i=o(808683);const s={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},r={NEW:"new",USED:"used",REFURBISHED:"refurbished"},a={MALE:"male",FEMALE:"female",UNISEX:"unisex"},l={[i.CatalogProductGroupType.ALL_PRODUCTS]:"All Products",[i.CatalogProductGroupType.BEST_DEALS]:"Best Deals",[i.CatalogProductGroupType.PINNER_FAVORITES]:"Most Popular",[i.CatalogProductGroupType.TOP_SELLERS]:"Top Sellers",[i.CatalogProductGroupType.BACK_IN_STOCK]:"Back In Stock",[i.CatalogProductGroupType.NEW_ARRIVALS]:"New Arrivals"},c={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},d=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS],u=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS,i.CatalogProductGroupType.MERCHANT_CREATED],_=90,h=350,p=265,m=72,g=450,f=200,x=12,b=114,v={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},y={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},P=100,w={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},A=[w.PRODUCT_CATEGORY,w.PRODUCT_TYPE,w.BRANDS,w.CUSTOM_LABEL_0,w.CUSTOM_LABEL_1,w.CUSTOM_LABEL_2,w.CUSTOM_LABEL_3,w.CUSTOM_LABEL_4],C={[w.ITEM_ID]:["ITEM_ID"],[w.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[w.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[w.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[w.COST]:["MIN_PRICE","MAX_PRICE"],[w.BRANDS]:["BRAND"],[w.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[w.AVAILABILITY]:["AVAILABILITY"],[w.CONDITION]:["CONDITION"],[w.GENDER]:["GENDER"]},E=[w.CUSTOM_LABEL,w.COST,w.CURRENCY],T={[n.AvailabilityType.IN_STOCK]:s.IN_STOCK,[n.AvailabilityType.OUT_OF_STOCK]:s.OUT_OF_STOCK,[n.AvailabilityType.PREORDER]:s.PREORDER},j={[n.ConditionType.NEW]:r.NEW,[n.ConditionType.USED]:r.USED,[n.ConditionType.REFURBISHED]:r.REFURBISHED},I={[n.GenderType.MALE]:a.MALE,[n.GenderType.FEMALE]:a.FEMALE,[n.GenderType.UNISEX]:a.UNISEX},S={[i.CatalogProductGroupFilterKey.ITEM_ID]:w.ITEM_ID,[i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0]:w.PRODUCT_CATEGORY,[i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0]:w.PRODUCT_TYPE,[i.CatalogProductGroupFilterKey.BRAND]:w.BRANDS,[i.CatalogProductGroupFilterKey.AVAILABILITY]:w.AVAILABILITY,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0]:w.CUSTOM_LABEL_0,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1]:w.CUSTOM_LABEL_1,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2]:w.CUSTOM_LABEL_2,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3]:w.CUSTOM_LABEL_3,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4]:w.CUSTOM_LABEL_4,[i.CatalogProductGroupFilterKey.CONDITION]:w.CONDITION,[i.CatalogProductGroupFilterKey.GENDER]:w.GENDER,[i.CatalogProductGroupFilterKey.MIN_PRICE]:w.PRICE,[i.CatalogProductGroupFilterKey.MAX_PRICE]:w.PRICE,[i.CatalogProductGroupFilterKey.CURRENCY]:w.CURRENCY,[i.CatalogProductGroupFilterKey.ITEM_GROUP_ID]:w.ITEM_GROUP_ID},z={[w.ITEM_ID]:i.CatalogProductGroupFilterKey.ITEM_ID,[w.PRODUCT_CATEGORY]:i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0,[w.PRODUCT_TYPE]:i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0,[w.BRANDS]:i.CatalogProductGroupFilterKey.BRAND,[w.AVAILABILITY]:i.CatalogProductGroupFilterKey.AVAILABILITY,[w.CUSTOM_LABEL_0]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0,[w.CUSTOM_LABEL_1]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1,[w.CUSTOM_LABEL_2]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2,[w.CUSTOM_LABEL_3]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3,[w.CUSTOM_LABEL_4]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4,[w.CONDITION]:i.CatalogProductGroupFilterKey.CONDITION,[w.GENDER]:i.CatalogProductGroupFilterKey.GENDER,[w.PRICE]:i.CatalogProductGroupFilterKey.MAX_PRICE,[w.CURRENCY]:i.CatalogProductGroupFilterKey.CURRENCY,[w.ITEM_GROUP_ID]:i.CatalogProductGroupFilterKey.ITEM_GROUP_ID},k={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},D={[k.GREATER_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!1}},[k.GREATER_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!0}},[k.LESS_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!1}},[k.LESS_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!0}}},R="newlyCreatedPGId",O="storefront",L={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},F=163,M=350,N={LIST:"LIST",GRID:"GRID"},B="236x",U="calc(100vh - 277px)",Z="calc(100vh - 175px)",G=75,H=200,V=40,W=127,K=", ",$=/[\t\n,]+/,Y=/[^\t\n,]+/gi,q=/^[\s]+$/,X=/[^\S\t\n]+/,Q={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC"},J=500},529590:(e,t,o)=>{o.d(t,{a:()=>r,n:()=>a});var n=o(699639),i=(o(667294),o(139195));const s=()=>({productGroupsCountMap:{},featuredProductGroupsSet:null,batchProductGroupsMap:null});const{Provider:r,useStateStoreContext:a}=(0,n.Z)("ProductGroups",((e,t)=>{switch(t.type){case i.N9.BATCH_PRODUCT_GROUPS:return((e,t)=>({...e,batchProductGroupsMap:{...t.payload}}))(e,t);case i.N9.UPDATE_PRODUCT_COUNT:return((e,t)=>({...e,productGroupsCountMap:{...e.productGroupsCountMap,[t.payload.id]:t.payload.count}}))(e,t);case i.N9.UPDATE_FEATURED_PRODUCT_GROUP_SET:return((e,{payload:{featuringProductGroupIds:t,unFeaturingProductGroupIds:o}})=>{const n=new Set(e.featuredProductGroupsSet);return t.forEach((e=>n.add(e))),o.forEach((e=>n.delete(e))),{...e,featuredProductGroupsSet:n}})(e,t);default:return e}}),s)},708032:(e,t,o)=>{o.d(t,{I3:()=>l,Kk:()=>s,_c:()=>a});var n=o(306732);const i=e=>(e||[]).filter((e=>void 0!==e.featured_position&&null!==e.featured_position)).map((e=>({...e,featured:!0}))),s=(e,t)=>(e=>i(e).map((e=>e.id.toString())))(e).includes(t.toString()),r=(e,t)=>(e||[]).find((({id:e})=>e.toString()===t))||null,a=(e,t,o)=>{const a=i(e).filter((e=>e.group_type===n.pV.MERCHANT_CREATED)).length,l=((e,t)=>{const o=r(e,t);return o&&o.featureable_status&&o.featureable_status.code?o.featureable_status.code:n.XT.FEATUREABLE})(e,t);return o===t?n.EK.FEATURING:s(e,t)?n.EK.FEATURED:l===n.XT.UNFEATUREABLE_NOT_ENOUGH_PINS?n.EK.TOO_FEW_PRODUCTS:l===n.XT.UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS?n.EK.TOO_FEW_UNIQUE_PRODUCTS:l===n.XT.UNFEATUREABLE_EXCEEDED_PINS_LIMIT?n.EK.TOO_MANY_PRODUCTS:a>=n.Bm?n.EK.MAX_GROUPS_FEATURED:n.EK.CAN_FEATURE},l=(e,t,o,n,i)=>t.map((t=>{const s=t.id.toString(),l=r(e,s),c=a(e,s,o||"");return{id:t.id.toString(),name:t.name,lastUpdate:t.last_update,createdAt:t.created_at,productCount:t.product_count?Number(t.product_count):0,type:t.type,featuredPosition:null==l?void 0:l.featured_position,featureStatus:c,promotedStatus:"",previewPins:null==l?void 0:l.preview_pins,filters:t.filters,filter_v2:t.filter_v2,promoted:!!n.find((({catalog_product_group_id:e})=>e===t.id.toString())),promotedButNotAccessible:!!i.includes(t.id),sourceId:t.source_id}}))},400264:(e,t,o)=>{o.d(t,{G7:()=>c,Lp:()=>d,Ib:()=>l});var n=o(667294),i=o(898781),s=o(784590),r=o(306732),a=o(808683);function l(e={},t=!1,o=!1){const l=(0,i.ZP)(),c=(0,s.Z)({name:"ProductGroupsResource",options:e,dangerouslyDisableFetch:t,enabledRouteRefresh:!0,noCache:o}),d=(0,n.useMemo)((()=>c.data&&c.isLoaded?c.data.map((e=>(e.name===r.Be[Number(e.type)]&&(Number(e.type)===a.CatalogProductGroupType.ALL_PRODUCTS?e.name=l._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products'):Number(e.type)===a.CatalogProductGroupType.BEST_DEALS?e.name=l._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals'):Number(e.type)===a.CatalogProductGroupType.PINNER_FAVORITES?e.name=l._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular'):Number(e.type)===a.CatalogProductGroupType.TOP_SELLERS?e.name=l._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers'):Number(e.type)===a.CatalogProductGroupType.BACK_IN_STOCK?e.name=l._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock'):Number(e.type)===a.CatalogProductGroupType.NEW_ARRIVALS&&(e.name=l._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals'))),e))):[]),[l,c.data,c.isLoaded]);return{...c,data:d}}function c(e={},t=!1){const o=(0,s.Z)({name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e,dangerouslyDisableFetch:t});return(0,n.useEffect)((()=>{o.isAtEnd||o.fetchMore()}),[o.nextBookmark]),{...o,data:o&&o.data||[]}}function d(e={}){const t=(0,s.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}},139195:(e,t,o)=>{o.d(t,{N9:()=>n,Oh:()=>r,b0:()=>i,qu:()=>s});const n={BATCH_PRODUCT_GROUPS:"batchProductGroups",UPDATE_PRODUCT_COUNT:"updateProductGroupCount",UPDATE_FEATURED_PRODUCT_GROUP_SET:"updateFeaturedProductGroupSet"},i=e=>({type:n.BATCH_PRODUCT_GROUPS,payload:e}),s=({id:e,count:t})=>({type:n.UPDATE_PRODUCT_COUNT,payload:{id:e,count:t}}),r=e=>({type:n.UPDATE_FEATURED_PRODUCT_GROUP_SET,payload:e})},494349:(e,t,o)=>{o.d(t,{g:()=>h,I:()=>_});var n=o(667294),i=o(567450),s=o(150361),r=o.n(s);const a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:o}=t,{pinId:n,isPromoted:i,currentTime:s}=o,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=a,d=r()(l),u=r()(c);return i?d[n]={pinId:n,currentTime:s,paused:!1}:u[n]={pinId:n,currentTime:s,paused:!1},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:o}=t,{pinId:n,isPromoted:i,currentTime:s}=o,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=a,d=r()(l),u=r()(c);return i?d[n]={...d[n],paused:!0,currentTime:s}:u[n]={...u[n],paused:!0,currentTime:s},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=o(425288),d=o(785893);const{Provider:u,useHook:_}=(0,c.Z)("AppUI");function h({children:e}){const[t,o]=(0,n.useReducer)(l,a),s=(0,n.useCallback)((e=>o({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),r=(0,n.useCallback)((e=>o({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,n.useCallback)((e=>o({type:"SET_CURRENT_VIDEO",payload:e})),[]),_=(0,n.useCallback)((e=>o({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,n.useCallback)((e=>o({type:"SET_IS_AUTOPLAY",payload:e})),[]),p=(0,n.useCallback)((e=>o({type:"SET_VIEWPORT_SIZE",payload:e})),[]),m=(0,n.useCallback)((e=>o({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,n.useMemo)((()=>({pauseAutoplay:s,setCurrentVideo:c,setFooterPlusButtonVisible:_,setIsAutoplay:h,setViewportSize:p,toggleTypeaheadOverlay:m,setAppFocusState:r,appUI:t})),[s,c,_,h,p,m,r,t]);return(0,n.useEffect)((()=>{i.Z.onSessionResume((()=>{r(!0)})).onSessionPause((()=>{r(!1)}))}),[r]),(0,d.jsx)(u,{value:g,children:e})}},479301:(e,t,o)=>{o.d(t,{i5:()=>v,sX:()=>P,Z5:()=>b,NG:()=>y,MT:()=>w});var n=o(667294),i=o(6637),s=o(802201),r=o(682492),a=o.n(r);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const o={};return e.filter((e=>!!e)).reduce(((e,n)=>{const i=t(n);return o[i]?(a()(o[i],n),e):(o[i]=n,e.concat([n]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,o){let n=l(e,t).concat(o);return n=c(n,(e=>e.id)),d(n)}const _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,pinAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function h(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,pinAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,pinAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:o}=t.payload;return{...e,data:{...e.data,[o]:{...e[o]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const o={...e,data:{...e.data}},{id:n}=t.payload;return delete o.data[n],o}if("FETCH_COMPLETE"===t.type){const{options:o,resource:n,response:i}=t.payload,s=i.resource_response.data;if("ConversationMessagesResource"===n){const t=s||[],n=(null==o?void 0:o.conversation_id)||"",i=u(e,n,t),r=i[i.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:i,unread:0,last_message:r}}}}if("ConversationsResource"===n){const t=s||[],o={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:i,board:s,emails:r,unread:a,users:l,last_message:c}=e,d=u(o,t,[c]);o.data[t]={...o.data[t],id:t,created_at:n,name:i,board:s,emails:r||[],unread:a||0,users:l||[],last_message:c,messages:d}})),o}if("ConversationResource"===n){const t=s||{},{id:o}=t,n={...e,data:{...e.data}};return o&&(n.data[o]={...n.data[o],...t}),n}if("NewsHubBadgeResource"===n){if(s){const t=s.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:o,message:n}=t.payload;if(e.data[o]){const t=u(e,o,[n]);return{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:t,last_message:n}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:o,messageId:n,newMessageId:i}=t.payload;if(e.data[o]){const t=l(e,o).find((e=>e.id===n));if(t){const s={...t,id:i};let r=l(e,o).filter((e=>e.id!==n)).concat([s]);return r=c(r,(e=>e.id)),r=d(r),{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:r}}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{pinId:o}=t.payload||null;return{...e,showNewMessageView:!0,open:null,pinAttachment:o}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,pinAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var p=o(425288),m=o(505920),g=o(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:x,useHook:b}=(0,p.Z)("Conversations");function v({children:e}){const[t,o]=(0,n.useReducer)(h,_),s=(0,n.useCallback)((e=>o({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",s),(0,m.Z8)("ConversationsResource",s),(0,m.Z8)("ConversationResource",s),(0,m.Z8)("NewsHubBadgeResource",s);const r=(0,n.useCallback)(((e,t=!1,n="")=>o({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),a=(0,n.useCallback)(((e,t="",n=!1)=>o({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),l=(0,n.useCallback)((e=>o({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,n.useCallback)((e=>o({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,n.useCallback)(((e,t,n)=>{i.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;o({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),u=(0,n.useCallback)((()=>{o({type:"CLOSE_DROPDOWN"})}),[]),p=(0,n.useCallback)((()=>{o({type:"OPEN_DROPDOWN"})}),[]),f=(0,n.useCallback)(((e="")=>{o({type:"OPEN_NEW_MESSAGE",payload:{pinId:e}})}),[]),b=(0,n.useCallback)(((e,t)=>o({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),v=(0,n.useCallback)(((e,t,n)=>o({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}})),[]),y=(0,n.useCallback)((e=>o({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),P=(0,n.useCallback)((e=>o({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),w=(0,n.useMemo)((()=>({conversationOpen:r,conversationClose:a,conversationCreate:l,conversationDelete:c,conversationGet:d,dropdownClose:u,dropdownOpen:p,newMessageOpen:f,pendingMessageSend:b,pendingMessageClear:v,updateNewsHubCount:y,updateUnreadCount:P,conversations:t})),[r,a,l,c,d,u,p,f,b,v,y,P,t]);return(0,g.jsx)(x,{value:w,children:e})}function y(){const{conversations:e,conversationCreate:t,pendingMessageSend:o,pendingMessageClear:n}=b(),r=(0,s.AF)();return(s,a,l,c)=>new Promise(((d,u)=>{const{text:_,pinId:h,boardId:p,userId:m,didItId:g}=a;function x(){const e=i.ZP.create("ConversationMessagesResource",{conversation_id:s,text:_,pin:h,board:p,user:m,user_did_it_data:g,source:l}),t=`${f()}`;o(s,{text:_,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:h?r[h]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{n(s,t,e.resource_response.data.id),d()})).catch(u)}e.data[s]?x():i.ZP.create("ConversationResource",{conversation_id:s}).callGet().then((e=>{const o=e&&e.resource_response&&e.resource_response.data;t(o),x()}))}))}function P(e){const{conversations:t}=b();return t.data[e]}function w(e){const{conversations:t}=b();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},545062:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(966338),s=o(694379),r=o(898781),a=o(349700),l=o(883119),c=o(785893);const d=({followText:e,followerCount:t,userFollowed:o})=>{const n=(0,r.ZP)();return(0,a.nk)(n._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,c.jsx)(l.xu,{"data-test-id":"followCount",paddingX:1,opacity:o?void 0:.8,children:(0,c.jsx)(l.xv,{color:o?"subtle":"inverse",children:(0,c.jsx)(s.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,c.jsx)(l.xu,{"data-test-id":"followText",paddingX:1,children:(0,c.jsx)(l.xv,{color:o?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=o(704177),_=o(829407),h=o(602574),p=o(11363),m=o(584595),g=o(407043),f=o(918301),x=o(281180),b=o(480622),v=o(946984),y=o(343341),P=o(5226);function w(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class A extends n.PureComponent{constructor(...e){super(...e),w(this,"handleButtonClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...t||Object.freeze({})}),this.toggleFollowUnfollow()}),(0,p.N4)({i18n:this.props.i18n,toFollow:!this.props.userFollowed}))),w(this,"handleClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}))),w(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:o,userFollowed:n,viewType:i,viewParameter:s}=this.props;n?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.follow())})),w(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;e(t,n,this.showConfirmation,this.showError),o&&o(!0),i(null)})),w(this,"showToast",(e=>{const{id:t,imageUrl:o,profileUrl:n,toastManagerContext:i,suppressToasts:s}=this.props;s||i.showOneToast((({hideToast:i})=>(0,c.jsx)(h.Z,{href:n,userId:t,imageUrl:o,handleHide:i,text:e})))})),w(this,"showConfirmation",(()=>{const e=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(l.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')})});this.showToast(e)})),w(this,"showError",(e=>{const{fullName:t,userFollowed:o,showEmailVerificationReminderModal:i}=this.props,s=o?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===m.H9)return void i();const r=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(l.xv,{children:(0,a.nk)(s,{usernameComponent:(0,c.jsx)(l.xv,{weight:"bold",inline:!0,children:t})})})});this.showToast(r)})),w(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;o(e,n,(()=>{}),this.showError),t&&t(!1),i(null)}))}renderButton(){const{button:e,followerCount:t,inline:o=!1,isOwnProfile:n,invertButtonColor:i,isSecondaryButton:s,size:r,showFollowerCount:a,userFollowed:u}=this.props,_=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:_,onClick:this.handleButtonClick,userFollowed:u});if(n)return(0,c.jsx)(l.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(a){const e="number"==typeof t?(0,c.jsx)(d,{followerCount:t,userFollowed:u,followText:_}):_;return(0,c.jsx)(l.iP,{onTap:this.handleClick,children:(0,c.jsx)(l.xu,{color:u?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,c.jsx)(l.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,c.jsx)(l.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:s||u?"gray":"red",selected:i?!u:!!u,fullWidth:o,onClick:this.handleButtonClick,size:null!=r?r:void 0,text:_})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,c.jsxs)(l.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,c.jsx)(l.iP,{onTap:this.handleClick,children:(0,c.jsx)(l.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,c.jsx)(l.o3,{paused:t||!1})})})]})}}function C(e){const{logContextEvent:t}=(0,g.v)(),o=(0,r.ZP)(),{id:n,setMostRecentPinId:s}=(0,b.f)(),a=(0,v.Z)(),l=(0,i.useDispatch)(),{showEmailVerificationReminderModal:d}=(0,f.y9)(),h=(0,x.mN)()(e.id),p=null==h?void 0:h.follower_count,m=h?h.explicitly_followed_by_me:e.userFollowed;return(0,_.Z)((()=>{const{id:t}=e,o=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";o&&o===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),l((0,P.ZN)(o)))})),(0,c.jsx)(A,{...e,follow:(e,t,o,n)=>{l((0,P.yA)(e,t)).then(o).catch((e=>{n(e)}))},followerCount:p,i18n:o,logContextEvent:t,mostRecentPinId:n,requireAuth:a,setMostRecentPinId:s,showEmailVerificationReminderModal:d,toastManagerContext:(0,y.F9)(),unfollow:(e,t,o,n)=>{l((0,P.KF)(e,t)).then(o,n)},userFollowed:m})}},70598:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(829407),i=o(898781),s=o(112690),r=o(728214),a=o(602574),l=o(667679),c=o(19121),d=o(957314),u=o(281180),_=o(50286),h=o(925927),p=o(343341),m=o(687999),g=o(867820),f=o(883119),x=o(785893);const b=({children:e,pulsar:t,testId:o})=>t.show?(0,x.jsx)(f.xu,{position:"relative","data-test-id":o,children:(0,x.jsxs)(f.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(f.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(f.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(f.o3,{})})]})}):(0,x.jsx)(f.xu,{"data-test-id":o,children:e});function v({auxData:e,disabled:t,disableLog:o,followEventType:v,id:y,inline:P,invertColors:w,isFollowed:A,isIdeaPin:C,isLegoEnabled:E,isSecondaryButton:T,isUserFollowButton:j,isUserMe:I,onFollow:S,onUnfollow:z,shouldUseLegoColors:k,showPulsar:D,size:R,textType:O="FollowFollowing",unfollowEventType:L,viewParameter:F,viewType:M}){const N=(0,i.ZP)(),B=(0,h.TH)(),U=(0,_.HG)(),{showToast:Z}=(0,p.F9)(),G=(0,s.Z)(),H=(0,l.Z)(),V=(0,r.Z)(),W=(0,c.Z)(),K=W&&W.isAuth,{unauthFollowUserId:$,setUnauthFollowUserId:Y}=(0,m.f)(),q=(0,u.mN)()(y);(0,n.Z)((()=>{!U&&K&&$&&y&&$===y&&S(y)}));const X=V({fn:()=>{K?A?(z(y),o||G({event_type:L,view_type:M,view_parameter:F,object_id_str:y,aux_data:e})):(S(y),j&&Z((({hideToast:e})=>{if(!q)return null;const t=`/${q.username}/`;return(0,x.jsx)(a.Z,{handleHide:e,text:(0,x.jsx)(f.xv,{children:N._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:y,href:t,imageUrl:q.image_medium_url})})),o||G({event_type:v,view_type:M,view_parameter:F,object_id_str:y,aux_data:e})):((0,g.My)(`mweb_unauth_follow_button.tap.${String(M)}`),5===M&&26===v&&(0,g.My)("mweb_unauth_board_page_follow_button.tap"),(0,g.NC)(A?"press_profile_unfollow":"press_profile_follow"),(0,g.LW)({action:"click",pageLocation:B,item:"board-follow-button"}),H({attributionLabel:C?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP"}),U||Y(null!=y?y:""),(0,g.NC)("clickthrough"))},modalHeader:(0,d.N4)({i18n:N,toFollow:!A})}),Q=!A&&!!D;return(0,x.jsx)(b,{pulsar:Q?{show:!0,onClick:X}:{show:!1},testId:I||A?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(f.zx,{color:k||"AddRemove"===O||!E&&T||A?"gray":"red",disabled:I||t,fullWidth:P,onClick:Q?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||G({event_type:101,component:13672,element:11951,object_id_str:y,view_type:M,view_parameter:F,aux_data:e}),X()},selected:w?!A:k&&A||!!A&&T,size:R,text:(()=>{if(I)return N._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===O)return A?N._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):N._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===O?N._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):N._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return A?e:N._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')})()})})}},91214:(e,t,o)=>{o.d(t,{HW:()=>r,YW:()=>u,i3:()=>_,o2:()=>d});var n=o(667294),i=o(425288),s=o(785893);const r=660,a={educationId:null,paddingRight:0,zIndex:r};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":const{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,i.Z)("footerContext");function _({children:e}){const[t,o]=(0,n.useReducer)(l,a),i=(0,n.useCallback)((e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,n.useCallback)((e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,n.useCallback)((e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,n.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:i,setZIndex:d})),[t,r,i,d]);return(0,s.jsx)(c,{value:u,children:e})}},480622:(e,t,o)=>{o.d(t,{C:()=>l,f:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("MostRecentPin");function l({children:e}){const[t,o]=(0,n.useState)(),[i,a]=(0,n.useState)(),l=(0,n.useCallback)((e=>{const t=i?i.slice(0,10):[],o=[e].concat(t.filter((t=>t!==e)));a(o)}),[i]),c=(0,n.useMemo)((()=>({id:t,plpImageSignatures:i,setMostRecentPinId:o,setMostRecentPinImage:l})),[t,i,l]);return(0,s.jsx)(r,{value:c,children:e})}},232843:(e,t,o)=>{o.d(t,{H:()=>i,W:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("PinCreateDeleteContext")},256883:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n,i,s,r=o(319915),a=o(705834),l=o(667294),c=o(116303),d=o(985913),u=o(70598),_=o(499128),h=o(50286),p=o(898781),m=o(780280),g=o(343341),f=o(883119),x=o(167912),b=o(785893);const v=void 0!==n?n:n=o(896355),y=({follower:e,viewerId:t,viewParameter:n,viewType:r})=>{const a=(0,p.ZP)(),y=(0,h.ZP)(),P=(0,x.useFragment)(v,e),{fullName:w,entityId:A,username:C,imageMediumUrl:E,imageXlargeUrl:T,explicitlyFollowedByMe:j,verifiedIdentity:I}=P,S=`/${String(C)}/`,{isRTL:z}=(0,m.B)(),{showOneToast:k}=(0,g.F9)();let D="";w&&w.length>0&&(D=w.length<=15?w:`${w.substring(0,15)}...`);const R=void 0!==i?i:i=o(382375),O=void 0!==s?s:s=o(200722),[L,F]=(0,x.useMutation)(R),[M,N]=(0,x.useMutation)(O),B=F||N,U=()=>{j?M({variables:{followee:A}}):(L({variables:{followee:A}}),"desktop"===y&&k((({hideToast:e})=>(0,b.jsx)(_.ZP,{onHide:e,text:(0,b.jsxs)(l.Fragment,{children:[(0,b.jsx)(f.xv,{children:a._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,b.jsx)(f.xv,{weight:"bold",children:w})]}),href:S,imageUrl:null!=E?E:""}))))},Z=C?`/${encodeURIComponent(C)}/`:"/",G=(0,d.Z)(a._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=w?w:""});return(0,b.jsx)(f.xu,{"data-test-id":"user-rep",display:"flex",justifyContent:"center",paddingX:2,height:75,position:"relative",children:(0,b.jsxs)(f.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:["desktop"===y?(0,b.jsx)(f.xu,{width:72,children:(0,b.jsx)(f.rU,{accessibilityLabel:G,href:S,children:(0,b.jsx)(c.Z,{accessibilityLabel:"",name:null!=w?w:"",size:"lg",src:null!=T?T:void 0,verified:Boolean(null==I?void 0:I.verified)})},`${S}:avatar`)}):(0,b.jsx)(f.xu,{paddingX:2,children:(0,b.jsx)(f.HE,{accessibilityLabel:a._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),role:"link",href:Z,collaborators:[{name:w||"",src:null!=E?E:void 0}],size:"sm"})}),(0,b.jsx)(f.xu,{paddingX:2,children:(0,b.jsx)(f.xv,{weight:"desktop"===y?"bold":void 0,children:(0,b.jsx)(f.rU,{href:Z,rounding:2,tapStyle:"compress",children:D})})}),(0,b.jsx)(f.xu,{paddingX:3,position:"absolute",left:z,right:!z,children:(0,b.jsx)(u.Z,{id:A,disabled:B,size:"md",isFollowed:j||!1,isUserFollowButton:!0,isUserMe:!!t&&t===A,onFollow:U,onUnfollow:U,followEventType:45,unfollowEventType:46,viewParameter:n,viewType:r})})]})})};var P,w=o(19121);const A=()=>window;function C({scrollContainer:e,userReference:t}){var n,i,s;const r=(0,h.ZP)(),{data:a,loadNext:c,hasNext:d}=(0,x.usePaginationFragment)(void 0!==P?P:P=o(44438),t),{id:u}=(0,w.Z)(),_=(null===(n=a.followers)||void 0===n||null===(i=n.connection)||void 0===i||null===(s=i.edges)||void 0===s?void 0:s.map((e=>null==e?void 0:e.node)).filter(Boolean))||[];let p=300;return"desktop"===r&&(p=e?550:600),(0,b.jsx)(l.Fragment,{children:!!_&&(0,b.jsx)(f.Rk,{columnWidth:p,comp:({data:e})=>e?(0,b.jsx)(y,{follower:e,viewerId:u,viewType:4,viewParameter:50}):null,gutterWidth:0,items:null!=_?_:[],layout:"desktop"===r?"uniformRow":"flexible",loadItems:()=>{d&&c(10)},minCols:1,scrollContainer:null!=e?e:A,virtualize:!0})})}var E,T=o(947599),j=o(430323),I=o(784590),S=o(925927);const z=void 0!==E?E:E=o(958045),k=({scrollContainer:e,userId:t})=>{var o;const n=(0,x.useLazyLoadQuery)(z,{userId:t}),{data:i}=null!==(o=n.v3GetUserHandlerQuery)&&void 0!==o?o:{};return i?(0,b.jsx)(a.Z,{viewType:4,viewParameter:50,children:(0,b.jsx)(j.Z,{view:4,component:223,children:(0,b.jsx)(f.xu,{"data-test-id":"profile-followers-feed",paddingY:2,children:(0,b.jsx)(C,{scrollContainer:e,userReference:i})})})}):null};function D({scrollContainer:e}){const t=(0,p.ZP)(),{username:o}=(0,S.UO)(),{data:n}=(0,I.Z)({name:"UserResource",options:{field_set_key:"profile",username:o}});return null!=n&&n.id?(0,b.jsx)(r.Z,{name:"SafeSuspense_ProfileFollowersControllerGraphQL_ProfileFollowersController",children:(0,b.jsx)(T.Z,{fallback:(0,b.jsx)(f.xu,{padding:5,children:(0,b.jsx)(f.$j,{accessibilityLabel:t._('Loading profile followers list', 'profile.ProfileFollowersControllerGraphQL.loading', 'accessibility label for profile followers loading spinner'),show:!0})}),children:(0,b.jsx)(k,{scrollContainer:e,userId:n.id})})}):null}},330899:(e,t,o)=>{o.d(t,{x:()=>a,y:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useMaybeHook:a}=(0,i.Z)("ProfileViewContext");function l({children:e}){const[t,o]=(0,n.useState)(),[i,a]=(0,n.useState)(new Map),[l,c]=(0,n.useState)(),[d,u]=(0,n.useState)(),_=(0,n.useCallback)(((e,t)=>{a(new Map(i.set(e,t)))}),[i]),h=(0,n.useMemo)((()=>({boardPinDensity:t,boardSortOrder:i,profileBoardView:l,profilePinDensity:d,setBoardPinDensity:o,updateBoardSortOrder:_,setProfileBoardView:c,setProfilePinDensity:u})),[t,i,l,d,_]);return(0,s.jsx)(r,{value:h,children:e})}},904411:(e,t,o)=>{o.d(t,{bn:()=>s,fJ:()=>i,gC:()=>r});var n=o(425288);const{Provider:i,useHook:s}=(0,n.Z)("Boards");function r(){const e=s();return t=>e[t]}},281180:(e,t,o)=>{o.d(t,{Tt:()=>l,kW:()=>r,kY:()=>s,mN:()=>a});var n=o(19121),i=o(425288);const{Provider:s,useHook:r}=(0,i.Z)("Users");function a(){const e=r();return t=>e[t]}function l(){const{id:e}=(0,n.Z)();return r()[null!=e?e:""]}},711108:(e,t,o)=>{o.d(t,{l:()=>d,E:()=>c});var n=o(667294),i=o(425288);function s(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:i}=t;if("ShareSuggestionsResource"===i.resource){var o;const n=t.payload.response.resource_response.data||[],{term:s=""}=null!==(o=i.options)&&void 0!==o?o:{};return{...e,[s]:n}}if("ShareSuggestionsTypeaheadResource"===i.resource){var n;const o=(t.payload.response.resource_response.data||{}).items||[],{term:s=""}=null!==(n=i.options)&&void 0!==n?n:{};return{...e,[s]:o}}}return e}var r=o(505920),a=o(785893);const{Provider:l,useHook:c}=(0,i.Z)("ShareSuggestions");function d({children:e}){const[t,o]=(0,n.useReducer)(s,{}),i=e=>{o({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,r.Z8)("ShareSuggestionsResource",i),(0,r.Z8)("ShareSuggestionsTypeaheadResource",i);const c=(0,n.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,a.jsx)(l,{value:c,children:e})}},868065:(e,t,o)=>{o.d(t,{US:()=>m,X2:()=>f,mW:()=>g});var n=o(667294),i=o(6637),s=o(311541),r=o(760372),a=o(425288),l=o(505920),c=o(785893);const d=()=>o.e(62623).then(o.bind(o,462623));function u(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function _(e){return i.ZP.create("InterestFollowResource",{interest_id:e,interest_list:r.X})}const{Provider:h,useHook:p}=(0,a.Z)("Topics");function m({children:e}){const[t,o]=(0,s.Z)(d,{}),i=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,l.Z8)("InterestFollowingResource",i),(0,l.Z8)("InterestResource",i);const r=(0,n.useMemo)((()=>({dispatch:o,topics:t})),[o,t]);return(0,c.jsx)(h,{value:r,children:e})}function g(){const{dispatch:e}=p();return(0,n.useMemo)((()=>({follow:(t,o=!1)=>{_(t).callCreate({showError:!1}).catch((()=>e(u(t,!1,o)))),e(u(t,!0,o))},unfollow:t=>{_(t).callDelete({showError:!1}).catch((()=>e(u(t,!0)))),e(u(t,!1))}})),[e])}function f(){const{topics:e}=p();return e}},687999:(e,t,o)=>{o.d(t,{f:()=>a,w:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("Session");function l({children:e}){const[t,o]=(0,n.useState)(void 0),i=(0,n.useCallback)((()=>o(void 0)),[]),a=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:o,removeUnauthFollowUserId:i})),[t,i]);return(0,s.jsx)(r,{value:a,children:e})}},326015:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(993786),s=o(883119),r=o(785893);const a=function({badgeSize:e,badgeSpacing:t,fullName:o,identityIsVerified:a,isVerifiedMerchant:l,truncate:c=!1}){const d=o.split(" "),u=d.slice(0,d.length-1).join(" "),_=" ".concat(d[d.length-1]);return c?(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(s.xv,{lineClamp:1,weight:"bold",children:o}),(0,r.jsx)(s.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(i.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[_," ",(0,r.jsx)(s.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(i.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]})]})}},486840:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(231486),s=o(172071),r=o(6637),a=o(226198);function l(e,t){i.t8(a.L9,"allowed",8760),t&&t(),s.Z.increment("auth.web.notifications.allowed",1);let o=e.subscriptionId;if(!o){const t=e.endpoint.split("/");o=t[t.length-1]}return r.ZP.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((t=>{var n,i;const s=null!==(n=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==n?n:{};if(!(o in s)){const t={registration_id:o,subscription_endpoint:e.endpoint};return r.ZP.create("WebPushDeviceResource",t).callCreate()}}))}var c=o(19121);function d(e,t){var o;if(s.Z.increment("auth.web.notifications.viewed",1),"undefined"!=typeof navigator&&"serviceWorker"in navigator)return null===(o=navigator.serviceWorker)||void 0===o?void 0:o.ready.then((o=>{var n;null==o||null===(n=o.pushManager)||void 0===n||n.subscribe({userVisibleOnly:!0}).then((t=>l(t,e)),(o=>{"Notification"in window&&"denied"!==Notification.permission?(i.t8(a.L9,"dismissed",8760),t&&t(),s.Z.increment("auth.web.notifications.dismissed",1)):(i.t8(a.L9,"denied",8760),e&&e(),s.Z.increment("auth.web.notifications.denied",1))}))})).catch((()=>{}))}function u(){const{isAuth:e,isLimitedLogin:t}=(0,c.Z)();return(0,n.useEffect)((()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((()=>{var o;t&&i.t8(a.L9,"denied",8760),e||i.t8(a.L9,"denied",8760),"showNotification"in ServiceWorkerRegistration.prototype||i.t8(a.L9,"denied",8760),"Notification"in window&&"denied"!==Notification.permission||i.t8(a.L9,"denied",8760),"PushManager"in window||i.t8(a.L9,"denied",8760),null===(o=navigator.serviceWorker)||void 0===o||o.ready.then((e=>e.pushManager.getSubscription())).then((e=>{if(e)return l(e);throw i.t8(a.L9,"none",8760),new Error})).catch((e=>{}))})).catch((()=>{}))}),[e,t]),d}},705834:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(618446),s=o.n(i),r=o(674806),a=o(385740),l=o(785893);class c extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:o,viewType:n}=this.props;e({viewData:t,viewParameter:o,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:o,viewParameter:n,viewType:i}=this.props;n===e.viewParameter&&i===e.viewType&&s()(o,e.viewData)||t({viewData:o,viewParameter:n,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:o,objectIdStr:n,viewData:i,viewParameter:s,viewType:a,clientTrackingParams:c}=this.props;return(0,l.jsx)(r.Z,{auxData:e,component:o,objectIdStr:n,clientTrackingParams:c,viewData:i,viewParameter:s,viewType:a,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:o}=(0,a.sV)();return(0,l.jsx)(c,{...e,clearCurrentPageData:o,setCurrentPageData:t})}},674806:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(112690),s=o(867820);const r=({viewType:e,viewParameter:t,viewData:o,auxData:n,objectIdStr:i,component:r,clientTrackingParams:a,element:l},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:o,aux_data:n,object_id_str:i,component:r,clientTrackingParams:a,element:l},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,s.My)("mweb.logging.null_view_type"),c(d)};function a(e){const{auxData:t,clientTrackingParams:o,children:s,component:a,element:l,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,h=(0,i.Z)(),p=JSON.stringify(t),m=JSON.stringify(d);return(0,n.useEffect)((()=>{r(e,h)}),[h,p,o,a,l,c,m,u,_]),n.Children.only(s)}},223656:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(758127),s=o(898781),r=o(112690),a=o(892819),l=o(91885),c=o(349700),d=o(50286),u=o(780280),_=o(276602),h=o(883119),p=o(785893);const m="133%";function g(e){const{isRTL:t}=(0,u.B)(),o=(0,s.ZP)(),i=t?-1:1,{borderRadius:r=16,containerBackgroundColor:a="white",images:l,applyWash:c}=e,g=(0,_.EV)(),f=l.slice(0,5);for(;f.length<5;)f.push({name:"",url:""});const x=(0,d.HG)(),[b,v]=(0,n.useState)(Array.from({length:5},(()=>!1))),[y,P]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{b.includes(!1)||y||!g||(g.addAnnotation("allPinsCard.imagesLoaded"),P(!0))}),[y,b,g]),(0,p.jsxs)(h.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",children:[(0,p.jsx)(h.sg,{span:6,children:(0,p.jsx)(h.xu,{position:"relative",children:f.map(((e,t)=>{var n;return(0,p.jsx)(h.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:m,borderRadius:r,transform:`translateX(${25*i*t}%)`,zIndex:x?0-t:100-t}},left:!0,position:0===t?"relative":"absolute",top:!0,height:x?157:void 0,width:"100%",children:(0,p.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:`1px solid ${a}`,borderRadius:r}},overflow:"hidden",children:(0,p.jsx)(h.zd,{width:"100%",height:"100%",wash:c,children:(0,p.jsx)(h.Ee,{alt:e.name||o._('Pin image', 'pileImageGroup', 'Alt text for group of pin images'),color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:100,src:null!==(n=e.url)&&void 0!==n?n:"",onLoad:()=>{var e;e=t,v((t=>{const o=[...t];return o.splice(e,1,!0),o}))}})})})},t)}))})}),(0,p.jsx)(h.sg,{span:6})]})}var f=o(867820),x=o(808058),b=o(925927);const v=({children:e})=>(0,d.HG)()?(0,p.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,p.jsx)(h.xv,{lineClamp:1,weight:"bold",children:e});function y({storyPinImages:e,pinCount:t,subtitle:o,userId:_,isOwnProfile:m}){const y=(0,s.ZP)(),P=(0,b.TH)(),w=(0,r.Z)(),A=(0,a.Z)(),C=(0,b.UO)(),{isAuthenticated:E,locale:T}=(0,u.B)(),{username:j}=C,I=`/${null!=j?j:""}/pins/`,S=(0,d.HG)(),[z,k]=(0,n.useState)(!1);return(0,p.jsx)(h.xu,{height:"100%",padding:S?2:0,"data-test-id":l.Kb,children:(0,p.jsx)(h.iP,{role:"link",href:I,rounding:2,tapStyle:"compress",onMouseEnter:()=>{k(!0)},onMouseLeave:()=>{k(!1)},onTap:()=>{E?S&&w({event_type:101,component:13676,object_id_str:_,view_type:4,view_parameter:m?3106:3107}):((0,f.NC)("click_go_to_board"),(0,f.LW)({action:"click",pageLocation:P,item:"board-card-all-pins"}))},children:(0,p.jsx)(h.xu,{paddingY:S?0:3,width:S?x.M0:void 0,children:(0,p.jsxs)(h.xu,{height:"100%",position:"relative",width:"100%",children:[(0,p.jsx)(g,{images:e,applyWash:z}),(0,p.jsxs)(h.xu,{display:"block",height:S?void 0:x.s0,marginTop:S?0:1,paddingX:2,paddingY:S?2:0,children:[(0,p.jsx)(h.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:(0,p.jsx)(v,{children:y._('All Pins', 'allPinsCard.heading', 'Label for component leading to a page that shows all Pins of a user')})}),(0,p.jsx)(h.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:t?(0,p.jsxs)(h.xv,{size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),(0,c.nk)(y.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'profile.ProfilePage.allPins.AllPinsCard.PinsCount', 'label for n amount of pins'),{count:A(T,t,{})}),(0,p.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:S?"inline-flex":"inline",paddingLeft:7}},children:(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]}):(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]})]})})})})}},14254:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(667294),i=o(948618),s=o(70598),r=o(298361),a=o(112690),l=o(892819),c=o(19121),d=o(349700),u=o(867820),_=o(217468),h=o(50286),p=o(758127),m=o(322937),g=o(898781),f=o(808058),x=o(883119),b=o(785893);function v(e,t){const{full_name:o,username:n}=e,i=(0,b.jsx)(x.rU,{href:`/${n}`,inline:!0,underline:"hover",children:o});return(0,d.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:i})}const y=({children:e})=>{const t=(0,c.Z)(),o=(0,h.HG)(),n=t&&t.isAuth;return o&&n?(0,b.jsx)(x.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,b.jsx)(x.xv,{lineClamp:1,weight:"bold",children:e})};function P({archivedDate:e,boardUrl:t,canEdit:o,collaborators:c,collaboratorsCount:P=0,containerBackgroundColor:w,coverPhoto:A,followedByMe:C,fullSizeDrawer:E,sensitivityScreen:T,handleInviteResponse:j,hideMeta:I,id:S,invite:z,imagesLego:k=[],isBoardInviteAccepted:D,isActive:R,isAuthenticated:O,isCollaborative:L,isCollaborator:F,isOwner:M,isSecret:N,lastModifiedDate:B,layout:U,locale:Z,name:G,numCols:H,onEditClick:V,onFollow:W,onUnfollow:K,owner:$,pinCount:Y=0,sectionCount:q,showFollowButton:X,viewParameter:Q,viewType:J,viewerId:ee}){const te=(0,g.ZP)(),oe=(0,r.Z)(),ne=(0,l.Z)(),ie=(0,a.Z)(),se=(0,h.HG)()&&O,re="square"===U?f.M0:f.z9,ae=k.map((e=>({url:e.url,name:G}))),le=!!$&&!o&&X,ce=(0,_.t)("mweb_board_sensitivity_screen"),de=!M&&!F&&ce().anyEnabled,ue=!(null==T||!T.show_warning)&&de,_e={board_id:S,reason:null==T?void 0:T.reason};(0,n.useEffect)((()=>{ue&&ie({event_type:13,component:13861,view_type:215,aux_data:_e})}),[]);const he=$?$.id:void 0,pe=[...c.filter((({id:e})=>e===he)),...c.filter((({id:e})=>e===ee&&e!==he)),...c.filter((({id:e})=>![he,ee].includes(e)))].map((e=>{var t,o;return{name:null!==(t=se?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let me=P>=pe.length?P-pe.length:0;me=me>99?100:me;const ge=[...pe,...Array(me).fill({name:"",src:""})],fe=se?24:16,xe=fe/3*(2*(pe.length>2?3:pe.length)+1);return(0,b.jsxs)(x.xu,{"data-test-id":`boardCard-${G}`,height:le?220:"100%",position:"relative",width:se?re:"100%",children:[(0,b.jsx)(m.Z,{canEdit:o,containerBackgroundColor:w,coverPhoto:A,images:ae,isSecret:N,fullSize:E,showSensitivityScreen:ue,isActive:R,onEditClick:V,layout:U}),!I&&(0,b.jsx)(n.Fragment,{children:z?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(x.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsxs)(x.xu,{width:"100%",children:[(0,b.jsx)(x.rU,{href:null!=t?t:"",children:(0,b.jsx)(x.xu,{marginTop:0,marginBottom:1,children:(0,b.jsx)(y,{children:G})})}),D?(0,b.jsx)(x.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,b.jsx)(x.xv,{size:"200",children:v(z.invited_by_user,te)})]}),(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,b.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),D?(0,b.jsx)(x.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(x.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(x.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,b.jsxs)(x.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(x.zx,{fullWidth:!0,onClick:()=>{null==j||j(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,b.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(x.zx,{fullWidth:!0,color:"red",onClick:()=>{null==j||j(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,b.jsxs)(x.xu,{height:se?void 0:f.s0,marginTop:se?0:1,paddingX:2,paddingY:se?2:0,children:[(0,b.jsxs)(x.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(y,{children:G}),L&&(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,b.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),(0,b.jsx)(x.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:(0,b.jsxs)(x.xv,{size:"100",lineClamp:1,children:[(0,b.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', Y, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ne(Z,Y,{})}),!!q&&(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(i.Z,{ariaHidden:!0}),(0,b.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', q, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:q})]}),!e&&(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{display:se?"inline-flex":"inline",paddingLeft:7}},children:(0,b.jsxs)(x.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(p.Z,{}),oe(B,!0)]})})]})}),!!e&&(0,b.jsxs)(x.xu,{marginTop:1,children:[(0,b.jsx)(p.Z,{}),(0,b.jsx)(x.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),le&&(0,b.jsx)(x.xu,{marginTop:2===H?3:void 0,column:2===H?12:void 0,flex:"none",children:(0,b.jsx)(s.Z,{disabled:null==$?void 0:$.blocked_by_me,followEventType:26,id:S,isFollowed:C,onFollow:e=>{O||(0,u.NC)("press_follow_board"),W&&W(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),K&&K(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:Q,viewType:J})})]})})]})}},371918:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({customCover:e,height:t,imgUrl:o,imgPos:s,width:r}){const a=t/r;let l="center center";if(e&&s){let e=1;e=s.height/s.width>a?r/s.width:t/s.height;l=`-${s.x*e}px -${s.y*e}px`}const c={backgroundImage:`url(${o})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:r}},children:(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(371918),i=o(217508),s=o(898781),r=o(50286),a=o(780280),l=o(808058),c=o(883119),d=o(785893);const u="100%";function _(e){var t,o,_,h;const p=(0,s.ZP)(),{containerBackgroundColor:m="white",coverPhoto:g,fullSize:f,images:x,isSecret:b,showSensitivityScreen:v,isActive:y,canEdit:P,onEditClick:w,layout:A}=e,C=(0,r.HG)(),{isRTL:E,isAuthenticated:T}=(0,a.B)(),j=C&&T,I=x[0],S=!g&&(null===(t=x[0])||void 0===t?void 0:t.name)||p._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),z=Array(2).fill(),k=new c.Ry(1),D="square"===A?l.M0:l.z9,R="square"===A?l.FP:l.FC,O=v?{filter:"blur(20px)"}:{};return(0,d.jsx)(c.zd,{height:f?"100%":void 0,rounding:4,width:"100%",wash:y,children:(0,d.jsxs)(c.xu,{"aria-hidden":!0,display:"flex",height:j?R:"100%",direction:"row",children:[(0,d.jsx)(c.sg,{span:8,children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:f?"100%":void 0,children:(0,d.jsx)(c.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[b&&(0,d.jsx)(c.xu,{left:!E,right:E,margin:2,position:"absolute",top:!0,zIndex:k,children:(0,d.jsx)(i.Z,{backgroundColor:"white",iconColor:"default",size:j?32:24})}),j&&null!=g&&g.url?(0,d.jsx)(n.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=g.url)&&void 0!==o?o:"",width:Math.floor(D/3*2),height:R}):(0,d.jsx)(c.Ee,{alt:S,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(_=null!==(h=null==g?void 0:g.url)&&void 0!==h?h:null==I?void 0:I.url)&&void 0!==_?_:""})]})})})}),(0,d.jsx)(c.sg,{span:4,children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[P&&y&&(0,d.jsx)(c.xu,{left:E,right:!E,margin:2,position:"absolute",bottom:!0,zIndex:k,children:(0,d.jsx)(c.hU,{accessibilityLabel:p._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==w?void 0:w(e),size:"sm"})}),z.map(((e,t)=>{var o,n;const i=x[j?t:t+1];return(0,d.jsx)(c.xu,{position:"relative",height:f?"50%":void 0,children:(0,d.jsx)(c.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,d.jsx)(c.Ee,{alt:null!==(o=null==i?void 0:i.name)&&void 0!==o?o:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(n=null==i?void 0:i.url)&&void 0!==n?n:""})})})},t)}))]})}),v&&(0,d.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,d.jsx)(c.X6,{align:"center",color:"light",size:"400",children:p._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},259986:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{accessibilityLabel:t,bgColor:o,icon:s,onClick:r,selected:a,size:l}=e;return(0,i.jsx)(n.hU,{accessibilityLabel:t,bgColor:null!=o?o:"transparent",icon:s,iconColor:"darkGray",onClick:r,selected:a,size:null!=l?l:"lg"})}},468747:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(90543),i=o(883119),s=o(785893);function r(e,t){return(0,s.jsx)(i.xu,{"data-test-id":`${e.props.icon}-button`,children:e},t)}function a(e){const{buttonsLeft:t,buttonsRight:o,children:a,headerHeight:l,minHeight:c,shouldStick:d}=e;return(0,s.jsx)(n.Z,{position:d?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=l?l:"pending",children:(0,s.jsx)(i.xu,{color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%",children:(0,s.jsxs)(i.xu,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:c,width:"100%",children:[(0,s.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",children:t.map(r)}),(0,s.jsx)(i.xu,{margin:"auto",children:a}),(0,s.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:o.map(r)})]})})})}},2819:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(259986),s=o(883119),r=o(785893);function a({bgColor:e,children:t,icon:o,label:a,size:l}){const c=(0,n.useRef)(null),[d,u]=(0,n.useState)(!1),_=()=>u(!1);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(s.xu,{ref:c,children:(0,r.jsx)(i.Z,{accessibilityLabel:a,bgColor:e,icon:o,onClick:()=>u(!d),selected:d,size:l})}),d&&(0,r.jsx)(s.Lt,{id:"actionBarMenuButton",idealDirection:"down",anchor:c.current,onDismiss:_,zIndex:new s.Ry(1e3),children:t({handleClose:_})})]})}},808058:(e,t,o)=>{o.d(t,{FC:()=>a,FP:()=>s,M0:()=>i,s0:()=>n,z9:()=>r});const n=34,i=236,s=157,r=320,a=213},851850:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(19121),i=o(50286);function s(){const e=(0,i.HG)(),t=(0,n.Z)(),o=t&&t.isAuth;if(e&&o){return e=>{var t,o;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,i=null!==(t=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==t?t:n,s=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return i||s}}return(e,t)=>{var o,n;const i=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!i)return"";const s=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(o=null!==(n=null!=s?s:r)&&void 0!==n?n:a)&&void 0!==o?o:"",c=e.image_cover_url||"";return i||(t&&t>2&&l?l:"")||c}}},286268:(e,t,o)=>{o.d(t,{Bw:()=>a,Jx:()=>r,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),i=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),s=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var o;return"string"==typeof e?n(e)!==t:n(null!==(o=e.url)&&void 0!==o?o:"")!==t}},r=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(s(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(s(t)).map(i):[],a=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},61877:(e,t,o)=>{o.d(t,{Cq:()=>h,Dk:()=>m,Fk:()=>s,bI:()=>i,fS:()=>_,gw:()=>d,j1:()=>u,km:()=>p,lI:()=>a,lJ:()=>r,mS:()=>c,qW:()=>l});var n=o(883119);const i=new n.Ry(0),s=new n.Ry(1),r=3,a=new n.Ry(r),l=2,c=new n.Ry(l),d=new n.Ry(3),u=new n.Ry(3),_=3,h=4,p=new n.Ry(5),m=new n.Ry(100)},715173:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),i=o(883119),s=o(868065),r=o(785893);function a({fullWidth:e,isFollowed:t,topicId:o,primaryAction:a=!1,onFollow:l=(()=>{}),onUnFollow:c=(()=>{}),isFollowedText:d,isNotFollowedText:u,size:_="md"}){const h=(0,n.ZP)(),p=(0,s.X2)(),{follow:m,unfollow:g}=(0,s.mW)(),f=p[o],x=f?Boolean(f.is_followed):t;return(0,r.jsx)(i.zx,{color:"gray",selected:!x,fullWidth:!e,onClick:()=>{x?(c(o),g(o)):(l(o),m(o,a))},text:x?d||h._('Following', 'Button text to display for unfollowing an interest', 'Button text to display for unfollowing an interest'):u||h._('Follow', 'Button text to display for following an interest', 'Button text to display for following an interest'),size:_})}},464019:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(715173),i=o(694379),s=o(898781),r=o(349700),a=o(883119),l=o(785893);function c({backgroundColor:e,followersCount:t,followersCountDisplay:o,height:n,image:i,name:c,width:d}){var u,_,h;const p=(0,s.ZP)(),m=p.ngettext('{{ count }} {{ label }}', '{{ count }} {{ label }}', t || 0, 'indicate a number of followers', 'indicate a number of followers'),g=p.ngettext('follower', 'followers', t || 0, 'used in {{count}} {{followers}}', 'used in {{count}} {{followers}}'),f=n||d;return(0,l.jsx)(a.xu,{children:(0,l.jsxs)(a.zd,{rounding:4,children:[i?(0,l.jsxs)(a.xu,{position:"relative",children:[(0,l.jsx)(a.GH,{width:d,height:f,contentAspectRatio:(null!==(u=i.width)&&void 0!==u?u:1)/(null!==(_=i.height)&&void 0!==_?_:1),children:(0,l.jsx)(a.Ee,{alt:c,color:e,naturalHeight:1,naturalWidth:1,src:null!==(h=i.url)&&void 0!==h?h:""})}),(0,l.jsx)(a.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},position:"absolute",top:!0})]}):(0,l.jsx)(a.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),(0,l.jsxs)(a.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"center",bottom:!0,left:!0,padding:3,position:"absolute",right:!0,top:!0,children:[(0,l.jsx)(a.xv,{color:"inverse",overflow:"normal",weight:"bold",children:c}),t?(0,l.jsx)(a.xu,{children:(0,r.nk)(m,{count:(0,l.jsx)(a.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:o},"followersCount"),label:(0,l.jsx)(a.xv,{color:"inverse",inline:!0,size:"200",children:g},"followersLabel")})}):null]})]})})}const d=236;function u(e){const{backgroundColor:t,followedByMe:o,followersCount:s,height:r,id:u,image:_,name:h,url:p,width:m=d,followingButton:g}=e,f=s?(0,l.jsx)(i.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1}):"",x=g||(0,l.jsx)(n.Z,{fullWidth:!0,topicId:u,isFollowed:o}),b=(0,l.jsx)(c,{backgroundColor:t,followersCount:s,followersCountDisplay:f,image:_,name:h,width:m,height:r});return(0,l.jsx)(a.Zb,{children:(0,l.jsxs)(a.xu,{width:m,children:[p?(0,l.jsx)(a.iP,{role:"link",href:`/ideas/${p}/${u}`,children:b}):b,(0,l.jsx)(a.xu,{marginTop:2,display:"flex",justifyContent:"center",children:x})]})})}},56291:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(966338),s=o(116303),r=o(70598),a=o(326015),l=o(883119),c=o(5226),d=o(785893);function u({isSelf:e,showVerified:t=!1,user:o={}}){const[u,_]=(0,n.useState)(o.explicitly_followed_by_me||!1),h=(0,i.useDispatch)(),{domain_verified:p,full_name:m,is_verified_merchant:g,username:f}=o,x=o.image_medium_url||o.image_small_url;return(0,d.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,d.jsx)(l.xu,{flex:"grow",paddingX:1,children:(0,d.jsx)(l.iP,{role:"link",href:`/${f}/`,children:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",gap:2,children:[(0,d.jsx)(l.xu,{width:50,children:(0,d.jsx)(s.Z,{name:null!=m?m:"",src:null!=x?x:"",size:"fit"})}),(0,d.jsx)(l.xv,{weight:"bold",children:t&&(g||p)?(0,d.jsx)(a.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=m?m:"",identityIsVerified:p,isVerifiedMerchant:g}):m})]})})}),(0,d.jsx)(l.xu,{paddingX:1,children:(0,d.jsx)(r.Z,{followEventType:45,id:o.id,isFollowed:u,isUserMe:Boolean(e),onFollow:e=>{h((0,c.ZN)(e)),_(!0)},onUnfollow:e=>{h((0,c.fv)(e)),_(!1)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},993786:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(966113),s=o(898781),r=o(883119),a=o(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,s.ZP)();return(0,a.jsx)(r.u,{link:(0,a.jsx)(r.rU,{href:i.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,a.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:o,showText:i,size:d}){const u=(0,s.ZP)(),_=(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(r.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),i&&(0,a.jsx)(r.xu,{marginStart:2,children:(0,a.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,a.jsxs)(n.Fragment,{children:[o&&!t&&(0,a.jsx)(c,{children:_}),o&&t&&_,e&&!o&&(0,a.jsx)(r.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},154391:(e,t,o)=>{o.d(t,{H:()=>s,o:()=>i});var n=o(425288);const{Provider:i,useHook:s}=(0,n.Z)("LimitedLogin")},957314:(e,t,o)=>{o.d(t,{N4:()=>s,Wh:()=>n,hr:()=>i});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),i=o(50286),s=o(154391),r=o(957314);const a=()=>{const e=(0,n.ZP)(),t=(0,i.HG)(),{viewer:o,loginForMore:a,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:c}=(0,s.H)();return"LIMITED_LOGIN"===o.type?({modalHeader:o,nextLocation:n})=>i=>{let s=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?s=i:i.event&&(s=i.event)),s&&(s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()),o||(o=t?(0,r.hr)(e):(0,r.Wh)(e)),null==a||a.setVisible(!0),null==l||l.setText(o),n&&(null==c||c.setRoute(n))}:({fn:e})=>e}},409828:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),s=o(774807),r=o(883119),a=o(407043),l=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,userId:o}){const{logContextEvent:d}=(0,a.v)(),[u,_]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,l.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({showSendMessageFlyout:()=>{_((e=>!e))}})}),u&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),_(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.ZP.create("ConversationsResource",{user_ids:[o],text:e}),n=await t.callCreate(),s=null==n?void 0:n.resource_response.data;g(s),f(s.id)},onDismiss:()=>_(!1),message:h})]})}},774807:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),i=o(934523),s=o(883119),r=o(785893);function a({anchor:e,idealDirection:t,message:o,onDismiss:a,onMessageChange:l,onMessageSubmit:c}){const d=(0,n.ZP)();return(0,r.jsx)(s.mh,{zIndex:new s.Ry(i.fe-1),children:(0,r.jsx)(s.J2,{anchor:e,idealDirection:null!=t?t:"down",onDismiss:a,size:"md",children:(0,r.jsxs)(s.xu,{padding:3,width:"100%",children:[(0,r.jsx)(s.Kx,{id:"message",value:o,onChange:({value:e})=>l(e),placeholder:d._('Add a message', 'profileHeader.actionBar.messageFlyout.textareaPlaceholder', 'Text placeholder when sending a message to another user')}),(0,r.jsx)(s.xu,{marginTop:3,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",text:d._('Send', 'profileHeader.actionBar.messageFlyout.sendButton', 'Label for button to send this message to this user'),disabled:""===o.trim(),onClick:c})})]})})})}},106860:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(667294),i=o(161087),s=o(497997),r=o(898781),a=o(780280),l=o(883119),c=o(785893);function d({height:e,onCtaDidLoad:t,width:d}){const u=(0,r.ZP)(),[_,h]=(0,n.useState)(null),{locale:p}=(0,a.B)(),m=(0,i.default)(p);(0,n.useEffect)((()=>{m&&"none"!==m&&(e=>{const t=(0,n.lazy)((()=>o(453658)(`./${e}`)));h(t)})(m)}),[m]),(0,n.useEffect)((()=>{_&&t()}),[_]);const g=u._('Open Pinterest and tap the camera icon for ideas', 'PincodeCTA.title', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label for an image'),f=(0,c.jsx)(l.xv,{align:"center",children:g});return"none"===m?f:_?(0,c.jsx)(s.Z,{fallback:f,children:(0,c.jsx)(_,{height:e,title:g,width:d})}):(0,c.jsx)(l.$j,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},161087:(e,t,o)=>{function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}o.r(t),o.d(t,{default:()=>n})},672643:(e,t,o)=>{o.d(t,{ZP:()=>z});var n=o(667294),i=o(106860),s=o(785893);const r="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",a="#e60023",l="0 0 222 222";function c({size:e}){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:l,children:(0,s.jsx)("path",{d:r,fill:a,fillRule:"evenodd"})})}var d=o(898781),u=o(883119);function _({getThumbnailImageSrcSet:e,images:t,onTouch:o}){const n=(0,d.ZP)();return(0,s.jsx)(u.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map(((t,i)=>{var r,a,l,d;return(0,s.jsx)(u.xu,{padding:1,children:(0,s.jsx)(u.Zb,{children:(0,s.jsx)(u.iP,{fullWidth:!1,onTap:()=>o("logo"===t?"logo":i-1),rounding:2,children:(0,s.jsx)(u.zd,{rounding:"circle",width:85,height:85,children:"logo"===t?(0,s.jsx)(c,{size:85}):(0,s.jsx)(u.Ee,{alt:n._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,naturalWidth:null!==(a=t.width)&&void 0!==a?a:1,src:null!==(l=t.url)&&void 0!==l?l:"",srcSet:e&&e(null!==(d=t.url)&&void 0!==d?d:"")})})})})},"logo"===t?t:t.url)}))})}var h=o(784590);const p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${m||222}" height="${m||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${r}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim())}`;var m,g;const f=600;function x(e,t,o){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===o?300:0)}"\n      width="${f/("row"===t?1:2)}"\n      height="${f/("column"===o?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function b(e,t){const o=function(e){switch(e.length){case 0:case 1:return;case 2:return[x(e[0],"left","column"),x(e[1],"right","column")].join("");case 3:return[x(e[0],"left","column"),x(e[1],"right","top"),x(e[2],"right","bottom")].join("");default:return[x(e[0],"left","top"),x(e[1],"right","top"),x(e[2],"left","bottom"),x(e[3],"right","bottom")].join("")}}(t);return o?e.replace(/<image[^>]*>/,o):e}class v extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(o="handleFetchChange")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:o,pincodeImageResource:{data:n,isLoaded:i}}=this.props,r=o,a=o;return(0,s.jsxs)(u.kC,{alignItems:"center",height:a,justifyContent:"center",width:r,children:[i&&!!n&&(0,s.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:b(n,t)},style:{width:r,height:a}}),(0,s.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!n})]})}}function y(e){const t=(0,d.ZP)(),o=(0,h.Z)({name:"PincodeImageResource",options:{object_id:e.id,hero_image_url:e.imageUrls[0]||p}});return(0,s.jsx)(v,{...e,i18n:t,pincodeImageResource:o})}var P=o(407043);function w(e){return new Promise(((t,o)=>{const n=new XMLHttpRequest;n.ontimeout=o,n.onreadystatechange=()=>{if(4!==n.readyState)return;if(200!==n.status)return void o();const e=new FileReader;e.onloadend=()=>{const n=e.result;"string"==typeof n?t(n.split(/,/)[1]):o()},e.readAsDataURL(n.response)},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()}))}function A(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const o=e.href.baseVal;if(o.startsWith("data:"))return Promise.resolve();const n=t?t(o):o;return Promise.resolve(n).then(w).then((e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n)};base64,${e}`)).then((t=>new Promise(((o,n)=>{e.onerror=n,e.href.baseVal=t,window.requestAnimationFrame(o)}))))}(e,t);const o=Array.from(e.childNodes);return Promise.all(o.map((e=>A(e,t))))}function C(e,t){return new Promise(((o,n)=>{const i=document.createElement("div");i.innerHTML=e.innerHTML,A(i,t).then((()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame((()=>o(t)))},t.onerror=n;const s=i&&i.querySelector("svg");s&&(/^[0-9]+$/.test(s.getAttribute("width")||"")||s.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(s.getAttribute("height")||"")||s.setAttribute("height",`${e.scrollHeight}`));const r=i.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(r.trim())}`}))}))}function E(e,t){return new Promise(((o,n)=>{(function(e){return new Promise(((t,o)=>{if(e.toBlob)return void e.toBlob(t);let n="";try{n=e.toDataURL("image/png")}catch(a){o()}const i=window.atob(n.split(",")[1]),s=i.length,r=new Uint8Array(s);for(let e=0;e<s;e+=1)r[e]=i.charCodeAt(e);t(new window.Blob([r],{type:"image/png"}))}))})(e).then((e=>window.URL.createObjectURL(e))).then((e=>{const n=document.createElement("a");n.download=t,n.href=e,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame((()=>{const t=()=>{window.requestAnimationFrame((()=>{window.URL.revokeObjectURL(e),n.removeAttribute("href"),n.removeEventListener("click",t),window.document.body.removeChild(n),o()}))};n.addEventListener("click",t),n.click()}))})).catch(n)}))}function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const j="pincodeMain",I="pincodeCTA";class S extends n.PureComponent{constructor(...e){super(...e),T(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),T(this,"getCustomHeroImages",(()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:o}=this.state;if(!t)return e;const n="logo"!==o&&e[o];return n?[n]:[]})),T(this,"normalizeUrl",(e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))})),T(this,"handleFetchChange",(e=>{this.setState({isFetchingPincodeImage:e})})),T(this,"handleCancelButtonClick",(()=>this.setState({isPickingHeroImage:!1}))),T(this,"handleEditButtonClick",(()=>this.setState({isPickingHeroImage:!0}))),T(this,"handleSelectImage",(e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e}))),T(this,"downloadPincodeImage",(()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:o,isDownloading:n}=this.state;if(!e||!t||o||n)return;const i=e.querySelector(".pincodeMain"),s=e.querySelector(".pincodeCTA");if(!i||!s)return;const{getDownloadImageURL:r,id:a,logContextEvent:l}=this.props;l({event_type:7078,component:13141,object_id_str:a}),this.setState({isDownloading:!0}),Promise.all([C(i,r),C(s)]).then((e=>{const[t,o]=e;return((e,t)=>{const o=document.createElement("canvas");o.width=3544,o.height=3544;const n=Math.round(.1*o.width),i=Math.round(.05*o.width),s=o.width-2*n,r=o.width-2*i,a=o.height-s,[l,c]=t.width/t.height>r/a?[r,r/t.width*t.height]:[a/t.height*t.width,a],d=o.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,o.width,o.height),d.drawImage(e,n,0,s,s),d.drawImage(t,(o.width-l)/2,s+(o.height-s-c)/2,l,c),o})(t,o)})).then((e=>E(e,`pincode_${this.props.id}.png`))).then((()=>{this.setState({isDownloading:!1})})).catch((()=>{this.setState({errorFlyoutIsOpen:!0})}))}))}render(){const{id:e,isLoadingImages:t,images:o,getThumbnailImageSrcSet:n,customizable:r}=this.props,{ctaIsLoaded:a,errorFlyoutIsOpen:l,isFetchingPincodeImage:c,isDownloading:d,isPickingHeroImage:h}=this.state;return h?(0,s.jsx)(u.xu,{width:350,color:"white",rounding:2,padding:4,children:(0,s.jsxs)(u.xu,{children:[(0,s.jsx)(u.xu,{paddingY:1,children:(0,s.jsx)(u.X6,{size:"500",lineClamp:1,children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,s.jsx)(u.iz,{}),(0,s.jsx)(_,{images:o,getThumbnailImageSrcSet:n,onTouch:this.handleSelectImage}),(0,s.jsx)(u.xu,{padding:1,children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker'),onClick:this.handleCancelButtonClick})})]})}):(0,s.jsx)(u.xu,{width:350,color:"white",rounding:2,marginBottom:4,paddingX:4,children:(0,s.jsxs)(u.xu,{children:[(0,s.jsx)(u.xu,{ref:e=>{this.previewNode=e},children:(0,s.jsxs)(u.xu,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?(0,s.jsx)(u.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,s.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,s.jsx)(y,{className:j,id:e,imageUrls:this.getCustomHeroImages().map((e=>{var t;return this.normalizeUrl(null!==(t=e.url)&&void 0!==t?t:"")})),onFetchingChange:this.handleFetchChange,size:230}),(0,s.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:(0,s.jsx)("div",{className:I,children:(0,s.jsx)(i.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),(0,s.jsxs)(u.xu,{marginTop:2,padding:1,children:[r&&o.length>0&&(0,s.jsx)(u.xu,{paddingY:1,children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image'),onClick:this.handleEditButtonClick})}),(0,s.jsxs)(u.xu,{paddingY:1,children:[(0,s.jsx)(u.xu,{ref:e=>{this.downloadButton=e},children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image'),color:"red",onClick:this.downloadPincodeImage,disabled:t||!a||c||d})}),l&&(0,s.jsx)(u.J2,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:(0,s.jsx)(u.xu,{padding:3,children:(0,s.jsx)(u.xv,{color:"inverse",weight:"bold",children:(0,s.jsx)("span",{children:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported')})})})})]})]})]})})}}function z(e){const{logContextEvent:t}=(0,P.v)(),o=(0,d.ZP)();return(0,s.jsx)(S,{...e,i18n:o,logContextEvent:t})}},529758:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(121151),s=o(898781),r=o(883119),a=o(407043),l=o(785893);function c({children:e,objectId:t,onHide:o}){const{logContextEvent:c}=(0,a.v)(),d=(0,s.ZP)(),u={component:13141,object_id_str:t};return(0,n.useEffect)((()=>{c({event_type:6359})}),[t]),(0,l.jsx)(i.ZP,{accessibilityModalLabel:d._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:d._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{o(),c({event_type:6358,...u})},size:"sm",children:(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},301732:(e,t,o)=>{o.d(t,{ZP:()=>P,cs:()=>y});var n=o(667294),i=o(704115),s=o(715173),r=o(730320),a=o(104258),l=o(907301),c=o(464019),d=o(784590),u=o(19121),_=o(407043),h=o(898781),p=o(780280),m=o(883119),g=o(785893);function f({onClick:e}){const t=(0,h.ZP)();return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(m.iP,{role:"link",href:"/categories",onTap:e,children:(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.zd,{height:236,rounding:2,wash:!0,width:236,children:(0,g.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,g.jsx)(m.JO,{accessibilityLabel:t._('add topics', 'accessible label for Explore topics add icon', 'accessible label for Explore topics add icon'),color:"error",icon:"add-circle",size:40})})}),(0,g.jsx)(m.xu,{paddingY:3,children:(0,g.jsx)(m.X6,{size:"400",color:"subtle",children:t._('Explore topics', 'Text to display for link to find topics to follow', 'Text to display for link to find topics to follow')})})]})})})}function x(e){let t=e;return e.includes(":")&&2===e.indexOf(":")&&(t=e.substring(3)),t}function b(e){const{id:t="",images:o={},name:n="",background_color:i="",is_followed:r=!1,url_name:a="",primaryAction:l=!1}=e;return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(c.Z,{backgroundColor:i,id:t,image:o["400x"],followedByMe:r,name:n,url:x(a),followingButton:Boolean(l)&&(0,g.jsx)(s.Z,{fullWidth:!0,topicId:t,isFollowed:r,primaryAction:Boolean(l)})})},t)}class v extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:1224})},(o="handleFindTopicsClick")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{viewer:e,topicsResource:{data:t,fetchMore:o,isAtEnd:n,isFetching:i,isLoaded:s},user:c,hideExploreButton:d,primaryAction:u,requestContext:_}=this.props,h=e.isAuth&&e.username===c.username;return(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.gr,{isAtEnd:n,isFetching:i,fetchMore:o}),s&&t&&(t.length?(0,g.jsxs)(l.Z,{itemWidth:260,children:[!d&&h&&(0,g.jsx)(f,{onClick:this.handleFindTopicsClick}),t.map((e=>Object.assign(e,{primaryAction:u,requestContext:_}))).map(b)]}):(0,g.jsx)(r.Z,{children:(0,g.jsx)(a.Z,{subject:"topics",surface:"following",user:c})})),(0,g.jsx)(m.$j,{accessibilityLabel:this.props.i18n._('Loading additional topics', 'Label for the loading state spinner in the Topics section of the Following page', 'Label for the loading state spinner in the Topics section of the Following page'),show:i||!s})]})}}function y(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),s=(0,u.Z)(),r=(0,d.Z)({name:"NuxInterestsResource",options:{is_renux:!0,isLazyLoading:!0,urlParams:(0,i.Z)()}});return(0,g.jsx)(v,{...e,hideExploreButton:!0,primaryAction:!0,requestContext:n,topicsResource:r,viewer:s,i18n:o,logContextEvent:t})}function P(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),i=(0,u.Z)(),s=(0,d.Z)({name:"InterestFollowingResource",options:({user:e})=>({username:e.username})});return(0,g.jsx)(v,{...e,requestContext:n,topicsResource:s,viewer:i,i18n:o,logContextEvent:t})}},741982:(e,t,o)=>{o.d(t,{S:()=>d,w:()=>u});var n=o(667294),i=o(695683),s=o(311541),r=o(425288),a=o(785893);const l=()=>o.e(90251).then(o.bind(o,590251)),{Provider:c,useHook:d}=(0,r.Z)("MerchantStorefrontSettings");function u({children:e}){const[t,o]=(0,s.Z)(l,i.Z),r=(0,n.useMemo)((()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,n)=>{o({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}})},updateStorefrontLastUpdated:e=>{o({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}})),[o,t]);return(0,a.jsx)(c,{value:r,children:e})}},985310:(e,t,o)=>{o.d(t,{Z:()=>n});const n={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},695683:(e,t,o)=>{o.d(t,{Z:()=>n});const n={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},701907:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(120659);var i=o(755720),s=o(883119),r=o(785893);function a({height:e=200,numCols:t=3,pins:o=[],rounding:a=2,width:l=i.W}){return(0,r.jsx)(s.zd,{rounding:a,width:l,height:e,children:(0,r.jsx)(s.gM,{columns:t,cover:!0,height:e,gutter:2,renderImage:({index:e,width:t,height:i})=>{var s;const a=o[e];if(!a)return null;const l=null===(s=a.images)||void 0===s?void 0:s["474x"];return(0,r.jsx)(n.Z,{height:i,image:l,width:t})},width:l})})}},755720:(e,t,o)=>{o.d(t,{W:()=>i,X:()=>n});const n=3,i=300},120659:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({image:e,width:t,height:o}){return e?(0,i.jsx)(n.zd,{wash:!0,width:t,height:o,children:(0,i.jsx)(n.Ee,{alt:"board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):(0,i.jsx)(n.xu,{color:"lightGray",width:t,height:o})}},730320:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);const s=({children:e,marginTop:t=5,textSize:o="md"})=>(0,i.jsx)(n.W2,{children:(0,i.jsx)(n.xu,{marginBottom:5,marginTop:t,children:(0,i.jsx)(n.X6,{color:"subtle",size:o,children:e})})})},406379:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),i=o(349700),s=o(883119),r=o(785893);function a({fullName:e,isOwnProfile:t,isPartnerProfile:o}){const a=(0,n.ZP)(),l=t?a._('You haven\'t saved any Pins yet', 'ownProfile.boards.emptyState', 'Message on a user\'s own profile when they haven\'t saved anything'):(0,i.nk)(a._('{{ fullName }} hasn\'t saved any Pins yet', 'otherProfile.boards.emptyState', 'Message on another user\'s profile when that user hasn\'t saved anything'),{fullName:null!=e?e:""});return(0,r.jsx)(s.W2,{children:(0,r.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:8,children:[(0,r.jsx)(s.xv,{children:l}),t&&(0,r.jsx)(s.xu,{marginTop:4,children:(0,r.jsx)(s.zx,{role:"link",href:o?"/homefeed":"/",accessibilityLabel:a._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button accessibility label to redirect a user from their empty profile to homefeed to find ideas to save'),size:"lg",text:a._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button text to redirect a user from their empty profile to homefeed to find ideas to save')})})]})})}},104258:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(19121),s=o(349700);function r({subject:e,surface:t,user:o}){const r=(0,n.ZP)(),a=(0,i.Z)(),{first_name:l}=null!=o?o:{},c=((e,t)=>t.isAuth&&e&&t.id===e.id)(o,a),d=()=>c?(()=>{switch(e){case"boards":return r._('You haven\u2019t followed any boards yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards');case"topics":return r._('You haven\u2019t picked any topics to follow yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics');case"users":return r._('You haven\u2019t followed anyone yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users');default:return null}})():(()=>{switch(e){case"boards":return(0,s.nk)(r._('{{ firstName }} hasn\'t followed any boards yet', 'Text displayed when a user has not followed any boards', 'Text displayed when a user has not followed any boards'),{firstName:l});case"topics":return(0,s.nk)(r._('{{ firstName }} hasn\'t picked any topics to follow yet', 'Text displayed when a user has not followed any topics', 'Text displayed when a user has not followed any topics'),{firstName:l});case"users":return(0,s.nk)(r._('{{ firstName }} hasn\'t followed anyone yet', 'Text displayed when a user has not followed anyone', 'Text displayed when a user has not followed anyone'),{firstName:l});default:return null}})();switch(t){case"followers":return c?r._('Nobody has followed your boards yet', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed'):(0,s.nk)(r._('Nobody has followed {{ firstName }}\'s boards yet', 'Text displayed when a no one has followed a user\u2019s boards', 'Text displayed when a no one has followed a user\u2019s boards'),{firstName:null!==(_=null==o?void 0:o.first_name)&&void 0!==_?_:""});case"following":return d();case"profile":return(()=>{if(c)switch(e){case"pins":return null!=o&&o.is_partner?r._('Nothing to see yet! Pins you publish will show up here.', 'profile.businessProfile.latestFeed.emptyLabel', 'label for empty business profile self-view of latest feed'):null;default:return null}switch(e){case"pins":return(0,s.nk)(r._('{{ firstName }} hasn\'t saved any Pins yet', 'Text displayed when a user has not saved any pins', 'Text displayed when a user has not saved any pins'),{firstName:l});case"boards":return(0,s.nk)(r._('{{ firstName }} hasn\'t created any boards yet', 'Text displayed when a user has not created any boards', 'Text displayed when a user has not created any boards'),{firstName:l});case"domainPins":return(0,s.nk)(r._('{{ firstName }} hasn\'t had any pins saved from their domain yet', 'Text displayed when a user has not had any images from their website pinned', 'Text displayed when a user has not had any images from their website pinned'),{firstName:l});default:return null}})();case"community":return c?r._('No one is following you', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed'):(0,s.nk)(r._('Be the first to follow {{ firstName }}', 'Text displayed when a no one has followed a user\u2019s profile/boards', 'Text displayed when a no one has followed a user\u2019s profile/boards'),{firstName:null!==(u=null==o?void 0:o.first_name)&&void 0!==u?u:""});case"shop":return(()=>{switch(e){case"search":return r._('Sorry, we couldn\'t find any Pins for this search.', 'Text displayed when a search result is empty', 'Text displayed when a search result is empty');default:return null}})();default:return null}var u,_}},907301:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);const s=(e,t)=>Array.from(new Array(t)).map(((t,o)=>(0,i.jsx)(n.xu,{width:e},o)));const r=function({children:e,itemWidth:t,maxColumns:o=12}){return(0,i.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,s(t,o)]})}},85719:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({accessibilityLabel:e,color:t="darkGray",icon:o,info:s}){return(0,i.jsxs)(n.kC,{gap:7,children:[(0,i.jsx)(n.JO,{accessibilityLabel:e,color:t,icon:o,size:20}),s]})}},766911:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(116303),i=o(300267),s=o(580496),r=o(898781),a=o(883119),l=o(785893);function c({onTouch:e,user:t,viewer:o}){const c=(0,r.ZP)(),{image_xlarge_url:d,username:u}=t,_=(0,s.Z)(t),h=(0,i.Z)({viewer:o,user:t})||o.isAuth&&o.isEmployee,p=(0,l.jsx)(n.Z,{name:u,outline:_,size:"xl",src:null!=d?d:void 0});return h?(0,l.jsx)(a.iP,{accessibilityLabel:c._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:p}):p}},245635:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(887831),s=o(898781),r=o(883119),a=o(785893);function l(){const e=(0,s.ZP)(),{isHovering:t,hoverHandlers:{onMouseOver:o,onMouseLeave:l}}=(0,i.Z)(),c=(0,n.useRef)();return(0,a.jsxs)(r.xu,{display:"inlineBlock",onFocus:o,onBlur:l,onMouseOver:o,onMouseLeave:l,position:"relative",tabIndex:0,children:[(0,a.jsx)(r.xu,{display:"inlineBlock",ref:c,children:(0,a.jsx)(r.JO,{accessibilityLabel:t?"":e._('Claimed website', 'Claimed website icon', 'Claimed website icon'),color:"default",icon:"globe-checked",inline:!0,size:16})}),t&&(0,a.jsx)(r.J2,{anchor:c.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,a.jsx)(r.xu,{column:12,padding:3,children:(0,a.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"100",children:e._('This website has been claimed', 'Tooltip for claimed website.', 'Tooltip for claimed website.')})})})]})}},348070:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(624389),s=o(898781),r=o(349700),a=o(217468),l=o(407043),c=o(81636),d=o(290095),u=o(883119),_=o(785893);function h({isOwnProfile:e,setShowMessageFlyout:t,showMessageFlyout:h,user:p}){var m;const{logContextEvent:g}=(0,l.v)(),f=(0,a.t)("web_about_drawer")().anyEnabled,x=(0,s.ZP)(),b=(0,n.useRef)(null),[v,y]=(0,n.useState)(!1),[P,w]=(0,n.useState)(),A=(0,d.V)(e,(null===(m=p.partner)||void 0===m?void 0:m.profile_place)||{},x._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),C=()=>{y(!1)},{id:E,partner:T}=p,{contact_email:j="",contact_phone:I="",contact_phone_country:S="",enable_profile_address:z,enable_profile_message:k,profile_place:D={}}=null!=T?T:{},R=I?null==P?void 0:P(I,{defaultCallingCode:S&&"0"!==S.phone_code?S.phone_code:null}):null;(0,c.Q)({component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107});const O=async()=>{if(y((e=>!e)),I&&!P){const e=await o.e(55302).then(o.bind(o,755302));w((()=>e.parsePhoneNumberFromString))}g({event_type:101,component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107})},L=e=>{g({event_type:101,component:13674,element:e,object_id_str:E,view_type:48,view_parameter:3107})},F=j||R,M={contact:x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:f?x._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'):x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),message:x._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,r.nk)(x._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'Menu option to send an email to the user'),{contactEmail:j}),call:x._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!F&&!k)return null;const N=(0,d.T)(D||{});return(0,_.jsx)(i.Z,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:h,userId:E,children:({toggleSendMessageFlyout:e})=>(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.xu,{ref:b,children:(0,_.jsx)(u.zx,{onClick:()=>{F?O():e()},selected:v,size:"lg",text:M.contact})}),v&&(0,_.jsxs)(u.Lt,{id:"profileHeader_contactMenu",anchor:b.current,idealDirection:"up",onDismiss:C,children:[(0,_.jsxs)(u.Lt.Section,{label:M.sectionTitle,children:[k&&(0,_.jsx)(u.Lt.Item,{onSelect:()=>{e(),L(11956),C()},option:{label:M.message,value:M.message}}),j&&(0,_.jsx)(u.Lt.Link,{isExternal:!0,href:`mailto:${j}`,onClick:()=>{L(11954),C()},option:{label:M.email.join(""),value:M.email.join("")}}),(R||I)&&(0,_.jsx)(u.Lt.Link,{isExternal:!0,onClick:({dangerouslyDisableOnNavigation:e})=>{L(11955),e(),C()},href:`tel:${R?R.getURI():I}`,option:{label:M.call,value:M.call}})]}),f&&z&&(0,_.jsx)(u.Lt.Section,{label:x._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,_.jsx)(u.Lt.Item,{onSelect:A,option:{label:N,value:N}})})]})]})})}},110293:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),i=o(883119),s=o(81636),r=o(785893);function a({showSendMessageFlyout:e,userId:t}){const o=(0,n.ZP)();return(0,s.Q)({element:10882,object_id_str:t,view_type:4,view_parameter:3107}),(0,r.jsx)(i.zx,{fullWidth:!0,size:"lg",text:o._('Message', 'profileHeader.messageButton', 'Button on a user profile to message that user'),onClick:e})}},456141:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(468747),i=o(300267),s=o(667294),r=o(333312),a=o(898781),l=o(615071),c=o(304903),d=o(349700),u=o(407043),_=o(925927),h=o(134679),p=o(883119),m=o(785893);function g({headerHeight:e,isOwnProfile:t,selectedTab:o,user:n}){var i;const{logContextEvent:g}=(0,u.v)(),f=(0,a.ZP)(),x=(0,_.k6)(),b=(0,s.useRef)(null),{id:v,username:y}=n,[P,w]=(0,s.useState)(0),A=()=>{w((0,c.S$)())};(0,s.useEffect)((()=>(window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)})));const C={1:{tab:h.u.CREATED,text:f._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:b},0:{tab:h.u.SAVED,text:f._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},2:{tab:h.u.SHOP,text:f._('Shop', 'profileHeader.tabs.shop', 'Label for Shop tab on profile header')},3:{tab:h.u.TRIED,text:f._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}};function E({ref:e,tab:n,text:i}){return{href:`/${y}/${n}/`,id:`${n}-profile-tab`,isActive:o===n,onClick:()=>{return e=n,void g({event_type:101,component:h.D[e],object_id_str:v,view_type:4,view_parameter:t?3106:3107});var e},ref:e,text:i}}const T=[];if((null!==(i=n.eligible_profile_tabs)&&void 0!==i?i:[]).forEach((e=>{const{tab_type:t}=e,o=void 0===t?null:C[t];o&&T.push(E(o))})),T.length<2)return(0,m.jsx)(l.Z,{in:!!e&&P>e,timeout:300,classNames:"ProfileTabsFullName",unmountOnExit:!0,children:(0,m.jsx)(p.X6,{size:"400",children:n.full_name})});return(0,m.jsxs)(p.xu,{children:[(0,m.jsx)(p.mQ,{activeTabIndex:Math.max(T.findIndex((e=>e.isActive)),0),onChange:({event:e,activeTabIndex:t})=>{const o=T[t];o.onClick&&o.onClick(),0!==e.button||(e=>Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||(e.preventDefault(),x.push(o.href))},tabs:T.map((({href:e,id:t,ref:o,text:n})=>({href:e,id:t,ref:o,text:n})))}),b&&t&&(0,m.jsx)(r.Z,{anchor:b.current,experienceIds:[502727],flyoutSize:300,idealDirection:"down",placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal",textOverrideFn:()=>(0,m.jsx)(p.xv,{align:"center",color:"inverse",children:(0,d.nk)(f._('New look! Click {{created}} to see Pins you\'ve published. Click {{saved}} to see your saved Pins and boards.', 'profileHeader.experience.tooltipText', 'Text informing users about purpose of Created and Saved tabs on profile'),{created:(0,m.jsx)(p.xv,{inline:!0,color:"inverse",weight:"bold",children:f._('Created', 'profileHeader.experience.createdTooltipText', 'Text informing users about purpose of Created and Saved tabs on profile')}),saved:(0,m.jsx)(p.xv,{inline:!0,color:"inverse",weight:"bold",children:f._('Saved', 'profileHeader.experience.savedTooltipText', 'Text informing users about purpose of Created and Saved tabs on profile')})})})})]})}function f({headerHeight:e,selectedTab:t,user:o,viewer:s}){const r=(0,i.Z)({user:o,viewer:s});return(0,m.jsx)(n.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,shouldStick:!0,children:(0,m.jsx)(g,{headerHeight:e,isOwnProfile:r,selectedTab:t,user:o})})}},624389:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),s=o(774807),r=o(883119),a=o(407043),l=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,setShowMessageFlyout:o,showMessageFlyout:d,userId:u}){const{logContextEvent:_}=(0,a.v)(),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,l.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({toggleSendMessageFlyout:()=>{o(!d)}})}),d&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),o(!1),_({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.ZP.create("ConversationsResource",{user_ids:[u],text:e}),n=await t.callCreate(),s=null==n?void 0:n.resource_response.data;g(s),f(s.id)},onDismiss:()=>o(!1),message:h})]})}},601785:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(2819),i=o(580496),s=o(898781),r=o(883119),a=o(785893);function l({onClickReportProfile:e,onToggleBlock:t,showSendMessageFlyout:o,user:l}){const c=(0,s.ZP)(),d=(0,i.Z)(l),{blocked_by_me:u}=l,_={label:c._('Message', 'profileHeader.actionBar.overflowFlyout.message', 'Overflow menu option on a user profile to send a message to that user'),clickHandler:o},h={label:c._('Block', 'profileHeader.actionBar.overflowFlyout.block', 'Overflow menu option on a user profile to block that user'),clickHandler:t},p={label:c._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user'),clickHandler:e},m=[];u||((()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n=!1}=null!==(e=l.partner)&&void 0!==e?e:{};return(!!t||!!o)&&n&&d})()&&m.push(_),m.push(h)),m.push(p);const g={label:c._('Profile options', 'profileHeader.actionBar.overflowFlyout.profileOptions', 'Category heading on Overflow menu on a user profile'),items:m};return(0,a.jsx)(n.Z,{icon:"ellipsis",label:c._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),children:({handleClose:e})=>[g].map((({items:t,label:o})=>(0,a.jsx)(r.Lt.Section,{label:o,children:t.map((({clickHandler:t,label:o})=>(0,a.jsx)(r.Lt.Item,{onSelect:()=>{e(),t()},option:{label:o,value:o}},o)))},o)))})}},793937:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(333312),s=o(300267),r=o(694379),a=o(966113),l=o(898781),c=o(19121),d=o(349700),u=o(883119),_=o(785893);function h({user:e}){var t;const o=(0,l.ZP)(),h=(0,n.useRef)(),p=(0,c.Z)(),m=new u.Ry(2);if(-1===e.profile_views)return null;const g=null!==(t=e.profile_views)&&void 0!==t?t:0,f=g>=1e7?o._('10m+', 'viewerCount.overTenMillion', 'Shortform number for a count of over 10,000,000'):(0,_.jsx)(r.Z,{value:g||0,shortform:!0,shortformMaximumFractionDigits:1},"pretty_number");return(0,_.jsx)(u.xu,{ref:h,children:(0,_.jsxs)(u.xv,{children:[(0,d.nk)(o._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:f,label:o._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')}),(0,s.Z)({user:e,viewer:p})&&(0,_.jsx)(i.Z,{showCaret:!0,anchor:h.current,customWrapper:({children:e})=>(0,_.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:m,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open(a.Z.settings.HELP_UPDATED_REPORTING_METRICS,"_blank"),placementId:19,textAlign:"center"})]})})}},290095:(e,t,o)=>{o.d(t,{T:()=>a,V:()=>l});var n=o(499128),i=o(407043),s=o(343341),r=o(785893);function a(e){const{street:t,extra_street:o,locality:n,region:i,postal_code:s,country:r}=e,a=t||"",l=o||"",c=n||"";return`${a}${l}${(a||l)&&","} ${c}${c&&","} ${i||""} ${s||""} ${r||""}`.trim()}function l(e,t,o){const{logContextEvent:l}=(0,i.v)(),{showToast:c}=(0,s.F9)();return()=>{l({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(a(t)),c((({hideToast:e})=>(0,r.jsx)(n.ZP,{onHide:e,text:o})))}}},134679:(e,t,o)=>{o.d(t,{D:()=>i,u:()=>n});const n={CREATED:"_created",DECIDER:"decider",FOLLOWERS:"_followers",FOLLOWING:"_following",PINS:"pins",SAVED:"_saved",SHOP:"_shop",STORY_PINS:"story_pins",TOPICS:"topics",TRIED:"tried",VIDEO_PINS:"video_pins"},i={[n.CREATED]:13668,[n.SAVED]:13669,[n.SHOP]:13670,[n.TRIED]:13671}},590908:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(648492),i=o(237900);function s(e){const t=(0,i.q)(e).replace(/^www\./,"");return(0,n.Z)(t)}},300267:(e,t,o)=>{function n({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}o.d(t,{Z:()=>n})},580496:(e,t,o)=>{function n(e){return Boolean(null==e?void 0:e.show_creator_profile)}o.d(t,{Z:()=>n})},794493:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){let o=null,i=null,s=null;const r=()=>{if(o){const t=o.clientHeight,n=o.clientWidth;i===t&&s===n||(i=t,s=n,e(o)),window.requestAnimationFrame(r)}};(0,n.useEffect)((()=>{var n;return t.current&&(n=t.current,o&&o===n||(o=n,i=n.clientHeight,s=n.clientWidth,e(o),r())),()=>{o=null}}),[t])}},806986:(e,t,o)=>{o.d(t,{Fj:()=>l,JI:()=>c,aG:()=>a});var n=o(667294),i=o(785893);const s=(0,n.createContext)(),r=(0,n.createContext)();function a({children:e}){const[t,o]=(0,n.useState)(!1);return(0,i.jsx)(s.Provider,{value:t,children:(0,i.jsx)(r.Provider,{value:o,children:e})})}function l(){const e=(0,n.useContext)(s);if(void 0===e)throw new Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){const e=(0,n.useContext)(r);if(void 0===e)throw new Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},958754:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(784590),i=o(19121),s=o(883119),r=o(925927),a=o(81636),l=o(301732),c=o(785893);function d(e){const t=(0,r.$B)(),o=(0,n.Z)({name:"UserResource",options:{username:t.params.username}}),d=(0,i.Z)();if((0,a.Q)({view_type:4,view_parameter:51}),!o.isLoaded||!o.data)return(0,c.jsx)(s.$j,{accessibilityLabel:"Page loading...",show:!0});const{data:u}=o;return d.id===u.id?(0,c.jsx)(l.cs,{user:u}):(0,c.jsx)(l.ZP,{user:u})}},814449:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(121151),i=o(966113),s=o(898781),r=o(349700),a=o(883119),l=o(785893);const c=i.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function d({firstName:e,onBlockUser:t,onClearModal:o}){const i=(0,s.ZP)(),d=(0,r.nk)(i._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join("");return(0,l.jsxs)(n.ZP,{accessibilityModalLabel:d,onDismiss:o,heading:d,footer:(0,l.jsxs)(a.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,l.jsx)(a.xu,{padding:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,size:"md",text:i._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:o})}),(0,l.jsx)(a.xu,{padding:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,size:"md",color:"red",text:i._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,l.jsx)(a.xu,{padding:4,"data-test-id":"block-text",children:(0,l.jsx)(a.xv,{children:(0,r.nk)(i._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e})})}),(0,l.jsx)(a.xu,{padding:4,children:(0,l.jsx)(a.xv,{color:"default",weight:"bold",children:(0,l.jsx)(a.rU,{target:"blank",href:c,children:i._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]})}},698726:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(667294),i=o(150361),s=o.n(i),r=o(121151),a=o(6637),l=o(499128),c=o(898781),d=o(91214),u=o(934523),_=o(349700),h=o(407043),p=o(343341),m=o(645015),g=o(883119),f=o(785893);const x=new g.H3([new g.Ry(d.HW),new g.Ry(u.fe)]);function b({countries:e,feedProfiles:t,onDismiss:o,onSubmit:i,onUndo:d,settings:u,userId:b}){const{logContextEvent:v}=(0,h.v)(),y=(0,c.ZP)(),P=y._('Manage shop visibility', 'MerchantStorefront.ManageShopVisibilityModal.heading', 'Modal title'),w=y._('People on Pinterest in the selected regions/languages below can see your shop tab. These regions and languages are based on your active catalog feeds. To hide your shop in any region/language, deselect it and save your changes. ', 'MerchantStorefront.ManageShopVisibilityModal.subHeading', 'Modal subtitle'),A=y._('Cancel', 'MerchantStorefront.ManageShopVisibilityModal.cancel', 'Confirmation option'),{showOneToast:C}=(0,p.F9)(),[E,T]=(0,n.useState)(s()(u)),[j,I]=(0,n.useState)(!1),S=[...t].sort(((t,o)=>{const n=(0,m.LT)(e,(0,m.u3)(t)),i=(0,m.LT)(e,(0,m.u3)(o));return n.localeCompare(i)})),z=t.map(m.u3),k=(0,m.Q1)(u,t),D=(0,m.Q1)(E,t),R=D.map((t=>(0,m.LT)(e,t)));R.sort();const O=k.length!==D.length||D.reduce(((e,t)=>e||!k.includes(t)),!1);(0,n.useEffect)((()=>{v({event_type:9858,component:13999})}),[v]);const L=(0,_.Wc)(y.ngettext('Hide shop in {{count}} region/language?', 'Hide shop in {{count}} regions/languages?', D.length, 'MerchantStorefront.ManageShopVisibilityModal.confirmHeading', 'Header to confirm hiding'),{count:D.length.toString()}),F=1===D.length?(0,_.Wc)(y._('Hide shop in {{country}}?', 'MerchantStorefront.ManageShopVisibilityModal.confirmHeadingCountry', 'Header to confirm hiding'),{country:(0,m.LT)(e,D[0])}):"",M=D.length>1?L:F,N=()=>{o(),v({event_type:9860,component:13999})},B=()=>{o(),a.ZP.create("ApiResource",{url:`/v3/business/users/${b}/storefront/settings/`,data:{settings:JSON.stringify(E)}}).callUpdate().then((()=>{i(),v({event_type:9859,component:13999}),C((({hideToast:e})=>(0,f.jsx)("div",{className:"ShopVisibleToast",children:(0,f.jsx)(l.ZP,{duration:m.QE,onHide:e,text:(0,f.jsx)(n.Fragment,{children:(0,f.jsxs)(g.xv,{children:[0===D.length&&y._('Shop visible in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.visibleEverywhere', 'toast text'),D.length>0&&D.length<z.length&&(0,_.Wc)(y.ngettext('Shop hidden in {{count}} region/language', 'Shop hidden in {{count}} regions/languages', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenSomewhere', 'toast text'),{count:D.length.toString()}),D.length===z.length&&y._('Shop hidden in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.hiddenEverywhere', 'toast text')]})}),button:(0,f.jsx)(g.zx,{text:y._('Undo', 'MerchantStorefront.ManageShopVisibilityModal.undoToast', 'Undo button in toast'),size:"lg",onClick:()=>{d(),e()}},"undo-button")})})))}))},U=D.length>1?(0,_.Wc)(y._('{{item1}} and {{item2}}', 'MerchantStorefront.ManageShopVisibilityModal.andItems', 'And joining two geographic locations'),{item1:R.slice(0,-1).join(", "),item2:R[R.length-1]}):R.join();return(0,f.jsx)(g.mh,{zIndex:x,children:j?(0,f.jsx)(r.ZP,{accessibilityModalLabel:M,align:"center",heading:M,onDismiss:N,footer:(0,f.jsxs)(g.kC,{gap:2,alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(g.zx,{color:"gray",text:A,onClick:()=>I(!1)}),(0,f.jsx)(g.zx,{color:"red",text:y._('Hide shop', 'MerchantStorefront.ManageShopVisibilityModal.hideShop', 'Confirmation option'),onClick:B})]}),size:"sm",children:(0,f.jsx)(g.xu,{paddingX:8,children:(0,f.jsx)(g.xv,{size:"300",align:"center",children:(0,_.Wc)(y.ngettext('People in {{region}} won\'t see your shop tab. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', 'People in the following regions won\'t see your shop tab: {{regions}}. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenRegions.bodyText', 'Message describing what regions the user is about to hide their store from'),{region:U,regions:U})})})}):(0,f.jsxs)(r.ZP,{accessibilityModalLabel:P,align:"start",heading:P,onDismiss:N,footer:(0,f.jsxs)(g.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,f.jsx)(g.zx,{color:"gray",text:A,onClick:N}),(0,f.jsx)(g.zx,{color:"red",text:y._('Save', 'MerchantStorefront.ManageShopVisibilityModal.save', 'Confirmation option'),onClick:()=>{D.length>0?I(!0):B()},disabled:!O})]}),size:"sm",children:[(0,f.jsx)(g.xu,{paddingX:8,marginBottom:8,children:(0,f.jsx)(g.xv,{size:"300",children:w})}),(0,f.jsx)(g.xu,{paddingX:8,children:S.map((t=>(0,f.jsx)(g.xu,{marginBottom:8,children:(0,f.jsx)(g.XZ,{checked:(0,m.c8)(E[(0,m.u3)(t)]),id:`country_language_${t.id||""}`,label:(0,m.LT)(e,(0,m.u3)(t)),name:"country_language",onChange:({checked:e})=>T({...E,[(0,m.u3)(t)]:{...E[(0,m.u3)(t)]||{},shop_visible:e}})})},t.id)))})]})})}},742656:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(116303),i=o(883119),s=o(785893);function r({avatarUrl:e,contentsRight:t,merchantName:o,text:r,username:a,accessibilityLevel:l}){return(0,s.jsxs)(i.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,s.jsx)(i.xu,{column:2}),(0,s.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,s.jsx)(i.xu,{marginEnd:2,children:(0,s.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${a}`,children:(0,s.jsx)(n.Z,{name:o,size:"md",src:e})})}),(0,s.jsx)(i.rU,{underline:"none",href:`/${a}`,children:(0,s.jsx)(i.X6,{size:"500",accessibilityLevel:l,children:r})})]}),(0,s.jsx)(i.xu,{column:2,display:"flex",alignItems:"center",justifyContent:"end",children:t})]})}},140555:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(121151),s=o(6637),r=o(499128),a=o(487392),l=o(898781),c=o(784590),d=o(19121),u=o(808683),_=o(91214),h=o(934523),p=o(349700),m=o(407043),g=o(741982),f=o(343341),x=o(645015),b=o(883119),v=o(400264),y=o(785893);const P=new b.H3([new b.Ry(_.HW),new b.Ry(h.fe)]),w=316;function A({onFileUpload:e}){const t=(0,l.ZP)(),[o,i]=(0,n.useState)(!1),s=(0,n.useRef)(null),r=t._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,y.jsxs)(b.kC,{justifyContent:"center",children:[(0,y.jsx)(b.hU,{accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:t._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>i((e=>!e)),ref:s,size:"lg"}),o&&(0,y.jsx)(b.Lt,{anchor:s.current,id:"product-group-image-dropdown",onDismiss:()=>i(!1),children:(0,y.jsx)(b.Lt.Item,{onSelect:()=>{i(!1),e()},option:{value:r,label:r}})})]})}function C({image:e,onFileUpload:t,onError:o}){const n=(0,l.ZP)(),i=n._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,y.jsxs)(b.xu,{position:"relative",children:[(0,y.jsx)(b.xu,{height:w,width:w,rounding:5,overflow:"hidden",children:(0,y.jsx)(b.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:o})}),(0,y.jsx)(b.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,y.jsx)(A,{onFileUpload:t})})]})}const E=e=>{var t;return null===(t=(null==e?void 0:e["488x488"])||(null==e?void 0:e.originals)||(null==e?void 0:e.orig)||(null==e?void 0:e[Object.keys(e)[0]]))||void 0===t?void 0:t.url};function T({onDismiss:e,onSubmit:t,productGroup:o}){var _,h,A;const{logContextEvent:T}=(0,m.v)(),j=(0,l.ZP)(),I=j._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),S=`/v3/business/users/${(0,d.Z)().id||""}/storefront/product_group_image/`,[z,k]=(0,n.useState)(""),[D,R]=(0,n.useState)(""),[O,L]=(0,n.useState)(),[F,M]=(0,n.useState)(),[N,B]=(0,n.useState)(!1),[U,Z]=(0,n.useState)(0),[G]=(0,n.useState)((new Date).getTime()),H=o.group_type!==x.yh,{merchantId:V,advertiserId:W}=(0,a.Z)(),{showOneToast:K}=(0,f.F9)(),{updateStorefrontLastUpdated:$}=(0,g.S)(),Y=(0,v.Ib)({advertiserId:W,merchantId:V,productGroupsIds:[o.id],uniq:G},!1,!0),q=(0,c.Z)({name:"ApiResource",options:{url:S,data:{product_group_ids:[o.id]},uniq:G},noCache:!0}),X=(0,n.useRef)(),Q=Number(o.id),J=null===(_=Y.data)||void 0===_?void 0:_.find((e=>e.id===Q)),ee=Y.isLoaded&&q.isLoaded,te=J&&(z!==J.name||D!==(J.description||"")||!!O),oe=J&&z!==J.name,ne=J&&D!==(J.description||""),ie=ee?E(null===(h=q.data)||void 0===h||null===(A=h[o.id])||void 0===A?void 0:A[0]):null,se=o.preview_pins[0],re=null==se?void 0:se.image_signature,ae=E(null==se?void 0:se.images),le=F||[ie,ae].filter((e=>!!e))[U];(0,n.useEffect)((()=>{J&&(k(J.name||""),R(J.description||""))}),[J]),(0,n.useEffect)((()=>{T({event_type:9854,component:13998})}),[T]);const ce=()=>{e(),T({event_type:9856,component:13998})},de=j._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),ue=j._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,y.jsx)(b.mh,{zIndex:P,children:(0,y.jsx)(i.ZP,{accessibilityModalLabel:I,align:"center",heading:I,onDismiss:ce,footer:ee?(0,y.jsxs)(b.kC,{alignItems:"start",children:[(0,y.jsx)(b.xu,{width:"50%",children:(0,y.jsx)(b.xv,{size:"300",children:(0,p.nk)(j._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,y.jsx)(b.rU,{href:"/product-catalogs",inline:!0,underline:"hover",children:(0,y.jsx)(b.xv,{weight:"bold",inline:!0,children:j._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,y.jsx)(b.xu,{width:"50%",children:(0,y.jsxs)(b.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,y.jsx)(b.zx,{color:"gray",text:ue,onClick:ce}),(0,y.jsx)(b.zx,{color:"red",text:de,onClick:()=>{const e=ie?O:re,n=[],i=[];e&&(n.push(s.ZP.create("ApiResource",{url:S,data:{image_signatures:[e],product_group_id:o.id}}).callUpdate()),i.push("cover_image")),(oe||ne)&&(n.push(s.ZP.create("ProductGroupsResource",{name:z,description:D,productGroupId:Number(o.id),filters:null==J?void 0:J.filter_v2}).callUpdate()),oe&&i.push("name"),ne&&i.push("description")),t(),T({event_type:9857,component:13998,aux_data:{product_group_modal_changes:i.join(",")}}),Promise.all(n).then((()=>{$((new Date).getTime()),K((({hideToast:e})=>(0,y.jsx)("div",{className:"ProductGroupSavedToast",children:(0,y.jsx)(r.ZP,{duration:x.QE,onHide:e,text:j._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})))}))},disabled:!te})]})})]},"product-group-details-footer"):(0,y.jsx)(n.Fragment,{}),size:H?"md":"sm",children:(0,y.jsx)(b.xu,{paddingX:8,marginBottom:2,children:ee?(0,y.jsxs)(b.kC,{justifyContent:"center",children:[(0,y.jsxs)(b.xu,{width:320,children:[(0,y.jsx)(b.xu,{marginBottom:4,children:(0,y.jsx)(b.xv,{size:"300",weight:"bold",children:j._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,y.jsx)("input",{accept:"image/*",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],o=new FileReader;t&&o.readAsDataURL(t),o.addEventListener("load",(()=>{B(!0),T({event_type:9855,component:13998}),s.ZP.create("ApiResource",{url:S,data:{image_base64:o.result}}).callCreate().then((e=>{var t,n;L(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.image_signature),B(!1),"string"==typeof o.result&&M(o.result)}))}),!1)}},ref:X,style:{display:"none"},type:"file"}),N&&(0,y.jsx)(b.xu,{height:w,width:w,rounding:5,color:"lightGray",justifyContent:"center",direction:"column",display:"flex",children:(0,y.jsx)(b.$j,{accessibilityLabel:j._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!N&&le&&(0,y.jsx)(C,{image:le,onFileUpload:()=>{var e;null===(e=X.current)||void 0===e||e.click()},onError:()=>Z(U+1)})]}),H&&(0,y.jsxs)(b.xu,{width:320,marginStart:4,children:[(0,y.jsx)(b.xu,{marginBottom:4,children:(0,y.jsx)(b.xv,{size:"300",weight:"bold",children:j._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,y.jsx)(b.nv,{disabled:(null==J?void 0:J.type)!==u.CatalogProductGroupType.MERCHANT_CREATED,id:"name",onChange:({value:e})=>k(e.slice(0,255)),size:"lg",type:"text",value:z}),(0,y.jsxs)(b.xu,{marginTop:2,marginBottom:4,height:30,children:[z&&(0,y.jsx)(b.xv,{size:"100",color:"subtle",children:j._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!z&&(0,y.jsx)(b.xv,{size:"100",color:"error",children:j._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,y.jsx)(b.xu,{marginBottom:4,children:(0,y.jsx)(b.xv,{size:"300",weight:"bold",children:j._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,y.jsx)(b.xu,{height:178,children:(0,y.jsx)(b.Kx,{id:"description",onChange:({value:e})=>R(e.slice(0,155)),placeholder:j._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:D,rows:7})})]})]}):(0,y.jsx)(b.$j,{accessibilityLabel:j._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},27038:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(140555),s=o(898781),r=o(883119),a=o(785893);const l=488,c=488;function d({productGroup:e}){const t=(0,s.ZP)(),o=e.cover_images&&e.cover_images[0]&&e.cover_images[0]["488x488"]&&e.cover_images[0]["488x488"].url,i=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images&&e.preview_pins[0].images.orig,[d,u]=(0,n.useState)(!o),_=d?null==i?void 0:i.height:l,h=d?null==i?void 0:i.width:c,p=d?null==i?void 0:i.url:o;return _&&h&&p?(0,a.jsx)(r.Ee,{alt:t._('Cover image', 'ProductGroupV2.coverImage', 'Cover image for product group rep v2'),naturalHeight:_,naturalWidth:h,src:p,fit:"contain",onError:()=>{d||u(!0)}}):null}function u({onClick:e,productGroup:t,showControls:o,url:u}){const _=(0,s.ZP)(),h=_._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[p,m]=(_._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,n.useState)(!1)),[g,f]=(0,n.useState)(!1);return(0,a.jsxs)(r.xu,{position:"relative",onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:[(0,a.jsxs)(r.xu,{position:"relative",children:[(0,a.jsxs)(r.zd,{width:c,height:l,rounding:8,children:[(0,a.jsx)(d,{productGroup:t}),(0,a.jsx)(r.xu,{position:"absolute",width:c,height:l,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,a.jsx)(r.xu,{position:"absolute",color:"darkGray",opacity:g?.5:0,width:c,height:l,rounding:8,top:!0})]}),o&&g&&(0,a.jsxs)(r.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,a.jsx)(r.xu,{marginEnd:0,children:(0,a.jsx)(r.u,{text:h,idealDirection:"down",children:(0,a.jsx)(r.hU,{accessibilityLabel:h,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>m(!0),size:"xl"})})}),false]}),(0,a.jsxs)(r.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,a.jsx)(r.xu,{marginBottom:5,maxWidth:424,children:(0,a.jsx)(r.X6,{size:"600",color:"inverse",children:t.name})}),g&&(0,a.jsx)(r.xu,{marginBottom:5,maxWidth:424,children:(0,a.jsx)(r.xv,{size:"300",color:"inverse",children:t.description})}),(0,a.jsx)(r.zx,{accessibilityLabel:_._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:_._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:u,onClick:e})]}),o&&p&&(0,a.jsx)(i.Z,{onDismiss:()=>m(!1),onSubmit:()=>m(!1),productGroup:t})]})}},600224:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(698726),s=o(898781),r=o(349700),a=o(407043),l=o(741982),c=o(645015),d=o(384606),u=o(883119),_=o(785893);const h=({language:e,country:t,hidden:o,productCount:i,onClick:a,selected:l})=>{const d=(0,s.ZP)(),[h,p]=(0,n.useState)(!1);return(0,_.jsx)(u.iP,{onTap:a,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,_.jsxs)(u.xu,{alignItems:"center",color:h?"lightGray":void 0,display:"flex",justifyContent:"between",padding:2,position:"relative",rounding:2,children:[(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:l?"bold":"normal",overflow:"noWrap",children:(0,c.z1)(t,e)}),(0,_.jsx)(u.xv,{size:"200",color:"subtle",children:(0,r.nk)(d.ngettext('{{productCount}} product', '{{productCount}} products', i, 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.productCount', 'Shows how many products are in a merchant product feed'),{productCount:i})})]}),o&&(0,_.jsx)(u.xu,{color:"gray",rounding:1,dangerouslySetInlineStyle:{__style:{padding:"2px"}},marginStart:2,marginEnd:8,position:"absolute",right:!0,children:(0,_.jsx)(u.xv,{color:"inverse",size:"100",weight:"bold",overflow:"noWrap",align:"forceRight",children:d._('Shop hidden', 'merchantStorefront.storefrontLocaleSelector.shopHidden', 'Shop hidden badge')})}),l&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.JO,{accessibilityLabel:d._('A checkmark indicating the currently selected locale on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.selectedIcon.accessibilityLabel', 'Accessibility label for the icon indicating the selected locale in a list'),icon:"check",color:"default"})})]})})},p=()=>{const{logContextEvent:e}=(0,a.v)(),t=(0,s.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{country:o,language:p}},updateLocaleStorefrontSetting:m,updateStorefrontLastUpdated:g}=(0,l.S)();(0,d.tt)();const[f,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),{countries:P,feedProfiles:w,isLoaded:A,settings:C,userId:E,refresh:T}=(0,d.LO)(),[j,I]=(0,n.useState)(!1),S=()=>{I(!0),x(!1)};(0,n.useEffect)((()=>{f&&e({event_type:9853,component:13997})}),[e,f]);const z=[...w].sort(((e,t)=>(0,c.z1)(P[e.country||""],e.locale).localeCompare((0,c.z1)(P[t.country||""],t.locale))));if(!(A&&o&&p&&w&&(0,c.Ee)(w,o,p)))return null;const k=z.reduce(((e,t)=>e||!(0,c.c8)(C[(0,c.u3)(t)])),!1);return(0,_.jsxs)(u.xu,{color:b?"lightGray":void 0,"data-test-id":"storefrontLocaleSelector",padding:4,rounding:6,ref:y,children:[(0,_.jsx)(u.iP,{accessibilityLabel:t._('Button to show a dropdown of locales you can select to show on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.button.accessibilityLabel', 'The accessibility label for the button the triggers a dropdown of selectable locales to view your storefront in'),onTap:()=>x(!f),onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:(0,_.jsx)(u.xv,{color:"default",overflow:"noWrap",children:(0,_.jsxs)(u.kC,{alignItems:"end",justifyContent:"start",children:[(0,r.nk)(t._('Viewing shop as: {{viewingStorefrontLocaleAsLabel}}', 'merchantStorefront.storefrontLocaleSelector.button.header', 'Header text telling the merchant in which country/language they are viewing the storefront currently'),{viewingStorefrontLocaleAsLabel:(0,_.jsx)(u.xu,{display:"inlineBlock",marginStart:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:(0,c.z1)(P[o],p)})},"viewing-storefront-locale-as-label")}),(0,_.jsx)(u.xu,{marginStart:1,children:(0,_.jsx)(u.JO,{accessibilityLabel:t._('A downward arrow icon indicating this button will open a dropdown', 'merchantStorefront.storefrontLocaleSelector.button.icon.accessibiltyLabel', 'The accessibility label for downward arrow icon'),icon:"arrow-down",color:"default"})})]})})}),f&&(0,_.jsx)(u.mh,{zIndex:new u.Ry(1),children:(0,_.jsx)(u.J2,{anchor:y.current,idealDirection:"down",onDismiss:()=>x(!1),size:k?"lg":"md",positionRelativeToAnchor:!1,children:(0,_.jsxs)(u.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:2,paddingX:2,children:[(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.xv,{size:"100",children:(0,r.nk)(t._('Preview your shop in different regions / languages based on your active product feeds in Catalogs. {{manageShopVisibilityLink}}', 'merchantStorefront.storefrontLocaleSelector.popover.header', 'Popover header text describing what the storefront locale selector does'),{manageShopVisibilityLink:(0,_.jsx)(u.xv,{weight:"bold",size:"100",inline:!0,children:(0,_.jsx)(u.xu,{display:"inlineBlock",children:(0,_.jsx)(u.iP,{accessibilityLabel:t._('Button to open a modal to adjust which locales to show your merchant storefront in', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.accessibilityLabel', 'The accessibility label for the button to open a modal to adjust which locales to show your merchant storefront in'),onTap:S,children:t._('Manage shop visibility', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.text', 'Link in popover to open settings for managing the visibility of this storefront in different locales')})})},"manage-shop-visibility-link")})})}),z.map((e=>{const{id:t,country:n,locale:i}=e,s=(0,c.Md)(i);return n&&i?(0,_.jsx)(h,{country:P[n],hidden:!(0,c.c8)(C[(0,c.u3)(e)]),language:s,productCount:(0,c.gE)(e),onClick:()=>{m(n,s,null!=t?t:""),x(!1)},selected:n===o&&s===p},t):null}))]})})}),j&&(0,_.jsx)(i.Z,{countries:P,feedProfiles:w,onDismiss:()=>I(!1),onSubmit:()=>{T(),g((new Date).getTime())},onUndo:S,settings:C,userId:E})]})}},81667:(e,t,o)=>{o.d(t,{Ny:()=>n,q3:()=>i,sy:()=>s});const n=236,i=16,s={bubblesStory:"storefront_category_bubbles",exploreArticle:"explorearticle",footers:["storefront_category_footer_button","storefront_footer_button","storefront_product_group_footer_button","storefront_similar_items_footer_button"],header:"storefront_header",pin:"pin",productGroup:"productgroup",story:"story"}},384606:(e,t,o)=>{o.d(t,{LO:()=>x,N0:()=>y,t8:()=>P,tt:()=>w});var n=o(667294),i=o(300267),s=o(985310),r=o(487392),a=o(717615),l=o(86551),c=o(784590),d=o(19121),u=o(957161),_=o(231947),h=o(497020),p=o(217468),m=o(741982),g=o(645015);function f(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,data:{include_last_successful_ingestion:!0}},dangerouslyDisableFetch:!e});return{feedProfilesResource:t,feedProfiles:(0,h.d9)(t.data||[]).filter((e=>e.country&&e.locale))}}function x(){const{merchantId:e,ownerUserId:t}=(0,r.Z)(),{countriesResource:o,countries:n}=function(){const e=(0,c.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:i,feedProfiles:s}=f(e),{storefrontSettingsResource:a,settings:l}=function(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`},dangerouslyDisableFetch:!e});return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:n,feedProfiles:s,isLoaded:o.isLoaded&&i.isLoaded&&a.isLoaded,refresh:()=>{i.refresh(),a.refresh()},settings:l,userId:t}}function b(){const{merchantId:e}=(0,r.Z)(),{feedProfilesResource:t,feedProfiles:o}=f(e),{userSettingsResource:n,userSettings:i}=function(){const e=(0,c.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}();return{feedProfiles:o,isLoaded:t.isLoaded&&n.isLoaded,userSettings:i}}function v(){const{data:e}=(0,l.Z)(),t=(0,p.t)("web_merchant_success_storefront_controls")().anyEnabled,o=(0,p.t)("web_merchant_storefront_controls_international")().anyEnabled,n=t||o,s=(0,d.Z)(),r=(0,i.Z)({user:e,viewer:s}),c=(0,a.Z)();return{isMerchantStorefrontControlsEnabled:n,isORBACProfileManager:(0,_.q6)(s,null==e?void 0:e.id,c),ownProfile:r}}function y(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t}=v();return e&&t}function P(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t,isORBACProfileManager:o}=v();return e&&(t||o)}function w(){const{feedProfiles:e,userSettings:t,isLoaded:o}=b(),{merchantStorefrontSettings:{currentViewingLocale:{country:i,language:r}},updateLocaleStorefrontSetting:a}=(0,m.S)();(0,n.useEffect)((()=>{if(o&&(!i||!r||!(0,g.Ee)(e,i,r))){const[o,i]=((0,u.qn)(s.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),{country:r,locale:l}=t,c=[...e].sort(((e,t)=>(0,g.gE)(t)-(0,g.gE)(e)))[0],d=(0,g.Ee)(e,o,i),_=(0,g.Ee)(e,r,(0,g.Md)(l)),h=d||_||c;var n;if(h)a(h.country||"",(0,g.Md)(h.locale),null!==(n=h.id)&&void 0!==n?n:"")}}))}},499385:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(81636);const i={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function s({entryPoint:e,objectId:t}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e})},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}const r={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t},o){o({event_type:120,...s({entryPoint:e,objectId:t})})},tapProductGroup:function({entryPoint:e,productGroupId:t},o){o({event_type:102,...s({entryPoint:e,objectId:t})})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},o){o({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:o,productGroupId:n},i){i({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:o,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},o){o({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var a=o(925491);const l={Control:i,DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:r,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},o){o({event_type:13,view_type:(0,a.Z)(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:o},n){n({event_type:120,component:13699,view_type:(0,a.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:o}})},tapCategory:function({id:e,source:t,title:o},n){n({event_type:102,component:13699,view_type:(0,a.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_bubbles",category_title:o}})},tapSeeMoreCategories:function({id:e,source:t},o){o({event_type:102,component:13699,element:179,view_type:(0,a.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t},o){o({event_type:102,component:13698,object_id_str:e,view_type:(0,a.Z)(t),view_parameter:3512})},tapSeeMoreProductGroups:function({id:e,source:t},o){o({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,a.Z)(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t},o){o({event_type:120,component:13698,object_id_str:e,view_type:(0,a.Z)(t),view_parameter:3512})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:o,source:n},i){i({event_type:120,component:13700,view_type:(0,a.Z)(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:o,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},o){o({event_type:102,component:0,view_type:(0,a.Z)(t),view_parameter:3512,aux_data:{...e}})}}}}},925491:(e,t,o)=>{function n(e){return"profile"===e?4:1}o.d(t,{Z:()=>n})},645015:(e,t,o)=>{o.d(t,{Ee:()=>_,LT:()=>c,Md:()=>s,Q1:()=>u,QE:()=>i,c8:()=>d,gE:()=>r,u3:()=>a,yh:()=>n,z1:()=>l});const n="ALL_PRODUCTS",i=5e3,s=e=>e?e.split("-")[0].toLowerCase():"",r=e=>{var t;return(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},a=e=>[e.country||"",s(e.locale)].join("/").toUpperCase(),l=(e,t)=>e&&t?`${e} (${s(t).toUpperCase()})`:"",c=(e,t)=>{const[o,n]=t.split("/");return l(e[o.toUpperCase()],n)},d=e=>!e||void 0===e.shop_visible||e.shop_visible,u=(e,t)=>{const o=t.map(a);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,n,i)=>o.includes(t)&&!d(e[t])&&i.indexOf(t)===n))},_=(e,t,o)=>t&&o?e.find((e=>e.country===t&&s(e.locale)===o)):void 0},357805:(e,t,o)=>{o.d(t,{G:()=>s,S:()=>r});var n=o(19121),i=o(81636);function s(e,t){const o=(0,n.Z)(),s=o.isAuth&&o.username===e;(0,i.Q)({object_id_str:o.isAuth&&s?o.id:void 0,view_type:4,view_parameter:t})}function r(e,t,o){const s=(0,n.Z)(),r=s.isAuth&&s.username===e?3106:3107;(0,i.Q)({object_id_str:t,view_type:4,view_parameter:r,component:o})}},424432:(e,t,o)=>{o.d(t,{L:()=>a,M:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useMaybeHook:a}=(0,i.Z)("CreateSectionTooltip");function l({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:o})),[t]);return(0,s.jsx)(r,{value:i,children:e})}},602574:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(883119),i=o(785893);function s({ideaPinImages:e}){const t={1:28,2:40,3:48},o=e.map(((e,t)=>{var o,s,r;return(0,i.jsx)(n.xu,{height:48,width:28,color:"white",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,i.jsx)(n.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(s=null==e?void 0:e.height)&&void 0!==s?s:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,i.jsx)(n.kC,{justifyContent:"center",children:(0,i.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:o})})}var r=o(499128),a=o(898781),l=o(784590),c=o(50286);function d({handleHide:e,text:t,userId:o,href:d,imageUrl:u}){const _=(0,a.ZP)(),h=(0,c.HG)(),p=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),m=Array.isArray(t)?t.join(" "):t;if(0===(p.data||[]).length){const t=u?(0,i.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,i.jsx)(n.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,i.jsx)(r.ZP,{duration:5e3,onHide:e,text:m,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const g=(p.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),f=(0,i.jsx)(s,{ideaPinImages:g});return(0,i.jsx)(r.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:f,text:m,thumbnailShape:"square"})}},281216:(e,t,o)=>{o.d(t,{b:()=>n,u:()=>i});const n={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",DANGEROUS_GOODS:"dangerous-goods",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MISINFORMATION:"misinformation",MISLEADING:"misleading-promoted",OFFENSIVE:"offensive-promoted",LOW_QUALITY:"low-quality-promoted",INTELLECTUAL_PROPERTY:"intellectualProperty",PRODUCT_OFFENSIVE:"offensive-product",PRODUCT_MISLEADING:"misleading-product",PRODUCT_PROHIBITED:"prohibited-product",PRODUCT_MATURE:"mature-product",PRODUCT_WEAPONS:"weapons-product",PRODUCT_RESTRICTED_HEALTHCARE:"restricted-healthcare-product",NETZDG:"netzdg",CONSPIRACY_THEORIES:"conspiracy-theories",MEDICAL_MISINFORMATION:"medical-misinformation",POLITICAL_MISINFORMATION:"political-misinformation"},i={spam:10583,nudity:10584,"self-harm":10585,"hate-speech":10586,"dangerous-goods":11479,attacks:10587,"graphic-violence":10588,"medical-misinformation":11150,intellectualProperty:10594,"low-quality-promoted":10591,"misleading-promoted":10589,"offensive-promoted":10590,"offensive-product":11452,"misleading-product":11453,"prohibited-product":11454,"mature-product":11455,"weapons-product":11456,"restricted-healthcare-product":11457,netzdg:11683,"conspiracy-theories":11762,"political-misinformation":11760,misinformation:11790}},223123:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(966338),i=o(6637),s=o(332611),r=o(886858),a=o(379725),l=o(414327),c=o(782677);function d(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:o,deprecatedSchemaForNormalization:n}){var d,u;const _=await i.ZP.create("BoardResource",o).callCreate(),h=null===(d=_.resource_response)||void 0===d?void 0:d.data,p=n?(0,c.Fv)(h,n):void 0;e((0,l.XM)("BoardResource",o,_,p)),e((0,s.fO)({event_type:20})),null!==(u=h.owner)&&void 0!==u&&u.id&&e((0,a.bi)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var o;(0,r.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,l.jB)("BoardsResource",t))})),Object.keys(g).forEach((t=>{var o;(0,r.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,l.jB)("BoardsFeedResource",t))})),h}}},304515:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(81226),i=o(898781),s=o(883119),r=o(785893);function a({duration:e}){const t=(0,i.ZP)();return(0,r.jsxs)(s.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(s.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,r.jsx)(s.xu,{marginStart:1,children:(0,r.jsx)(s.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,n.Z)(e)})})]})}},572260:(e,t,o)=>{o.d(t,{ZP:()=>A});var n=o(667294),i=o(23279),s=o.n(i),r=o(722767);function a(e){const{eventData:{videoEvent:{videoDuration:t,startTime:o,endTime:n,videoStartTime:i,videoEndTime:s,isAudible:r,height:a,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:h,viewability:p}},component:m,objectId:g,view:f,viewParameter:x,...b}=e;return{component:m,object_id_str:g,view_type:f,view_parameter:x,aux_data:{...b},event_data:{videoEventData:{videoDuration:t,time:o,endTime:n,videoTime:i,endVideoTime:s,isAudible:r,height:a,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:h,viewability:p}}}}var l=o(121630),c=o(559230),d=o(407043),u=o(288273),_=o(883119),h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",x={rootMargin:f,threshold:g},b={rootMargin:f,threshold:c.iM},v=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function y(){return(new Date).getTime()}function P(e){return!!e.volume&&e.volume>0}class w extends n.Component{constructor(e){super(e),p(this,"videoWrapperRef",(0,n.createRef)()),p(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:o}=this.currentInterval;e.height!==t||e.width!==o?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),p(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),p(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),p(this,"handleLoop",(()=>{this.videoTime=0})),p(this,"handleTimeChange",(e=>{const{seeking:t,ready:o}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,i=function(e,t,o,n){if(e>t)return null;if(o<=0)return null;for(const i of n){const n=i*o;if(e<=n&&t>n)return i}return null}(this.videoTime,n,this.currentInterval.videoDuration,m);if("number"==typeof i&&this.props.playing&&!t&&o){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*i),quartilePercentValue:i})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),p(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),p(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),p(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),p(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const o=e.slice(-1)[0],n=function(e,t){for(let o=0;o<t.length;o+=1){const n=t[o],i=t[o+1];if(null==i)return n;if(n<=e&&e<i)return n}return null}(Number.parseFloat(o.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:v.PAUSED}):this.startNewInterval({viewability:n}))})),p(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),p(this,"handleClose",(()=>{this.startNewInterval()})),p(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=y();this.handleWindowResize=s()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:P(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const o={};P(e)&&!P(this.props)?o.isAudible=!1:!P(e)&&P(this.props)&&(o.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(o.playbackState=n),Object.keys(o).length>0&&this.startNewInterval(o)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?v.PLAYING:v.PAUSED:v.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const o=this.videoWrapperRef.current;o.clientHeight&&o.clientWidth&&(e=o.clientHeight,t=o.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:o,contextLogData:n,logContextEvent:i}=this.props,{height:s,width:r,windowHeight:l,windowWidth:c,viewability:d,...u}=t;if(null!=s&&null!=r&&null!=l&&null!=c&&null!=d){const t={...u,height:s,width:r,windowHeight:l,windowWidth:c,viewability:o||d};i({event_type:e,...a({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=y();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:o,accessibilityPauseLabel:n,accessibilityPlayLabel:i,accessibilityProgressBarLabel:s,accessibilityUnmuteLabel:a,aspectRatio:c,captions:d,contextLogData:p,controls:m,cropHeight:g,hlsConfig:f,inAdsDesktopVideoExperiment:v,isAutoPlay:y,loop:P,objectFit:w,onLoadedChange:A,onControlsPause:C,onControlsPlay:E,onSeek:T,onVolumeChange:j,playbackRate:I,playing:S,playsInline:z,poster:k,preload:D,rootMargin:R,src:O,surface:L,videoStartTime:F,volume:M}=this.props,{seeking:N}=this.state,B=v?b:x;return void 0!==R&&(B.rootMargin=L?(0,l.e)(L):R),(0,h.jsx)(r.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(_.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:o,accessibilityPauseLabel:n,accessibilityPlayLabel:i,accessibilityProgressBarLabel:s,accessibilityUnmuteLabel:a,aspectRatio:c,captions:d,contextLogData:p,controls:m,hlsConfig:f,isAutoPlay:y,loop:P,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:A,onLoop:this.handleLoop,onControlsPause:C,onControlsPlay:E,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:T,onTimeChange:this.handleTimeChange,onVolumeChange:j,playbackRate:I,playing:!N&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:z,poster:k,preload:D,src:O,videoStartTime:F,visible:this.visible,volume:M})})})}}function A(e){const{logContextEvent:t}=(0,d.v)();return(0,h.jsx)(w,{...e,logContextEvent:t})}p(w,"defaultProps",_.nk.defaultProps)},935409:(e,t,o)=>{function n(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function i(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function s(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}o.d(t,{Br:()=>i,md:()=>s,yT:()=>n})},5226:(e,t,o)=>{o.d(t,{KF:()=>c,ZN:()=>r,fv:()=>l,yA:()=>a});var n=o(6637),i=o(482546);function s(e,t){return n.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return o=>{s(e,t).callCreate().catch((()=>o((0,i.P_)(e,!1)))),o((0,i.P_)(e,!0))}}function a(e,t=null){return async o=>{o((0,i.P_)(e,!0)),await s(e,t).callCreate().catch((t=>{throw o((0,i.P_)(e,!1)),t}))}}function l(e,t=null){return o=>{s(e,t).callDelete().catch((()=>o((0,i.P_)(e,!0)))),o((0,i.P_)(e,!1))}}function c(e,t=null){return async o=>{o((0,i.P_)(e,!1)),await s(e,t).callDelete().catch((t=>{throw o((0,i.P_)(e,!0)),t}))}}},482546:(e,t,o)=>{o.d(t,{Ge:()=>a,JS:()=>i,P_:()=>s,h2:()=>l});var n=o(6637);function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),a=e=>t=>(t(r(e,!0)),n.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().catch((()=>t(r(e,!1))))),l=e=>t=>(t(r(e,!1)),n.ZP.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(r(e,!0)))))},337234:(e,t,o)=>{o.d(t,{Z:()=>B});var n=o(667294),i=o(966338),s=o(45347),r=o(319915),a=o(580496),l=o(263116),c=o(965261),d=o(376451),u=o(335972),_=o(497997),h=o(86551),p=o(604052),m=o(19121),g=o(424432),f=o(273022),x=o(826067),b=o(134679),v=o(217468),y=o(276602),P=o(551154),w=o(925927),A=o(785893);const C=(0,l.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.resolve().then(o.bind(o,774026)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 774026}}),E=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,51463)))),T=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,460465)))),j=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,890328)))),I=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,440414)))),S=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,256883)))),z=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,410004)))),k=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,285970)))),D=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,842822)))),R=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,958754)))),O=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,117855)))),L=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,375553))));function F(e,t){switch(e){case"pins":return(0,A.jsx)(T,{});case"_created":return(0,A.jsx)(j,{});case"_followers":return t().anyEnabled?(0,A.jsx)(S,{}):(0,A.jsx)(I,{});case"_following":return(0,A.jsx)(z,{});case"_saved":return(0,A.jsx)(D,{});case"tried":return(0,A.jsx)(k,{});case"topics":return(0,A.jsx)(R,{});case"story_pins":return(0,A.jsx)(O,{});case"video_pins":return(0,A.jsx)(L,{});case"_shop":return(0,A.jsx)(E,{});default:return(0,A.jsx)(C,{})}}C.preload();const M=()=>{const e=(0,m.Z)(),t=(0,w.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)};function N(){var e;const t=(0,y.EV)(),o=(0,i.useDispatch)(),l=(0,w.k6)(),u=(0,w.TH)(),m=(0,w.$B)(),C=(0,i.useSelector)((({ui:e})=>e.mainComponent.locationToErrorMap)),E=M(),T=(0,h.Z)(),j=(0,a.Z)(T.data),I=(0,v.t)("web_unified_followers_page");(0,p.Z)({name:"UserResource",getOptions:({routeData:{params:{username:e}}})=>({username:e,field_set_key:"board_visibility"}),checkExperiments:e=>{const{anyEnabled:t}=e.checkExperiment("web_shopping_list_controls",{dangerouslySkipActivation:!0});return t}}),(0,n.useEffect)((()=>{(0,c.Z)(),E&&o((0,P.z5)())}),[]),t&&j&&t.abort("business_profile");const S=(null===(e=T.data)||void 0===e?void 0:e.has_catalog)&&RegExp(/\?pin=/).test(u.search),z=m.path.split("/").filter(Boolean)[1]||b.u.DECIDER,k=j&&T.data?(0,A.jsx)(s.Z,{businessProfileTab:z}):F(z,I);return(0,A.jsx)(g.M,{children:(0,A.jsx)(d.Z,{history:l,minimalPartnerHeader:S,renderError:C[u.pathname],showPulsar:Boolean((0,x.mB)(u.search).showPulsar),tab:z,unsetError:()=>o((0,f.L)(u.pathname)),username:m.params.username||"",children:(0,A.jsx)(r.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:(0,A.jsx)(_.Z,{children:k})})})})}function B(){const e=M();return(0,A.jsx)(u.Z,{surface:e?"own_profile":"other_profile",customEnabledNavigationTypes:["client_route_push","client_route_replace"],measureGridVisuallyComplete:!0,children:(0,A.jsx)(N,{})})}},597897:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>r});var n=o(667294);const i=(0,n.createContext)();function s(){return(0,n.useContext)(i)}const r=i},610248:e=>{e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},e=>{e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,69965,77638,92982,14166,26017,48035,5035,43473,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,66113,62015,25927,40199,48358,54372,96991,88273,58150,25643,26255,35363,3793,69853,76532,61367,4646,74136,88177,66898],(()=>(t(679875),t(205418),t(559637),t(992127),t(52193),t(38101),t(907254),t(331137),t(832753),t(333905))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]-authdesktop-1f583384e07a32ef.mjs.map