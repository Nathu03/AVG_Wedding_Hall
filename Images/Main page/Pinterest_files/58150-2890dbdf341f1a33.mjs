(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[58150],{385551:(e,t,i)=>{i.d(t,{Z:()=>m});var s=i(740176),n=i(567831),a=i(794230),o=i(260409);const r={};r.open=function(e,t,i){const s=function(e,t){const i=window.screen.width,s=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((i-e)/2)+",top="+(s>t?Math.round((s-t)/2):0)}(t,i);window.open(e,void 0,s)},r.shrinkWrap=function(){!function(e){const t=document.documentElement;let i=t?t.scrollWidth-t.clientWidth:0,s=t?t.scrollHeight-t.clientHeight:0;e&&(i=Math.max(i,0),s=Math.max(s,0)),o.Z.isAuthenticated()||(s=340),window.resizeBy(i,s)}(!1)};const l=r,c={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){const t=c._getWindowUrl(e.share_path,e.share_text);l.open(t,c.DIALOG_WIDTH,c.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,a.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,n.Z)(e):void 0,text:t})},d=c,h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){const t=h._getWindowUrl(e.share_path,e.share_text);l.open(t,h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,a.Z)("https://www.reddit.com/submit?url=",{url:e?(0,n.Z)(e):void 0,title:t})},_=h;var p=i(6637);const u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=u._getWindowUrl(e.tweet_path,e.tweet_text);l.open(t,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,a.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,n.Z)(e):void 0,text:t||void 0})},x=u,g={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const i=this._convertToInviteObject(e.object_type),s=e.invite_channel,n=null==e.invite_category?3:e.invite_category,a=e.object_id;return p.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:n,invite_object:i,invite_channel:s},invite_code:t,object_id:a}).callCreate()},createAndLogShareInvite:e=>g.createShareInviteData(e).then((t=>(g._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),i=e.invite_channel,s=null==e.invite_category?3:e.invite_category;if(10===s&&e.path){return p.ZP.create("ShareLinkResource",{invite_category:s,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const n=e.object_id;return p.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:s,invite_object:t,invite_channel:i},object_id:n}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&g._logShareInvite(e,t.invite_code)},shareFacebookInvite:(e,t)=>g.createShareInviteData(e).then((i=>{const n=i.invite_url,a=i.invite_code;if(n){const o={type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:i.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&g._logShareInvite(e,a)}};s.default.open(t().anyEnabled?{...o,display:"popup"}:o)}return Promise.resolve(i)}),(e=>Promise.reject(e))),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return g.createShareInviteData(e).then((i=>{const s=i.invite_url,n=i.invite_code;let a=e.description;return 6===t&&e.name&&(a=e.name),s&&x.openDialog({tweet_path:s,tweet_text:a}),g._logShareInvite(e,n),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareRedditInvite:e=>g.createShareInviteData(e).then((t=>{const i=t.invite_url,s=t.invite_code;return i&&_.openDialog({share_path:i,share_text:e.description}),g._logShareInvite(e,s),Promise.resolve(t)}),(e=>Promise.reject(e))),shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return g.createShareInviteData(e).then((i=>{const s=i.invite_url,n=i.invite_code;let a=e.description;return 6===t&&e.name&&(a=e.name),a||(a=i.title),s&&d.openDialog({share_path:s,share_text:a}),g._logShareInvite(e,n),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareFbMessengerInvite:e=>g.createShareInviteData(e).then((t=>{const i=t.invite_url,n=t.invite_code;return i&&s.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:i,picture:e.picture,callback(t){t&&t.success&&g._logShareInvite(e,n)}}),Promise.resolve(t)}),(e=>Promise.reject(e)))},m=g},894350:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(112690),n=i(217468),a=i(342555),o=i(785893);function r(e){return t=>{const i=(0,n.t)("web_share_sheet_redesign")({dangerouslySkipActivation:!0}).anyEnabled,r=(0,s.Z)();return(0,o.jsx)(a.Z,{ref:t.shareButtonRef,Subject:e,inShareSheetRedesignExp:i,logContextEvent:r,...t})}}},342555:(e,t,i)=>{i.d(t,{Z:()=>u});var s=i(667294),n=i(331945),a=i(854603),o=i(121151),r=i(587857),l=i(946984),c=i(883119),d=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=new c.Ry(1),p=({children:e})=>e((0,l.Z)({shouldStopEventPropagation:!1}));class u extends s.Component{constructor(...e){super(...e),h(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),h(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),h(this,"flyoutProps",(()=>{const{gridDescription:e,idealDirection:t,imageSrc:i,pinId:s,userId:o,board:l,sendType:c,url:h,fullName:_,profileUrl:p,viewParameter:u,viewType:x,onExternalSend:g,showCaret:m,todayArticle:v}=this.props;let j={description:e,id:s,imageUrl:i,name:"",type:r.d.PIN,url:`/pin/${s}/`},f=r.d.PIN;switch(c){case"user":j={description:e,id:o,imageUrl:i,name:_,type:r.d.PINNER,url:p},f=r.d.USER;break;case"board":j=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:r.d.BOARD,url:l.url},f=r.d.BOARD;break;case"today_article":j=v&&{description:v.subtitle||"",id:v.id,imageUrl:i,name:v.title,type:r.d.TODAY_ARTICLE,url:(0,a.bz)(v)},f=r.d.TODAY_ARTICLE;break;case"search":j={...j,type:r.d.SEARCH,url:h},f=r.d.SEARCH}const b={onHide:this.onHide,onExternalSend:g,sendType:f,sharedObject:j,viewParameter:u,viewType:x};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:m,children:(0,d.jsx)(n.default,{...b})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:i,userId:s,logContextEvent:n}=this.props;"user"===i&&n({event_type:101,component:13675,element:1079,object_id_str:s,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inShareSheetRedesignExp:t,inModal:i,isFlyoutOpen:s,shownWithinMasonry:n,shownWithinProfileHeader:a}=this.props,{anchor:r,idealDirection:l,onDismiss:h,showCaret:u,children:x}=this.flyoutProps();return(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,d.jsx)(p,{children:t=>(0,d.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),s&&(n||a?(0,d.jsx)(c.mh,{zIndex:a?_:void 0,children:(0,d.jsx)(c.xu,{zIndex:i?o.b7:void 0,position:i?"absolute":void 0,top:!!i||void 0,children:(0,d.jsx)(c.J2,{anchor:r,idealDirection:l,onDismiss:h,showCaret:u,size:t?"flexible":"xl",positionRelativeToAnchor:!1,children:x})})}):(0,d.jsx)(c.J2,{anchor:r,idealDirection:l,onDismiss:h,showCaret:u,size:t?"flexible":"xl",children:x}))]})}}h(u,"defaultProps",{idealDirection:"down",onClick:()=>{}})},854603:(e,t,i)=>{i.d(t,{RJ:()=>c,Y_:()=>a,bz:()=>n,d9:()=>r,nx:()=>o});var s=i(784641);i(883119);const n=e=>{const{article_creator_user:t,display_type:i,feed_source:n,header_pin_id:a,id:o,title:r,video_pin:l}=e;switch(i){case 0:case 1:return r?(0,s.T7)(n,r,o):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return a?`/pin/${a}/`:"";case 2:return null!=l&&l.id?`/pin/${l.id}/`:"";default:return""}},a=e=>"todayarticle"===e.type,o=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),r=e=>{var t,i;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(i=e.width)&&void 0!==i?i:1)},l=["736x","236x","170x"],c=e=>{for(const i of l){var t;if(null!==(t=e.images)&&void 0!==t&&t[i])return e.images[i]}return null}},37587:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var s=i(667294),n=i(785893);function a({size:e,iconColor:t,backgroundColor:i,grayscale:s=!1}){const a=t||(s?"#333333":"#8E8E8E"),o=i||"#EFEFEF";return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:(0,n.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("circle",{fill:o,cx:"18",cy:"18",r:"18"}),(0,n.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:a,fillRule:"nonzero",children:(0,n.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}var o=i(189689),r=i(660467),l=i(499128),c=i(898781),d=i(883119);function h({size:e,iconColor:t,backgroundColor:i,disabled:s,onClick:a}){const o=(0,c.ZP)(),r=48===e?"lg":"xl";return(0,n.jsx)(d.hU,{accessibilityLabel:o._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:i,icon:"link",iconColor:t,size:r,disabled:s,onClick:a})}var _=i(53987),p=i(217468),u=i(925927),x=i(343341),g=i(385551);function m({backgroundColor:e,iconColor:t,iconSize:i,iconWrapperWidth:m,inShareIconUpdateExperiment:v,isCloseupActionBar:j,marginEnd:f,sharedObject:b,spaceBelowIcon:y}){const C=(0,c.ZP)(),S=(0,x.F9)(),[w,P]=(0,s.useState)(""),[z,A]=(0,s.useState)(!1),[k,L]=(0,s.useState)(!1),I=(0,u.TH)(),E=C._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),Z=e=>{j?navigator.clipboard.writeText(e).then((()=>{var e;e=C._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),S.showToast((({hideToast:t})=>(0,n.jsx)(d.xu,{top:!0,children:(0,n.jsx)(l.ZP,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{L(!0),setTimeout((()=>{L(!1)}),3e3)}))},O=async()=>{if(w)return void Z(w);A(!0);const e={invite_category:3,invite_channel:12,object_type:b.type,object_id:b.id,name:b.name,description:b.description||"",path:b.url,picture:b.imageUrl};g.Z.createShareInviteData(e).then((t=>{const{invite_url:i}=t;A(!1),i&&(P(i),g.Z.logShareInvite(e,t),Z(i))}))},T=()=>{O()},B=(0,p.t)("web_copy_link_btn_replace");return(0,_.am)(I)&&j&&B().anyEnabled?(0,n.jsx)(d.xu,{marginStart:1,children:(0,n.jsx)(d.zx,{accessibilityLabel:C._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:C._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>T(),size:"lg",color:"gray",fullWidth:!0})}):(0,n.jsxs)(r.Z,{width:m||i,marginEnd:f||!1,children:[(0,n.jsx)(d.xu,{alignItems:j?"center":"stretch",display:j?"flex":"block",marginBottom:y,width:j?"100%":"auto",children:(0,n.jsx)(d.iP,{accessibilityLabel:"link",disabled:z,onTap:()=>T(),children:(0,n.jsx)(d.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:i,children:v?(0,n.jsx)(h,{backgroundColor:e,iconColor:t,size:i}):(0,n.jsx)(a,{backgroundColor:j?e:"#EFEFEF",iconColor:"#111111",size:i})})})}),!j&&(0,n.jsx)(o.Z,{text:k?E:C._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},300817:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(172071),n=i(6637),a=i(898781),o=i(407043),r=i(883119),l=i(785893);function c(e){const{logContextEvent:t}=(0,o.v)(),i=(0,a.ZP)(),{identifier:c,onUndoHide:d,isGroupChat:h}=e,_=async()=>{const i=n.ZP.create("ShareSuggestionsHideResource",{user_identifier:c});await i.callDelete(),d(),(()=>{const{component:i,element:n}=e;t({event_type:101,component:i,element:n}),s.Z.increment("web_contacts.suggestions.undo_hide",1,{surface:i})})()};return(0,l.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(r.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:(0,l.jsx)(r.xv,{inline:!0,color:"subtle",children:h?i._('Ok! We won\'t suggest this group again.', 'SendObject.SendObjectSuggestionItem.HideContactBanner', 'Warning message after user hide a contact'):i._('Ok! We won\'t suggest this contact again.', 'SendObject.SendObjectSuggestionItem.HideContactBanner', 'Warning message after user hide a contact')})}),(0,l.jsx)(r.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:(0,l.jsx)(r.zx,{onClick:({event:e})=>{e.stopPropagation(),_()},text:i._('Undo', 'SendObject.SendObjectSuggestionItem.HideContactUndoButton', 'Undo button after user hide a contact'),size:"lg",type:"button"})})]})}},155678:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(172071),n=i(6637),a=i(898781),o=i(883119),r=i(407043),l=i(785893);function c(e){const{logContextEvent:t}=(0,r.v)(),i=(0,a.ZP)(),{identifier:c,onHide:d}=e,h=()=>{n.ZP.create("ShareSuggestionsHideResource",{user_identifier:c}).callCreate().then((()=>{d(),(()=>{const{component:i,element:n}=e;t({event_type:101,component:i,element:n}),s.Z.increment("web_contacts.suggestions.hide",1,{surface:i})})()}))};return(0,l.jsx)(o.hU,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),h()},accessibilityLabel:i._('Remove contact', 'SendObject.SendObjectSuggestionItem', 'accessibility label for removing contact suggestion'),size:"xs"})}},970654:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e,iconColor:t,backgroundColor:i,grayscale:n=!1}){const a=t||(n?"#333333":"#8E8E8E"),o=i||"#EFEFEF";return(0,s.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("circle",{id:"Oval",fill:o,cx:"18",cy:"18",r:"18"}),(0,s.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:a,fillRule:"nonzero",children:(0,s.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},331945:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ie});var s=i(667294),n=i(116303),a=i(898781),o=i(934523),r=i(349700),l=i(407043);const c=56;var d=i(883119),h=i(785893);function _({idx:e,item:t,onSendMessage:i,onViewConversation:_,sentHistory:p}){var u;const x=(0,a.ZP)(),{logContextEvent:g}=(0,l.v)(),[m,v]=(0,s.useState)(!1),j=t.id||"string"==typeof t.email&&t.email||"",f=Object.prototype.hasOwnProperty.call(p,j),b=null!==(u=p[j])&&void 0!==u?u:"";let y="";"string"!=typeof t.full_name||t.full_name.match(/^\s*$/)?"string"!=typeof t.email||t.email.match(/^\s*$/)||(y=t.email):y=t.full_name;let C="";f?C=x._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):m&&(C=x._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact'));return(0,h.jsx)(d.xu,{alignItems:"center","data-test-id":"sharesheet-send-button",display:"flex",direction:"column",width:86,children:(0,h.jsx)(d.xu,{display:"inlineBlock",children:(0,h.jsxs)(d.iP,{onTap:f?()=>_(b):()=>{g({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),v(!0),i(t)},children:[(0,h.jsxs)(d.xu,{alignItems:"center",display:"flex",height:c,justifyContent:"center",marginBottom:2,width:c,children:[m&&(0,h.jsx)(d.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:c,justifyContent:"center",position:"absolute",rounding:"circle",width:c,zIndex:new d.Ry(o.fe),children:(0,h.jsx)(d.JO,{accessibilityLabel:(0,r.Wc)(x._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:y}),icon:"check",color:"light",size:24})}),(0,h.jsx)(n.Z,{size:"fit",src:t.image_large_url,name:y})]}),(0,h.jsxs)(d.xu,{width:c,children:[(0,h.jsx)(d.xv,{lineClamp:1,size:"100",align:"center",children:y}),(0,h.jsx)(d.xv,{color:"subtle",size:"100",align:"center",children:C})]})]})})})}var p=i(784590),u=i(479301),x=i(711108);function g(e){var t;const{logContextEvent:i}=(0,l.v)(),n=(0,a.ZP)(),{onHide:o,onSendMessage:r,onShowImportContacts:g,pinId:m,sentHistory:v}=e,{isLoaded:j}=(0,p.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{shareSuggestions:f}=(0,x.E)(),b=(null===(t=f[""])||void 0===t?void 0:t.slice(0,5))||[],y=b.length>0;(0,s.useEffect)((()=>{if(j){i({event_type:y?7511:7512,component:56,view_type:70,view_parameter:256})}}),[y,i,j]);const{dropdownOpen:C,conversationOpen:S,newMessageOpen:w}=(0,u.Z5)(),P=e=>{S(e),C(),o()},z=b.map(((e,t)=>{const i=`${e.id||e.email||t}`,s={item:e,idx:t,onSendMessage:r,onViewConversation:P,sentHistory:v};return(0,h.jsx)(_,{...s},i)})),A=!y&&!j;return(0,h.jsxs)(d.kC,{direction:"column",children:[(0,h.jsx)(d.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,h.jsx)(d.xv,{align:"center",size:"300",weight:"bold",children:n._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,h.jsx)(d.xu,{display:"flex",height:98,justifyContent:A?"center":void 0,marginBottom:5,children:A?(0,h.jsx)(d.xu,{paddingY:2,children:(0,h.jsx)(d.$j,{accessibilityLabel:n._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,h.jsxs)(d.kC,{direction:"row",children:[(0,h.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:86,children:[(0,h.jsx)(d.xu,{height:c,marginBottom:2,width:c,children:(0,h.jsx)(d.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{w(m),C(),o()},size:"xl"})}),(0,h.jsx)(d.xv,{lineClamp:1,size:"100",children:n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),y?z:(0,h.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:86,children:[(0,h.jsx)(d.xu,{height:c,marginBottom:2,width:c,children:(0,h.jsx)(d.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:g,size:"xl"})}),(0,h.jsx)(d.xv,{lineClamp:1,size:"100",children:n._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function m(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}const v=e=>{const{size:t,name:i,textLayout:s}=e,n=`calc(${Math.sin((a=45,a*(Math.PI/180)))} * (${t}) / 2)`;var a;const o=(0,h.jsx)(d.qE,{name:i?[...i][0].toUpperCase():""});switch(s){case"bottomLeft":return(0,h.jsx)(d.xu,{"aria-label":i,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:n,paddingRight:n}},children:o});case"topLeft":return(0,h.jsx)(d.xu,{"aria-label":i,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:n,paddingRight:n}},children:o});default:return(0,h.jsx)(d.xu,{"aria-label":i,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:o})}};function j(e){const{collaborators:t,outline:i=!1,size:s="fit"}=e,{colorGray0:n,colorGray100:a}=(0,d.tv)(),o="fit"===s?"100%":32,r="fit"===s?"":32,l=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,o).map(((e,i)=>[e,t[i]]));return(0,h.jsxs)(d.xu,{color:"white",overflow:"hidden",rounding:"circle",width:o,height:r,position:"relative",dangerouslySetInlineStyle:{__style:{...i?{boxShadow:`0 0 0 2px ${n}`}:{},willChange:"transform"}},children:[(0,h.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),l.map((([e,t={name:"",src:void 0}],i)=>{const{width:s,height:n,top:o,left:r,textLayout:l}=e,{name:c,src:_}=t;return(0,h.jsxs)(d.xu,{position:"absolute",width:s,height:n,dangerouslySetInlineStyle:{__style:{top:o,left:r}},children:[null!=_?(0,h.jsx)(d.Ee,{alt:c,color:a,src:_,naturalWidth:1,naturalHeight:1,fit:"cover"}):(0,h.jsx)(v,{name:c,textLayout:l,size:n}),(0,h.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},i)}))]})}var f=i(19121),b=i(587857);function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class C extends s.Component{constructor(...e){super(...e),y(this,"state",{textValue:this.props.initialTextValue||""}),y(this,"handleSendMessage",(()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)})),y(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})}))}render(){const{onCancelDraft:e,viewerId:t}=this.props,i=this.props.recipient||{},s="conversation_share_suggestion"===i.type,a=s?(i.users||[]).filter((e=>e.id!==t)):[];return(0,h.jsxs)(d.xu,{paddingX:4,width:360,children:[(0,h.jsxs)(d.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,h.jsx)(d.xu,{height:48,paddingX:1,width:56,children:s?(0,h.jsx)(j,{collaborators:a.map((e=>({name:e.full_name||e.first_name,src:e.image_large_url})))}):(0,h.jsx)(n.Z,{name:i.full_name||i.email||" ",src:i.image_large_url})}),(0,h.jsxs)(d.xu,{flex:"grow",marginStart:1,children:[(0,h.jsx)(d.xv,{weight:"bold",children:s?a.map((e=>e.first_name||e.full_name)).join(", "):i.full_name||i.email}),(0,h.jsx)(d.xv,{color:"subtle",size:"100",children:s||i.username?i.username:this.props.i18n._('Invite by email', 'shareSheet.SendObjectDraft.inviteByEmailSubheader', 'Subheader shown when username is not avaible')})]}),(0,h.jsx)(d.hU,{accessibilityLabel:this.props.i18n._('Cancel share to user', 'shareSheet.SendObjectDraft.cancelButton', 'Accessibility label for close button'),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})]}),(0,h.jsxs)(d.xu,{children:[(0,h.jsx)(d.xu,{paddingX:1,children:(0,h.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendObjectDraft.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""})}),(0,h.jsx)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,h.jsx)(d.zx,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._('Send', 'shareSheet.SendObjectDraft.sendButton', 'Button that sends out to email'),type:"submit"})})]})]})}}function S(e){const t=(0,a.ZP)(),i=(0,f.Z)();return(0,h.jsx)(C,{...e,viewerId:i.isAuth?i.id:"",i18n:t})}var w=i(936776);function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class z extends s.Component{constructor(...e){super(...e),P(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),P(this,"handleSendEmail",((e,t)=>{if(e){const i={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(i,t)}})),P(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),P(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,inShareSheetRedesignExp:t,onCancelDraft:i}=this.props;return(0,h.jsx)(d.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:t?"arrow-back":"cancel",onClick:i,size:"sm"})}render(){const{inShareSheetRedesignExp:e,width:t}=this.props;return(0,h.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:e?2:0,width:t,color:"white",children:[(0,h.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[e&&this.renderCloseButton(),(0,h.jsx)(d.xu,{flex:"grow",marginEnd:e?8:0,children:(0,h.jsx)(d.xv,{align:e?"center":void 0,weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})}),!e&&this.renderCloseButton()]}),(0,h.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,h.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,h.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,h.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,h.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,h.jsx)(d.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,w.Z)(this.state.emailValue)})})]})]})}}function A(e){const t=(0,a.ZP)();return(0,h.jsx)(z,{...e,i18n:t})}function k({email:e,isValid:t,onClick:i,showSendEmailText:s}){const o=(0,a.ZP)(),l=t?o._('Click to send!', 'SendObject.sendToEmail.sendToSubheader', 'Subeader that indicates user to click in order to send an object'):o._('Keep typing!', 'SendObject.sendToEmail.sendToSubheader', 'Subeader that indicates user to keep typing until the email address is valid'),c=s?(0,r.nk)(o._('Email {{ email }}', 'SendObject.sendToEmail.sendToHeader', 'Header that indicates user the email address typed in the search field'),{email:e}):(0,r.nk)(o._('Invite {{ email }}', 'SendObject.sendToEmail.sendToHeader', 'Header that indicates user the search query typed in the search field'),{email:e});return(0,h.jsx)(d.xu,{marginBottom:4,children:(0,h.jsx)(d.iP,{onTap:()=>{t&&i()},children:(0,h.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(d.xu,{height:48,width:48,children:(0,h.jsx)(n.Z,{name:e})}),(0,h.jsxs)(d.xu,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[(0,h.jsx)(d.xv,{weight:"bold",size:"300",children:c}),(0,h.jsx)(d.xv,{size:"100",color:"subtle",children:l})]})]})})})}var L=i(126980),I=i(300817),E=i(155678),Z=i(941646);function O(e){const t=(0,a.ZP)(),{shouldShowViewChat:i,isSent:s,onClickSend:n,onViewConversation:o}=e;return(0,h.jsx)(d.kC,{alignItems:"stretch",justifyContent:"start",children:i?(0,h.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),o()},children:(0,h.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[(0,h.jsx)(d.xv,{color:"default",size:"200",lineClamp:1,weight:"bold",children:t._('View chat', 'SendObject.contactList.viewChatLink', 'View chat with last sent item')}),(0,h.jsx)(d.xu,{marginStart:1,children:(0,h.jsx)(d.JO,{accessibilityLabel:t._('View chat forward icon', 'SendObject.contactList.viewChatLink', 'View chat with last sent item'),color:"default",icon:"arrow-forward",size:14})})]})}):(0,h.jsx)(Z.Z,{id:s?"sharesheet-viewchat-link":"sharesheet-send-button",children:(0,h.jsx)(d.zx,{color:s?"gray":"red",disabled:s,onClick:n,size:"lg",text:s?t._('Sent', 'SendObject.LEGOSendObjectTypeahead', 'Pin is sent to current contact'):t._('Send', 'SendObject.LEGOSendObjectTypeahead', 'Send pin to current contact')})})})}function T(e){var t,i,a;const{logContextEvent:o}=(0,l.v)(),{item:r,textFieldValue:c,onSendMessage:_,onShowSendDraft:p,onViewConversation:u,sentHistory:x}=e,[g,m]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),[y,C]=(0,s.useState)(!1),S=r.id||"string"==typeof r.email&&r.email||"",w=S in x,P=""!==c,z=null!==(t=x[S])&&void 0!==t?t:"",A=(0,f.Z)().id||"",k="conversation_share_suggestion"===r.type,Z=k?(r.users||[]).filter((e=>e.id!==A)):[],T=r.debug_reason&&r.debug_reason.readable_reason;let B="";"string"!=typeof r.full_name||r.full_name.match(/^\s*$/)?"string"!=typeof r.email||r.email.match(/^\s*$/)||(B=r.email):B=r.full_name;return g?(0,h.jsx)(d.xu,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:(0,h.jsx)(I.Z,{identifier:null!==(i=r.id)&&void 0!==i?i:r.email,onUndoHide:()=>m(!1),component:13029,element:11918,isGroupChat:Z.length>1})}):(0,h.jsxs)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,h.jsx)(d.iP,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),p(r)},children:(0,h.jsx)(d.Zb,{onMouseEnter:()=>{b(!(P||y&&w))},onMouseLeave:()=>b(!1),children:(0,h.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(d.xu,{height:48,width:48,children:k?(0,h.jsx)(j,{collaborators:Z.map((e=>({name:e.full_name||e.first_name,src:e.image_medium_url})))}):(0,h.jsx)(n.Z,{accessibilityLabel:"",name:B,src:r.image_medium_url})}),(0,h.jsxs)(d.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[(0,h.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[(0,h.jsx)(d.xu,{marginBottom:1,children:(0,h.jsx)(d.xv,{color:"default",lineClamp:1,weight:"bold",children:k?Z.map((e=>e.first_name||e.full_name)).join(", "):B})}),P&&T?(0,h.jsx)(d.xv,{color:"subtle",size:"100",children:T}):"string"==typeof r.username&&(0,h.jsx)(d.xv,{color:"subtle",size:"100",children:r.username})]}),(0,h.jsxs)(d.kC,{alignItems:"center",flex:"none",justifyContent:"end",children:[v&&(0,h.jsx)(d.xu,{display:"flex",marginEnd:2,children:(0,h.jsx)(E.Z,{identifier:null!==(a=r.id)&&void 0!==a?a:r.email,onHide:()=>m(!0),component:13029,element:11917})}),(0,h.jsx)(O,{shouldShowViewChat:w,isSent:y,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:i}=e;o({event_type:101,component:13029,element:c?1044:1039,aux_data:{entered_query:c,result_index:i+1,rs:null===(t=r.debug_reason)||void 0===t?void 0:t.reason}})})(),C(!0),_(r),b(!1)},onViewConversation:()=>u(z)})]})]})]})})}),(0,h.jsx)(L.Z.Consumer,{children:e=>{var t;return e?(0,h.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:(0,h.jsx)(d.X6,{color:"shopping",size:"400",children:null===(t=r.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}function B(e){const{logContextEvent:t}=(0,l.v)(),i=(0,a.ZP)(),{onChange:n,onSendMessage:o,onShowSendDraft:r,onShowImportContacts:c,sentHistory:_,value:g,paddingX:m}=e,{resourceName:v,resourceOptions:j}=g?{resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{field_set_key:"default",term:g||"default"}}:{resourceName:"ShareSuggestionsResource",resourceOptions:{field_set_key:"default"}},{isLoaded:f}=(0,p.Z)({name:v,options:j,noCache:!0}),b=!g&&f,y=g&&f,{shareSuggestions:C}=(0,x.E)(),S=C[g]||[];(0,s.useEffect)((()=>{if(!g&&b){const e=S.length>0?7511:7512;t({event_type:e,component:56,view_type:70,view_parameter:256})}}),[b]);const{dropdownOpen:P,conversationOpen:z}=(0,u.Z5)(),A=e=>{z(e),P()},L=S.map(((e,t)=>{const i=`${t}-${g?"search":"suggestion"}`,s={item:e,idx:t,onSendMessage:o,onShowSendDraft:r,onViewConversation:A,sentHistory:_,textFieldValue:g};return(0,h.jsx)(T,{...s},i)})),I=0===S.length&&(""===g&&!b||""!==g&&!y);return(0,h.jsxs)(d.xu,{children:[(0,h.jsx)(d.xu,{display:"flex",paddingX:m,position:"relative",children:(0,h.jsx)(d.xu,{"data-test-id":"sharesheet-search-user",width:"100%",children:(0,h.jsx)(d.Um,{accessibilityLabel:i._('Search for a name or email', 'SendObject.searchbar.accesibilityLabel', 'accessible label'),id:"search",onChange:n,placeholder:i._('Name or email', 'SendObject.searchbar.placeholder', 'Placeholder text on search bar for searching contacts on sharesheet'),size:"lg",value:g})})}),(0,h.jsx)(d.xu,{height:185,marginBottom:4,marginTop:2,zIndex:new d.Ry(1e3),dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden"}},children:(0,h.jsxs)(d.xu,{paddingX:m,children:[(0,h.jsx)(d.xu,{paddingY:I?2:0,children:(0,h.jsx)(d.$j,{accessibilityLabel:i._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:I})}),(0,h.jsxs)(d.xu,{children:[L,g&&(0,h.jsxs)(d.xu,{children:[(0,h.jsx)(d.Zb,{children:(0,h.jsx)(k,{email:g,isValid:(0,w.Z)(g),onClick:()=>r({email:g,full_name:g}),showSendEmailText:!1})}),!I&&(0,h.jsx)(d.xu,{width:"100%",children:(0,h.jsx)(d.Zb,{children:(0,h.jsx)(d.iP,{onTap:c,children:(0,h.jsxs)(d.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,h.jsx)(d.xu,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:(0,h.jsx)(d.JO,{accessibilityLabel:"people",color:"default",icon:"people",size:24})}),(0,h.jsx)(d.xu,{paddingX:3,children:(0,h.jsx)(d.xv,{weight:"bold",children:i._('Choose from contacts', 'SendObject.typeahead.contactHeader', 'Header that indicates user to choose from contact list')})})]})})})})]})]})]})})]})}var D=i(567831),H=i(37587),R=i(970654),F=i(366974),M=i(107193);function U({size:e=48,iconColor:t,backgroundColor:i,grayscale:s=!1}){const n=t||(s?"#333333":"#8E8E8E"),a=i||"#EFEFEF";return(0,h.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[(0,h.jsx)("circle",{fill:a,cx:"24",cy:"24",r:"24",stroke:"none"}),(0,h.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:n,children:[(0,h.jsx)("circle",{cx:"10",cy:"10",r:"6"}),(0,h.jsx)("circle",{cx:"17",cy:"3",r:"2"}),(0,h.jsx)("circle",{cx:"17",cy:"17",r:"2"}),(0,h.jsx)("circle",{cx:"19",cy:"10",r:"1"}),(0,h.jsx)("circle",{cx:"10",cy:"19",r:"1"}),(0,h.jsx)("circle",{cx:"1",cy:"10",r:"1"}),(0,h.jsx)("circle",{cx:"10",cy:"1",r:"1"}),(0,h.jsx)("circle",{cx:"3",cy:"17",r:"2"}),(0,h.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var W=i(189689),V=i(660467);function G({sharedObject:e,onCreatePincodeClick:t,iconColor:i,iconSize:s,iconWrapperWidth:n,backgroundColor:o}){const r=(0,a.ZP)(),l=(0,f.Z)();return t&&[b.d.BOARD,b.d.PINNER,b.d.USER].includes(e.type)&&l.isAuth&&(e.id===l.id||l.isEmployee)?(0,h.jsxs)(V.Z,{width:n,marginEnd:!0,children:[(0,h.jsx)(d.iP,{fullWidth:!1,onTap:t,children:(0,h.jsx)(U,{backgroundColor:o,iconColor:i,size:s})}),(0,h.jsx)(W.Z,{text:r._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var N=i(701555),$=i(713264),X=i(785851),Y=i(882463),J=i(5079),K=i(260409),q=i(925927),Q=i(385551);const ee="#EFEFEF",te="#333333";function ie({size:e=48,grayscale:t=!1}){const i=t?te:"#FFFFFF",s=t?ee:"#1877f2";return(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[(0,h.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),(0,h.jsxs)("g",{id:"surface1",children:[(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),(0,h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function se({size:e=48,grayscale:t=!1}){const i=t?te:"#FFFFFF",s=t?ee:"#0DC2FF";return(0,h.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsxs)("g",{id:"surface1",children:[(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function ne({size:e=48,grayscale:t=!1}){const i=t?te:"#FFFFFF",s=t?ee:"#25d366";return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:(0,h.jsxs)("g",{id:"surface1",children:[(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),(0,h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function ae({size:e=48,grayscale:t=!1}){const i=t?te:"#fff",s=t?ee:"#00b900";return(0,h.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),(0,h.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[(0,h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),(0,h.jsx)("path",{style:{fill:s,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}var oe=i(217468),re=i(343341),le=i(53987);function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const de="#111111",he="#EFEFEF",_e="darkGray",pe="lightGray",ue={backgroundColor:"#ffffff",border:"none",padding:0},xe=new Set(["JP","TW","TH"]),ge=new Set(["US","UK","CA","AU","DE"]),me=e=>{(0,M.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),F.Z)};class ve extends s.Component{constructor(...e){super(...e),ce(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),ce(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,i=this.getShareOptions(12);e||(Q.Z.logShareInvite(i,t),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===b.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){if(this.props.inShareSheetRedesignExp)return this.props.i18n._('Share to', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile');switch(e){case b.d.BOARD:return this.props.i18n._('Send this board', 'Sharesheet.ShareSocialBar', 'social media sharing board');case b.d.PIN:return this.props.i18n._('Send this Pin', 'Sharesheet.ShareSocialBar', 'social media sharing Pin');case b.d.PINNER:return this.props.i18n._('Send this profile', 'Sharesheet.ShareSocialBar', 'social media sharing pinner profile');default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);Q.Z.createShareInviteData(e).then((e=>{const t=e.message;if(t){const i=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+i})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,D.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!K.Z.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e?(this.openLineDialog(),t=952):"reddit"===e&&(this.openRedditDialog(),t=this.props.showRedditPinShare?12790:12791),this.props.onExternalSend&&this.props.onExternalSend(),this.props.logContextEvent({event_type:101,component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){me((()=>{Q.Z.shareFacebookInvite(this.getShareOptions(5),this.props.activateFacebookDisplayFixExp)}))}openFbMessengerDialog(){me((()=>{Q.Z.shareFbMessengerInvite(this.getShareOptions(6))}))}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(Q.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){Q.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){Q.Z.shareLineInvite(this.getShareOptions(8))}openRedditDialog(){Q.Z.shareRedditInvite(this.getShareOptions(29))}renderEmail(){const{inShareIconUpdateExperiment:e,inShareSheetRedesignExp:t}=this.props,i=t?c:48,s=t?86:72,n=t?2:0;return(0,h.jsxs)(V.Z,{width:s,marginEnd:!t,children:[(0,h.jsx)(d.xu,{display:"inlineBlock",marginBottom:n,children:(0,h.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email"),style:ue,children:e?(0,h.jsx)(N.Z,{size:i}):(0,h.jsx)(R.Z,{backgroundColor:he,iconColor:de,size:i})})}),(0,h.jsx)(W.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,inShareIconUpdateExperiment:t,inShareSheetRedesignExp:i,onCreatePincodeClick:n,sharedObject:a,showLineShare:o}=this.props,r=i?c:48,l=i?86:72,_=i?2:0;return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsxs)(d.kC,{alignItems:i?void 0:"stretch",justifyContent:i?"start":"around",children:[o&&(0,h.jsxs)(V.Z,{width:l,marginEnd:!i,children:[(0,h.jsx)(d.xu,{marginBottom:_,children:(0,h.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line"),style:ue,children:t?(0,h.jsx)(X.Z,{size:r}):(0,h.jsx)(ae,{size:r})})}),(0,h.jsx)(W.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,h.jsxs)(V.Z,{width:l,marginEnd:!i,children:[(0,h.jsx)(d.xu,{marginBottom:_,children:(0,h.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ue,tabIndex:"-1",children:(0,h.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:t?(0,h.jsx)(J.Z,{size:r}):(0,h.jsx)(ne,{size:r})})})}),(0,h.jsx)(W.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),(0,h.jsxs)(V.Z,{width:l,marginEnd:!i,children:[(0,h.jsx)(d.xu,{marginBottom:_,children:(0,h.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook"),style:ue,children:t?(0,h.jsx)($.Z,{size:r}):(0,h.jsx)(ie,{size:r})})}),(0,h.jsx)(W.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,h.jsxs)(V.Z,{width:l,marginEnd:!i&&!o,children:[(0,h.jsx)(d.xu,{marginBottom:_,children:(0,h.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter"),style:ue,"data-test-id":"twitter-share-icon",children:t?(0,h.jsx)(Y.Z,{size:r}):(0,h.jsx)(se,{size:r})})}),(0,h.jsx)(W.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),i?(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(G,{backgroundColor:he,iconColor:de,iconSize:r,iconWrapperWidth:l,onCreatePincodeClick:n,sharedObject:a}),(0,h.jsx)(H.default,{sharedObject:a,backgroundColor:pe,iconColor:_e,iconSize:r,iconWrapperWidth:l,marginEnd:o,isCloseupActionBar:!1,inShareIconUpdateExperiment:t,spaceBelowIcon:_},"copylink"),this.renderEmail()]}):!o&&(0,h.jsx)(V.Z,{width:l,marginEnd:!1,children:this.renderEmail()})]}),!i&&(0,h.jsxs)(d.xu,{display:"flex",paddingY:4,children:[(0,h.jsx)(G,{backgroundColor:he,iconColor:de,iconSize:r,iconWrapperWidth:l,onCreatePincodeClick:n,sharedObject:a}),(0,h.jsx)(H.default,{sharedObject:a,backgroundColor:pe,iconColor:_e,iconSize:r,iconWrapperWidth:l,marginEnd:o,isCloseupActionBar:!1,inShareIconUpdateExperiment:t,spaceBelowIcon:_},"copylink"),o&&this.renderEmail()]})]})}render(){const{inShareSheetRedesignExp:e,sharedObject:t,paddingX:i}=this.props;return(0,h.jsxs)(d.xu,{paddingX:i,children:[(0,h.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,h.jsx)(d.xv,{size:"300",weight:"bold",children:this.getSendDisplayText(t.type)})}),(0,h.jsx)(d.xu,{height:e?98:void 0,paddingX:e?0:2,children:this.renderShareOptions()})]})}}function je(e){const{logContextEvent:t}=(0,l.v)(),i=(0,a.ZP)(),s=(0,f.Z)(),n=(0,q.TH)(),o=s.isAuth&&xe.has(s.country),r=s.isAuth&&ge.has(s.country),c=r&&(0,le.uM)(n),d=(0,oe.t)("web_auth_pin_reddit_share"),_=r&&(0,le.am)(n),p=(0,oe.t)("web_auth_board_reddit_share"),u=(0,oe.t)("web_auth_fb_display_fix"),x=(0,oe.t)("web_mweb_share_icon_update"),g=(0,oe.t)("unauth_web_mweb_share_icon_update_v2"),m=(s.isAuth?x:g)().anyEnabled;return(0,h.jsx)(ve,{...e,toastManagerContext:(0,re.F9)(),viewer:(0,f.Z)(),showLineShare:o,i18n:i,showRedditPinShare:c,showRedditBoardShare:_,activateWebRedditPinShareExp:d,activateWebRedditBoardShareExp:p,activateFacebookDisplayFixExp:u,inShareIconUpdateExperiment:m,logContextEvent:t})}var fe=i(172071),be=i(6637),ye=i(499128),Ce=i(758523);const Se=(e,t)=>{const i={};return e.forEach((e=>{i[e]=t})),i};function we(e){const{logContextEvent:t}=(0,l.v)(),i=(0,a.ZP)(),n=(0,oe.t)("web_share_sheet_redesign")().anyEnabled,[o,r]=(0,s.useState)(!1),[c,_]=(0,s.useState)(null),[p,x]=(0,s.useState)({}),[v,j]=(0,s.useState)(""),[y]=(0,s.useState)(((e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"")(e.sendType,i)),{showOneToast:C}=(0,re.F9)(),{surface:w}=(0,Ce.$)(),P=(0,f.Z)(),{conversationCreate:z}=(0,u.Z5)(),k=(0,u.NG)(),L=(i,s)=>{r(!1),e.onMessageSent(),((i,s)=>{const{sharedObject:n}=e,a=n.id;fe.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:a,aux_data:{conversation_id:i,pin_id:s}})})(i,s)},I=e=>{fe.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&C((({hideToast:e})=>(0,h.jsx)(ye.ZP,{variant:"error",duration:5e3,onHide:e,text:t})))},E=async(t,i,s)=>{const{sharedObject:n,sendType:a}=e,o=n.id,r={emails:i,user_ids:t,text:s,source:m(w)};r[a]=o;const l=be.ZP.create("ConversationsResource",r);try{const e=await l.callCreate(),s=e&&e.resource_response.data;z(s),L(s.id,"pin"===a?o:null),t.length>0?x({...p,...Se(t,s.id)}):x({...p,...Se(i,s.id)})}catch(c){I(c)}},Z=(i,s)=>{"conversation_share_suggestion"===i.type?((t,i,s)=>{const{sharedObject:n,sendType:a}=e;let o;switch(a){case"pin":o="pinId";break;case"board":o="boardId";break;case"did_it":o="didItId";break;case"user":case"pinner":o="userId"}const r=o?k(t,{text:i,[o]:n.id,source:m(w)},void 0,P):void 0;r&&r.then((()=>{L(t,"pin"===a?n.id:null),x({...p,[t]:t})})).catch((e=>{I(e)}))})(i.id,s):"user_share_suggestion"===i.type&&i.username?E([i.id],[],s):E([],[i.email],s),t({event_type:101,component:56,element:276})},O=(t,i)=>{e.sendType!==b.d.SEARCH||i?Z(t,i):be.ZP.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const i=e.message;Z(t,i)}))},T=()=>{r(!1),_(null)},{onCreatePincodeClick:D,onShowImport:H,sendType:R,sharedObject:F,onHide:M,onExternalSend:U}=e,W="email"===c?(0,h.jsx)(A,{initialTextValue:y,inShareSheetRedesignExp:n,objectId:F.id,objectType:R,onCancelDraft:T,onHide:M,onSendMessage:O,width:n?540:360}):(0,h.jsx)(S,{initialTextValue:y,objectId:F.id,objectType:R,onCancelDraft:T,onHide:M,onSendMessage:O,recipient:"object"==typeof c?c:void 0});return o?W:(0,h.jsxs)(d.xu,{color:"white",paddingX:n?3:void 0,paddingY:n?2:void 0,width:n?540:void 0,children:[(0,h.jsx)(je,{inShareSheetRedesignExp:n,onCreatePincodeClick:D,onEmailIconClick:()=>{r(!0),_("email")},onExternalSend:U,onHide:M,paddingX:n?0:4,sharedObject:F}),(0,h.jsx)(d.xu,{children:n?(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(d.xu,{marginTop:1,paddingX:3,paddingY:3,children:(0,h.jsx)(d.iz,{})}),(0,h.jsx)(g,{onHide:M,onSendMessage:O,onShowImportContacts:H,pinId:"pin"===R?F.id:"",sentHistory:p})]}):(0,h.jsx)(B,{onChange:({value:e})=>{j(e),t({event_type:4113,component:13029,element:1043})},onHide:M,onSendMessage:O,onShowImportContacts:H,onShowSendDraft:e=>{r(!0),_(e),j("")},paddingX:n?0:4,sentHistory:p,value:v})})]})}var Pe=i(622600);const ze=["facebook","google"];function Ae(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function ke(e,t,i){return"facebook"===e?i._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function Le({onBack:e}){const t=(0,a.ZP)(),i=(0,f.Z)(),s=i.isAuth?i.email:null,n=ze.filter((e=>!i.isAuth||!1===i.socialNetwork[e].connected));return(0,h.jsx)(d.xu,{paddingX:1,paddingY:2,children:(0,h.jsxs)(d.kC,{gap:2,direction:"column",children:[(0,h.jsxs)(d.kC,{gap:2,alignItems:"center",children:[(0,h.jsx)(d.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e}),(0,h.jsx)(d.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,h.jsx)(d.kC,{direction:"column",gap:4,children:n.map((e=>(0,h.jsx)(d.xu,{paddingX:2,children:(0,h.jsxs)(d.iP,{onTap:()=>function(e,t){Pe.Z.instance().handleConnect(e,!0,{},t)}(e,t),children:[(0,h.jsx)(d.xv,{size:"200",children:Ae(e,t)}),(0,h.jsx)(d.xv,{size:"200",children:ke(e,s,t)})]})},e)))})]})})}function Ie({onCreatePincodeClick:e,onExternalSend:t,onHide:i,sendType:n,sharedObject:a,viewType:r,viewParameter:c}){const{logContextEvent:_}=(0,l.v)(),[p,u]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1);(0,s.useEffect)((()=>(_({event_type:7120,object_id_str:a.id,view_type:r,view_parameter:c}),()=>{_({event_type:7121,object_id_str:a.id,view_type:r,view_parameter:c});_({event_type:x?7493:7492,view_type:r,view_parameter:c})})),[]);const m=()=>{u(!0)},v=()=>{u(!1)},j=()=>{g(!0)};return p?(0,h.jsx)(Le,{onBack:v}):(0,h.jsx)(d.xu,{overflow:"hidden",zIndex:new d.Ry(o.fe-1),color:"white",children:(0,h.jsx)(we,{onCreatePincodeClick:e,onHide:i,onShowImport:m,onMessageSent:j,onExternalSend:t,sendType:n,sharedObject:a})})}},189689:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(207112),n=i(883119),a=i(785893);const o=({text:e})=>(0,a.jsx)(n.xv,{align:"center",size:"100",children:(0,a.jsx)(s.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},660467:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(883119),n=i(785893);const a=({width:e,marginEnd:t,children:i})=>(0,n.jsx)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,children:i})},126980:(e,t,i)=>{i.d(t,{Z:()=>s});const s=(0,i(667294).createContext)(!1)},935879:(e,t,i)=>{i.d(t,{Z:()=>s});const s=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},612511:(e,t,i)=>{i.d(t,{Jg:()=>a,ZP:()=>o,c5:()=>r});var s=i(172071);const n=.01,a=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function o(e){return new Promise(((t,i)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const s=document.createElement("script");s.src=e,s.async=!0,s.addEventListener("load",t),s.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(s)}))}function r(e,t=a.OTHER,i=!1){const o=i?"web":"mweb";return new Promise(((i,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===a.GPLUS_ONE)if(window.gapi)i();else{const t=setInterval((()=>{window.gapi||20===e?(clearInterval(t),i()):(e+=1,s.Z.increment(`${o}.loadScript.gplus_one.tries_${e}`,n))}),100)}else if(t===a.FACEBOOK)if(window.FB)i();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,s.Z.increment(`${o}.loadScript.facebook.tries_${e}`,n))}),100)}else if(t===a.GSI)if(window.google)i();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,s.Z.increment(`${o}.loadScript.gsi.tries_${e}`,n))}),100)}else i()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",i),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}}))}},701555:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},713264:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,s.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},785851:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,s.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,s.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},882463:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,s.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},5079:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},936776:(e,t,i)=>{i.d(t,{Z:()=>n});const s=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,n=e=>s.test(e)},207112:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(667294),n=i(883119),a=i(785893);class o extends s.Component{constructor(e){var t,i,n;super(e),n={manualTruncate:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.ref=(0,s.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,s=this.ref&&this.ref.current;if(!s)return;const n=void 0===s.textContent?"innerText":"textContent",a=s[n];("boolean"!=typeof t.spaces||t.spaces?a.split(" "):a).length<2?this.setState({manualTruncate:!0}):i.e(14118).then(i.bind(i,448433)).then((({default:i})=>{i(s,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:i=!1}=this.props,{manualTruncate:s}=this.state,o={maxWidth:e,maxHeight:t},r=i?{display:"inline",...o}:{...o};return s?(0,a.jsx)(n.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:r},ref:this.ref,children:this.props.children}):(0,a.jsx)(n.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:r},children:this.props.children})}}const r=o},758523:(e,t,i)=>{i.d(t,{$:()=>a,B:()=>n});var s=i(425288);const{Provider:n,useHook:a}=(0,s.Z)("SurfaceContext",{surface:"Unknown"})},655747:(e,t,i)=>{i.d(t,{Z:()=>c,j:()=>l});var s=i(898781),n=i(883119),a=i(217468),o=i(349700),r=i(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,isPromoted:t,sponsorName:i,sponsorshipStatus:c,textWeight:d}){const h=(0,s.ZP)(),_=(0,a.t)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled,p=(0,a.t)("web_remove_paid_partnership_in_rejected_state")().anyEnabled;let u;t?u=(0,o.nk)(h._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:i}):c||0===c?i&&!l.includes(c)?u=(0,o.nk)(h._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:i}):p&&2===c||(u=h._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(u=h._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const x=_&&!t?"Ad  ":"";return(0,r.jsxs)(n.xv,{inline:!0,size:"200",weight:d,children:[x,u]})}},811403:(e,t,i)=>{function s(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function n(e,t,i,s,n){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:i,url:s,localPinId:n}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}i.d(t,{Gb:()=>a,Ur:()=>n,yR:()=>s})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/58150-2890dbdf341f1a33.mjs.map